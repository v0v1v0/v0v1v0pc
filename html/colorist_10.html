<div class="container">

<table style="width: 100%;"><tr>
<td>map_multiples</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualize multiple distributions in a series of maps</h2>

<h3>Description</h3>

<p>This function enables visualization of distributional
information in a series of small multiples by combining distribution
metrics and an HCL color palette.
</p>


<h3>Usage</h3>

<pre><code class="language-R">map_multiples(
  x,
  palette,
  ncol,
  lambda_i = 0,
  labels = NULL,
  return_type = c("plot", "df")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>RasterStack of distributions processed by <code>metrics_pull()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>data frame containing an HCL color palette generated using
<code>palette_timecycle()</code>, <code>palette_timeline()</code>, or <code>palette_set()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>integer specifying the number of columns in the grid of plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda_i</code></td>
<td>
<p>number that allows visual tuning of intensity values via the
<code>scales::modulus_trans()</code> function (see Details). Negative numbers increase
the opacity of cells with low intensity values. Positive numbers decrease
the opacity of cells with low intensity values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>character vector of layer labels for each plot. The default is
to not show labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_type</code></td>
<td>
<p>character specifying whether the function should return a
<code>ggplot2</code> plot object ("plot") or data frame ("df"). The default is to
return a <code>ggplot2</code> object.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>lambda_i</code> parameter allows for visual tuning of intensity
values with unusual distributions. For example, distributions often
contain highly skewed intensity values because individuals spend a vast
majority of their time within a relatively small area or because
populations are relatively dense during some seasons and relatively
dispersed during others. This can make visualizing distributions a
challenge. The <code>lambda_i</code> parameter transforms intensity values via the
<code>scales::modulus_trans()</code> function, allowing users to adjust the relative
visual weight of high and low intensity values.
</p>


<h3>Value</h3>

<p>By default, or when <code>return_type = "plot"</code>, the function returns a
map that is a <code>ggplot2</code> plot object.
</p>
<p>When <code>return_type = "df"</code>, the function returns a data frame containing
eight columns:
</p>

<ul>
<li> <p><code>x</code>,<code>y</code>: coordinates of raster cell centers.
</p>
</li>
<li> <p><code>cell_number</code>: integer indicating the cell number.
</p>
</li>
<li> <p><code>layer_cell</code>: a unique ID for the cell within the layer in the format
<code>"layer-cell_number"</code>.
</p>
</li>
<li> <p><code>intensity</code>: maximum cell value across layers divided by the maximum
value across all layers and cells; mapped to alpha level.
</p>
</li>
<li> <p><code>specificity</code>: the degree to which intensity values are unevenly
distributed across layers; mapped to chroma.
</p>
</li>
<li> <p><code>layer_id</code>: the identity of the raster layer from which an intensity
value was pulled; mapped to hue.
</p>
</li>
<li> <p><code>color</code>: the hexadecimal color associated with the given layer and
specificity values.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other map: 
<code>map_single()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># load fisher data
data("fisher_ud")

# prepare data
r &lt;- metrics_pull(fisher_ud)

# generate palette
pal &lt;- palette_timeline(fisher_ud)

# produce maps, adjusting lambda_i to make areas that were used less
# intensively more conspicuous
map_multiples(r, pal, lambda_i = -5, labels = paste("night", 1:9))
</code></pre>


</div>