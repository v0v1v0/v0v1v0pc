<div class="container">

<table style="width: 100%;"><tr>
<td>sim_power_ccc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Power and confidence interval range</h2>

<h3>Description</h3>

<p>Power and confidence interval range obtained by simulation
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim_power_ccc(
  n = 30,
  nrep = 2,
  nsim = 300,
  r0 = 0,
  alpha = 0.05,
  model = NULL,
  b = NULL,
  g = NULL,
  mu = 0,
  sa = 1,
  sab = 0,
  sag = 0,
  bg = NULL,
  se = 1,
  extra.info = TRUE,
  vecD = NULL,
  covar = NULL,
  int = FALSE,
  rho = 0,
  cl = 0.95,
  control.lme = list(),
  transf = "F2",
  future_seed = TRUE,
  workers = 15
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Integer. Number of subjects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrep</code></td>
<td>
<p>Integer. Number of replicates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsim</code></td>
<td>
<p>Integer. Number of data sets simulated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r0</code></td>
<td>
<p>Integer. Null hypothesis value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Type-I error rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>object of class <code>lme</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>Vector. Method fixed effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>Vector. Time fixed effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>Integer. Overall mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sa</code></td>
<td>
<p>Integer. Standard deviation of subject's random effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sab</code></td>
<td>
<p>Integer. Standard deviation of subject-method interaction's random effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sag</code></td>
<td>
<p>Integer. Standard deviation of subject-time interaction's random effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>Vector. Method-time interaction's fixed effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>Integer. Standard deviation of random error effect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>extra.info</code></td>
<td>
<p>Logical. Should the information about CCC and variance components simulated be shown?  Default is set to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vecD</code></td>
<td>
<p>Vector of weights. The length of the vector must be the same as the number of repeated measures.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covar</code></td>
<td>
<p>Character vector. Name of covariates to include in the linear mixed model as fixed effects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>int</code></td>
<td>
<p>Binary indicating if the subject-method interaction has to be included in the model when analyzing the non-longitudinal setting (defaults to FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>Within subject correlation structure. A value of 0 (default option) stands for compound symmetry and 1 is used for autorregressive of order 1 structure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>Confidence level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control.lme</code></td>
<td>
<p>A list of control values for the estimation algorithm used in <code>lme</code> function. For further details see <code>lme</code> help.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transf</code></td>
<td>
<p>Character string. Whether to apply a transformation of the coefficient for inference. Valid options are: "F" for Fisher's Z-transformation; "F2" For Fisher's Z-transformation setting m=2 (default); "KG" Konishi-Gupta transformasion; "None", no transformation is applied. See *Details* for further information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>future_seed</code></td>
<td>
<p>Logical/Integer. The seed to be used for parallellization. Further details in <code>furrr_options</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>workers</code></td>
<td>
<p>Integer. Number of cores to be used for parallellization. Default is 15. Capped to number of available cores minus 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The power and the range of the confidence interval are computed using the approach suggested in Choudhary and Nagaraja (2018). Data sets are simulated by setting the fixed effects values and the standard deviation of the random effects. The CCC and its standard error are estimated in each data set, along with its 95% confidence interval and the Wald test <code>Ztest</code>.
</p>


<h3>Value</h3>

<p>A data frame with the following components:
</p>

<ul>
<li> <p><code>n</code> Number of subjects
</p>
</li>
<li> <p><code>reps</code> Number of replicates
</p>
</li>
<li> <p><code>CCC</code>. Median of the CCC estimates.
</p>
</li>
<li> <p><code>Power</code>. Empirical power computed as proportion of times the null hypothesis is rejected using a type-I error rate of <code>alpha</code>.
</p>
</li>
<li> <p><code>SEICC</code>. Average of CCC standard errors.
</p>
</li>
<li> <p><code>SEZ</code>. Average of transformed CCC standard errors.
</p>
</li>
<li> <p><code>Range IC95</code>. Average of CCC confidence interval widths.
</p>
</li>
</ul>
<h3>References</h3>

<p>Choudhary, P.K. and Nagaraja, H.N. (2018). Measuring Agreement-Models, Methods, and Applications. John Wiley &amp; Sons
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Power to test the CCC is above 0.8 with 35 subjects and 4 replicates.
# Two methods, three times. Simulated CCC=0.87.
sim_pw&lt;-sim_power_ccc(n = 35, nrep=4, nsim=500, r0=0.8, b = c(-0.5,0.5), 
g=c(-0.25,0,0.25), mu = -0.25, sa = 4,sab=0.5,sag=1,
bg=c(-0.5,-0.25,0.25,-0.5,0.25,0.75),se = 1)




</code></pre>


</div>