<div class="container">

<table style="width: 100%;"><tr>
<td>subtotalArray</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the transforms from a CrunchCube</h2>

<h3>Description</h3>

<p><code>applyTransforms</code> calculates transforms (e.g. Subtotals) on a CrunchCube.
Currently only the row transforms are supported. This is useful if you want
to use the values from the subtotals of the CrunchCube in an analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">subtotalArray(x, ...)

## S4 method for signature 'CrunchCube'
subtotalArray(x, headings = FALSE)

applyTransforms(
  x,
  array = cubeToArray(x),
  transforms_list = transforms(x),
  dims_list = dimensions(x),
  useNA = x@useNA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a CrunchCube</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to pass to <code>calcTransforms</code>, for example <code>include</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>headings</code></td>
<td>
<p>for <code>subtotalArray</code>: a logical indicating if the headings
should be included with the subtotals (default: <code>FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>array</code></td>
<td>
<p>an array to use, if not using the default array from the cube
itself. (Default: not used, pulls an array from the cube directly)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transforms_list</code></td>
<td>
<p>list of transforms to be applied (default:
<code>transforms(x)</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dims_list</code></td>
<td>
<p>list of dimensions that correspond to <code>array</code> (default:
<code>dimensions(x)</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useNA</code></td>
<td>
<p><code>useNA</code> parameter from the CrunchCube to use (default:
<code>x@useNA</code>)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Including the <code>include</code> argument allows you to specify which parts of the
CrunchCube to return. The options can be any of the following: "cube_cells"
for the untransformed values from the cube itself, "subtotals" for the
subtotal insertions, and "headings" for any additional headings. Any
combination of these can be given, by default all will be given.
</p>
<p><code>subtotalArray(cube)</code> is a convenience function that is equivalent to
<code>applyTransforms(cube, include = c("subtotals"))</code>
</p>


<h3>Value</h3>

<p>an array with any transformations applied
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# to get an array of just the subtotals
subtotalArray(crtabs(~opinion, ds))
#    Agree Disagree
#       47       35

# to get the full array with the subtotals but not headings
applyTransforms(crtabs(~opinion, ds), include = c("cube_cells", "subtotals"))
#             Strongly Agree             Somewhat Agree                      Agree
#                         23                         24                         47
# Neither Agree nor Disagree          Strongly Disagree                   Disagree
#                         18                         19                         35
#          Somewhat Disagree
#                         16
# to get the full array with the headings but not subtotals
applyTransforms(crtabs(~opinion, ds), include = c("cube_cells", "headings"))
#               All opinions             Strongly Agree             Somewhat Agree
#                         NA                         23                         24
# Neither Agree nor Disagree          Strongly Disagree          Somewhat Disagree
#                         18                         19                         16

## End(Not run)

</code></pre>


</div>