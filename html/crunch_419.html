<div class="container">

<table style="width: 100%;"><tr>
<td>filter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get and set slide analyses</h2>

<h3>Description</h3>

<p>Slides are composed of analyses, which are effectively <code>CrunchCubes</code> with some
additional metadata. You can get and set a slide's Analysis Catalog with the
<code>analyses</code> method, and access an individual analysis with <code>analysis</code>. There
are also helpers to get and set the components of the analysis such as <code>filter()</code>,
<code>weight()</code>, <code>transforms()</code>, <code>displaySettings()</code> and <code>vizSpecs()</code>. You can also
get the <code>CrunchCube</code> from an analysis using <code>cube()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">filter(x, ...)

filter(x) &lt;- value

## S4 replacement method for signature 'CrunchDeck,ANY'
weight(x) &lt;- value

## S4 replacement method for signature 'CrunchDeck'
filter(x) &lt;- value

## S4 replacement method for signature 'CrunchDeck,ANY'
filters(x) &lt;- value

## S4 method for signature 'CrunchAnalysisSlide'
transforms(x)

## S4 method for signature 'AnalysisCatalog'
transforms(x)

## S4 method for signature 'Analysis'
transforms(x)

## S4 replacement method for signature 'CrunchAnalysisSlide,ANY'
transforms(x) &lt;- value

## S4 replacement method for signature 'AnalysisCatalog,ANY'
transforms(x) &lt;- value

## S4 replacement method for signature 'Analysis,ANY'
transforms(x) &lt;- value

analyses(x)

analysis(x)

analysis(x) &lt;- value

query(x) &lt;- value

cube(x)

cubes(x)

displaySettings(x)

displaySettings(x) &lt;- value

vizSpecs(x)

vizSpecs(x) &lt;- value

## S4 method for signature 'CrunchSlide'
type(x)

## S4 method for signature 'CrunchAnalysisSlide'
analyses(x)

## S4 method for signature 'CrunchAnalysisSlide'
analysis(x)

## S4 replacement method for signature 'CrunchAnalysisSlide,formula'
analysis(x) &lt;- value

## S4 replacement method for signature 'CrunchAnalysisSlide,Analysis'
analysis(x) &lt;- value

## S4 replacement method for signature 'CrunchAnalysisSlide,list'
analysis(x) &lt;- value

## S4 method for signature 'CrunchAnalysisSlide'
filter(x, ...)

## S4 method for signature 'CrunchAnalysisSlide'
filters(x)

## S4 replacement method for signature 'CrunchAnalysisSlide,ANY'
filters(x) &lt;- value

## S4 replacement method for signature 'CrunchAnalysisSlide,ANY'
query(x) &lt;- value

## S4 method for signature 'CrunchAnalysisSlide'
cubes(x)

## S4 method for signature 'CrunchAnalysisSlide'
cube(x)

## S4 method for signature 'CrunchAnalysisSlide'
displaySettings(x)

## S4 replacement method for signature 'CrunchAnalysisSlide,ANY'
displaySettings(x) &lt;- value

## S4 method for signature 'CrunchAnalysisSlide'
vizSpecs(x)

## S4 replacement method for signature 'CrunchAnalysisSlide,ANY'
vizSpecs(x) &lt;- value

## S4 method for signature 'AnalysisCatalog'
cubes(x)

## S4 method for signature 'AnalysisCatalog'
displaySettings(x)

## S4 replacement method for signature 'AnalysisCatalog,list'
displaySettings(x) &lt;- value

## S4 method for signature 'AnalysisCatalog'
vizSpecs(x)

## S4 replacement method for signature 'AnalysisCatalog,list'
vizSpecs(x) &lt;- value

## S4 replacement method for signature 'Analysis,formula'
query(x) &lt;- value

formulaToSlideQuery(query, dataset)

## S4 method for signature 'Analysis'
cube(x)

## S4 method for signature 'Analysis'
displaySettings(x)

## S4 replacement method for signature 'Analysis,ANY'
displaySettings(x) &lt;- value

## S4 method for signature 'Analysis'
vizSpecs(x)

## S4 replacement method for signature 'Analysis,ANY'
vizSpecs(x) &lt;- value

## S4 method for signature 'Analysis'
filter(x, ...)

## S4 method for signature 'Analysis'
filters(x)

## S4 method for signature 'ANY'
filter(x, ...)

## S4 replacement method for signature 'CrunchAnalysisSlide'
filter(x) &lt;- value

## S4 replacement method for signature 'Analysis'
filter(x) &lt;- value

## S4 replacement method for signature 'Analysis,CrunchLogicalExpr'
filters(x) &lt;- value

## S4 replacement method for signature 'Analysis,CrunchFilter'
filters(x) &lt;- value

## S4 replacement method for signature 'Analysis,'NULL''
filters(x) &lt;- value

## S4 replacement method for signature 'Analysis,list'
filters(x) &lt;- value

slideQueryEnv(weight, filter)

## S4 method for signature 'CrunchDeck'
cubes(x)

## S4 method for signature 'CrunchAnalysisSlide'
weight(x)

## S4 replacement method for signature 'CrunchAnalysisSlide,ANY'
weight(x) &lt;- value

## S4 method for signature 'Analysis'
weight(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>CrunchSlide</code>, <code>AnalysisCatalog</code>, or <code>Analysis</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>ignored</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>for the setter, an object to set it</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>For <code>formulaToSlideQuery()</code>, a formula that specifies the query, as in
<code>newSlide()</code>. See Details of <code>crtabs()</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataset</code></td>
<td>
<p>For <code>formulaToSlideQuery()</code>, a <code>CrunchDataset</code> that the variables in
<code>query</code> refer to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>For <code>slideQueryEnv()</code> a crunch variable to use as a weight or <code>NULL</code>
to indicate no weight should be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>for <code>slideQueryEnv()</code>, a <code>CrunchFilter</code> or <code>CrunchExpression</code> to filter
the slide.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For more complex objects like <code>displaySettings()</code>, <code>vizSpecs()</code> and <code>transforms()</code>,
the <a href="https://crunch.io/api/reference/#patch-/datasets/-dataset_id-/decks/-deck_id-/slides/-slide_id-/analyses/-analysis_id-/">API documentation</a>
provides more details.
</p>
<p>Advanced users of the API can assign a list to  <code style="white-space: pre;">⁠analysis&lt;-⁠</code> to specify settings
on the analyses that are not otherwise available in <code>rcrunch</code>. The helpers
<code>formulaToSlideQuery()</code> and <code>slideQueryEnv()</code> help you create objects for the
<code>query</code> and <code>query_environment</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Examples of setting analysis details (in general these setters work on
# the slide, analysis catalog and analysis, but for brevity the examples only
# show on the slide)

# Change the filter
filters(slide) &lt;- NULL # to remove a filter
filters(slide) &lt;- filters(ds)[["My filter"]]
filters(slide) &lt;- list( # Can set multiple filter
    filters(ds)[["My filter"]],
    ds$age_grp == "18-35"
)
filters(deck) &lt;- filters(ds)[["My filter"]] # Can set the same filter on a whole deck too

# Change the weight
weight(slide) &lt;- NULL # to remove
weight(slide) &lt;- ds$weight
weight(deck) &lt;- ds$weight # Can set the same weight on a whole deck too

# Change the transforms
transforms(slide) &lt;- list(rows_dimension = makeDimTransform(hide = "Neutral"))

# Change the displaySettings
displaySettings(slide) &lt;- list(vizType = "groupedBarPlot")

# Change the vizSpecs
# viz_specs can get quite long, see
# https://crunch.io/api/reference/#post-/datasets/-dataset_id-/decks/-deck_id-/slides/
vizSpecs(slide) &lt;- viz_specs

# Change the query
#' query(slide) &lt;- ~ cyl + wt

## End(Not run)
</code></pre>


</div>