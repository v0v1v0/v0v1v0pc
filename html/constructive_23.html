<div class="container">

<table style="width: 100%;"><tr>
<td>construct_diff</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Display diff of object definitions</h2>

<h3>Description</h3>

<p>This calls <code>construct()</code> on two objects and compares the output using
<code>diffobj::diffChr()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">construct_diff(
  target,
  current,
  ...,
  data = NULL,
  pipe = NULL,
  check = TRUE,
  compare = compare_options(),
  one_liner = FALSE,
  template = getOption("constructive_opts_template"),
  classes = NULL,
  mode = c("sidebyside", "auto", "unified", "context"),
  interactive = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>the reference object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>current</code></td>
<td>
<p>the object being compared to <code>target</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Constructive options built with the <code style="white-space: pre;">⁠opts_*()⁠</code> family of functions. See the "Constructive options"
section below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Named list or environment of objects we want to detect and mention by name (as opposed to
deparsing them further). Can also contain unnamed nested lists, environments, or
package names, in the latter case package exports and datasets will be considered.
In case of conflict, the last provided name is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pipe</code></td>
<td>
<p>Which pipe to use, either <code>"base"</code> or <code>"magrittr"</code>.
Defaults to <code>"base"</code> for R &gt;= 4.2, otherwise to <code>"magrittr"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check</code></td>
<td>
<p>Boolean. Whether to check if the created code reproduces the object
using <code>waldo::compare()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare</code></td>
<td>
<p>Parameters passed to <code>waldo::compare()</code>, built with <code>compare_options()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>one_liner</code></td>
<td>
<p>Boolean. Whether to collapse the output to a single line of code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>template</code></td>
<td>
<p>A list of constructive options built with <code style="white-space: pre;">⁠opts_*()⁠</code> functions,
they will be overriden by <code>...</code>. Use it to set a default
behavior for <code>{constructive}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classes</code></td>
<td>
<p>A character vector of classes for which to use idiomatic
constructors when available, we can provide a package instead of all its
classes, in the "{pkg}" form, and we can use a minus sign (inside the quotes)
to exclude rather than include. By default we use idiomatic constructors
whenever possible. The special values <code>"*none*"</code> and <code>"*base*"</code> can be used
to restrict the idiomatic construction to the objects. See <code>construct_dput()</code>
and <code>construct_base()</code> for wrappers around this feature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode, interactive</code></td>
<td>
<p>passed to <code>diffobj::diffChr()</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns <code>NULL</code> invisibly, called for side effects
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# some object print the same though they're different
# `construct_diff()` shows how they differ :
df1 &lt;- data.frame(a=1, b = "x")
df2 &lt;- data.frame(a=1L, b = "x", stringsAsFactors = TRUE)
attr(df2, "some_attribute") &lt;- "a value"
df1
df2
construct_diff(df1, df2)


# Those are made easy to compare
construct_diff(substr, substring)
construct_diff(month.abb, month.name)

# more examples borrowed from {waldo} package
construct_diff(c("a", "b", "c"), c("a", "B", "c"))
construct_diff(c("X", letters), c(letters, "X"))
construct_diff(list(factor("x")), list(1L))
construct_diff(df1, df2)
x &lt;- list(a = list(b = list(c = list(structure(1, e = 1)))))
y &lt;- list(a = list(b = list(c = list(structure(1, e = "a")))))
construct_diff(x, y)

## End(Not run)
</code></pre>


</div>