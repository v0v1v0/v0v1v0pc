<div class="container">

<table style="width: 100%;"><tr>
<td>ctmaInit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ctmaInit</h2>

<h3>Description</h3>

<p>Fits ctsem models to each primary study in the supplied list of primary studies prepared by <code>ctmaPrep</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ctmaInit(
  activateRPB = FALSE,
  activeDirectory = NULL,
  binaries = NULL,
  chains = NULL,
  checkSingleStudyResults = FALSE,
  cint = 0,
  coresToUse = c(2),
  CoTiMAStanctArgs = NULL,
  customPar = FALSE,
  diff = NULL,
  digits = 4,
  doPar = 1,
  drift = NULL,
  experimental = FALSE,
  finishsamples = NULL,
  fit = TRUE,
  indVarying = FALSE,
  indVaryingT0 = NULL,
  iter = NULL,
  lambda = NULL,
  loadSingleStudyModelFit = c(),
  manifestMeans = 0,
  manifestVars = NULL,
  n.latent = NULL,
  n.manifest = 0,
  optimize = TRUE,
  primaryStudies = NULL,
  priors = FALSE,
  randomIntercepts = FALSE,
  sameInitialTimes = FALSE,
  saveRawData = list(),
  saveSingleStudyModelFit = c(),
  scaleTI = NULL,
  scaleTime = NULL,
  silentOverwrite = FALSE,
  T0means = 0,
  T0var = "auto",
  useSV = FALSE,
  verbose = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>activateRPB</code></td>
<td>
<p>set to TRUE to receive push messages with 'CoTiMA' notifications on your phone</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>activeDirectory</code></td>
<td>
<p>defines another active directory than the one used in <code>ctmaPrep</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binaries</code></td>
<td>
<p>which manifest is a binary. Still experimental</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chains</code></td>
<td>
<p>number of chains to sample, during HMC or post-optimization importance sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkSingleStudyResults</code></td>
<td>
<p>Displays estimates from single study ctsem models and waits for user input to continue. Useful to check estimates before they are saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cint</code></td>
<td>
<p>default 'auto' (= 0). Are set free if random intercepts model with varying cints is requested (by indVarying='cint')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coresToUse</code></td>
<td>
<p>if neg., the value is subtracted from available cores, else value = cores to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CoTiMAStanctArgs</code></td>
<td>
<p>parameters that can be set to improve model fitting of the <code>ctStanFit</code> Function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>customPar</code></td>
<td>
<p>logical. If set TRUE leverages the first pass using priors and ensure that the drift diagonal cannot easily go too negative (helps since ctsem &gt; 3.4)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diff</code></td>
<td>
<p>labels for diffusion effects. Have to be either of the character strings of the type "diff_eta1" or "diff_eta2_eta1" (= freely estimated) or values (e.g., 0 for effects to be excluded, which is usually not recommended)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits used for rounding (in outputs)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doPar</code></td>
<td>
<p>parallel and multiple fitting if single studies. A value &gt; 1 will fit each study doPar times in parallel mode during which no output is generated (screen remains silent). Useful to obtain best fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drift</code></td>
<td>
<p>labels for drift effects. Have to be either of the character strings of the type V1toV2 (= freely estimated) or values (e.g., 0 for effects to be excluded, which is usually not recommended)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>experimental</code></td>
<td>
<p>used for debugging puposes (default = FALSE)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>finishsamples</code></td>
<td>
<p>number of samples to draw (either from hessian based covariance or posterior distribution) for final results computation (default = 1000).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>TRUE (default) fits the requested model. FALSE returns the <code>ctsem</code> code CoTiMA uses to set up the model, the ctsemmodelbase which can be modified to match users requirements, and the data set (in long format created). The model can then be fitted using <code>ctStanFit</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indVarying</code></td>
<td>
<p>control for unobserved heterogeneity by having randomly (inter-individually) varying manifest means</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indVaryingT0</code></td>
<td>
<p>deprecated. Automatically set to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>number of interation (defaul = 1000). Sometimes larger values could be required fom Bayesian estimation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>R-type matrix with pattern of fixed (=1) or free (any string) loadings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loadSingleStudyModelFit</code></td>
<td>
<p>load the fit of single study ctsem models</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manifestMeans</code></td>
<td>
<p>Default 0 (assuming standardized variables). Can be assigned labels to estimate them freely.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>manifestVars</code></td>
<td>
<p>define the error variances of the manifests within a single time point using R-type lower triangular matrix with nrow=n.manifest &amp; ncol=n.manifest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.latent</code></td>
<td>
<p>number of latent variables of the model (hast to be specified)!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.manifest</code></td>
<td>
<p>number of manifest variables of the model (if left empty it will assumed to be identical with n.latent).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimize</code></td>
<td>
<p>if set to FALSE, Stan's Hamiltonian Monte Carlo sampler is used (default = TRUE = maximum a posteriori / importance sampling) .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>primaryStudies</code></td>
<td>
<p>list of primary study information created with <code>ctmaPrep</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priors</code></td>
<td>
<p>if FALSE, any priors are disabled â€“ sometimes desirable for optimization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>randomIntercepts</code></td>
<td>
<p>(default = FALSE) Experimental. Overrides ctsem's default mode for modelling indVarying cints.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sameInitialTimes</code></td>
<td>
<p>Only important for raw data. If TRUE (default=FALSE), T0MEANS occurs for every subject at the same time, rather than just at the earliest observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveRawData</code></td>
<td>
<p>save (created pseudo) raw date. List: saveRawData$studyNumbers, $fileName, $row.names, col.names, $sep, $dec</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveSingleStudyModelFit</code></td>
<td>
<p>save the fit of single study ctsem models (could save a lot of time afterwards if the fit is loaded)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleTI</code></td>
<td>
<p>scale TI predictors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleTime</code></td>
<td>
<p>scale time (interval) - sometimes desirable to improve fitting</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silentOverwrite</code></td>
<td>
<p>overwrite old files without asking</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0means</code></td>
<td>
<p>Default 0 (assuming standardized variables). Can be assigned labels to estimate them freely.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T0var</code></td>
<td>
<p>(default = 'auto')</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useSV</code></td>
<td>
<p>if TRUE (default=FALSE) start values will be used if provided in the list of primary studies</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>integer from 0 to 2. Higher values print more information during model fit - for debugging</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>ctmaFit returns a list containing some arguments supplied, the fitted models, different elements summarizing the main results,
model type, and the type of plot that could be performed with the returned object. The arguments in the returned object are activeDirectory,
coresToUse, n.latent, n.manifest, and primaryStudyList. The study count is returned as n.studies, the created matrix of loadings of
manifest on latent factors is returned as lambda, and a re-organized list of primary studies with some information ommited is returned as
studyList. The fitted models for each primary study are found in studyFitList, which is a large list with many elements (e.g., the ctsem
model specified by CoTiMA, the rstan model created by ctsem, the fitted rstan model etc.). Further results returned are emprawList
(containing the pseudo raw data created), statisticsList (comprising baisc stats such as average sample size, no. of measurement points,
etc.), a list with modelResults (i.e., DRIFT=model_Drift_Coef, DIFFUSION=model_Diffusion_Coef, T0VAR=model_T0var_Coef,
CINT=model_Cint_Coef), and the paramter names internally used. The summary list,  which is printed if the summary function is applied to the
returned object, comprises "estimates" (the aggregated effects), possible randomIntercepts,confidenceIntervals, the
minus2ll value and its n.parameters, and possible warning messages (message). Plot type is plot.type=c("drift") and model.type="stanct"
("omx" was deprecated).
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Fit a ctsem model to all three primary studies summarized in
# CoTiMAstudyList_3 and save the three fitted models
## Not run: 
CoTiMAInitFit_3 &lt;- ctmaInit(primaryStudies=CoTiMAstudyList_3,
                            n.latent=2,
                            checkSingleStudyResults=FALSE,
                            activeDirectory="/Users/tmp/") # adapt!
summary(CoTiMAInitFit_3)

## End(Not run)

</code></pre>


</div>