<div class="container">

<table style="width: 100%;"><tr>
<td>batch_multi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Batch routing for multiple plans and large datasets</h2>

<h3>Description</h3>

<p>Batch routing for multiple plans and large datasets
</p>


<h3>Usage</h3>

<pre><code class="language-R">batch_multi(
  desire_lines,
  plans = c("fastest", "balanced"),
  nrow_batch = 10000,
  temp_folder = tempdir(),
  batch_ids = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>desire_lines</code></td>
<td>
<p>Input desire lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plans</code></td>
<td>
<p>Plans, e.g. fastest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow_batch</code></td>
<td>
<p>How many rows per batch?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>temp_folder</code></td>
<td>
<p>path to folder</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>batch_ids</code></td>
<td>
<p>NULL?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to batch</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of routes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if(FALSE) {
od_df = readr::read_csv("https://github.com/nptscot/npt/raw/main/data-raw/od_subset.csv")
zones = sf::read_sf("https://github.com/nptscot/npt/raw/main/data-raw/zones_edinburgh.geojson")
desire_lines = od::od_to_sf(od_df, zones)
desire_lines = desire_lines[1:100, ]
p = c("fastest", "quietest")
routes_multi = batch_multi(desire_lines, plans = p, nrow_batch = 26, delete_job = FALSE)
names(routes_multi)
plot(routes_multi$fastest$geometry)
plot(routes_multi$quietest$geometry)
ids = list(
  fastest = 4059:(4059+3),
  quietest = 4063:(4063+3)
)
r_ids = batch_multi(desire_lines, plans = p, nrow_batch = 26, delete_job = FALSE, batch_ids = ids)
}
</code></pre>


</div>