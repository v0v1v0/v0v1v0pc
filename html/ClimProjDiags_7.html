<div class="container">

<table style="width: 100%;"><tr>
<td>DTRRef</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diurnal temperature range of multidimensional arrays</h2>

<h3>Description</h3>

<p>This function computes the mean diurnal temperature range 
(tmax - tmin).
</p>


<h3>Usage</h3>

<pre><code class="language-R">DTRRef(
  tmax,
  tmin,
  by.seasons = TRUE,
  dates = NULL,
  timedim = NULL,
  calendar = NULL,
  na.rm = TRUE,
  ncores = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tmax</code></td>
<td>
<p>A numeric multidimensional array containing daily maximum 
temperature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmin</code></td>
<td>
<p>A numeric multidimensional array containing daily minimum 
temperature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by.seasons</code></td>
<td>
<p>If TRUE (by default), the DTR is computed for each season 
(December-January-February, March-April-May, June-July-August and 
September-October-November) seperately. If FALSE is specified, the montly 
mean DTR is computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>A vector of dates with a calendar attributes. If NULL (by 
default), the 'time' attributes of parameter 'tmax' and 'tmin' are 
considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timedim</code></td>
<td>
<p>An integer number indicating the position of the time dimension 
in the parameters <code>tmax</code> and <code>tmin</code>. If NULL (by default), the 
dimension called 'time' in parameter <code>tmax</code> and <code>tmin</code> is 
considered as time dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calendar</code></td>
<td>
<p>A character indicating the calendar type.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>A logical indicating whether missing values should be removed. If 
<code>na.rm</code> is FALSE an NA value in any of the arguments will cause a value 
of NA to be returned, otherwise (TRUE by default) NA values are ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>The number of cores to be used when computing the index.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function returns a reordered array with 'time' dimension in the 
first position in the <code>dtr.ref</code> label.
</p>


<h3>Value</h3>

<p>A list of length 2:
</p>

<ul>
<li>
<p><code>$dtr.ref</code>, an array with the same dimensions as the input 
<code>data</code>, but with the time dimension reduce from daily to monthly 
or seasonal resolution depending on the selected resolution in 
<code>by.season</code>.
</p>
</li>
<li>
<p><code>$season</code>, a vector of the season or months corresponding to the 
resolution selected in <code>by.season</code>.
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">##Exmaple with synthetic data:
tmax &lt;- 1:(2 * 3 * 365 * 1)
dim(tmax) &lt;- c(lon = 2, lat = 3, time = 365, model = 1)
tmin &lt;- (1:(2 * 3 * 365 * 1))-1
dim(tmin) &lt;- c(lon = 2, lat = 3, time = 365, model = 1)
time &lt;- seq.Date(as.Date("1900-01-01", format = "%Y-%d-%m"), 
                as.Date("1900-31-12", format = "%Y-%d-%m"), 1)
time &lt;- as.POSIXct(time, tz = "CET")
metadata &lt;- list(time = list(standard_name = 'time', long_name = 'time', 
                            calendar = 'noleap',
                            units = 'days since 1970-01-01 00:00:00', 
                            prec = 'double', 
                            dim = list(list(name ='time', unlim = FALSE))))
attr(time, "variables") &lt;- metadata
attr(tmax, 'Variables')$dat1$time &lt;- time
attr(tmax, 'Variables')$common[[2]]$dim[[3]]$len = length(time)
attr(tmax, 'Variables')$common[[2]]$dim[[3]]$vals &lt;- time
attr(tmin, 'Variables')$dat1$time &lt;- time
attr(tmin, 'Variables')$common[[2]]$dim[[3]]$len = length(time)
attr(tmin, 'Variables')$common[[2]]$dim[[3]]$vals &lt;- time

a &lt;- DTRRef(tmax, tmin, by.seasons = FALSE, ncores = NULL)
str(a)

tmax &lt;- 1:(2 * 3 * 365 * 1)
dim(tmax) &lt;- c(2, 3, 365)
tmin &lt;- (1:(2 * 3 * 365 * 1))-1
dim(tmin) &lt;- c(2, 3, 365)

a &lt;- DTRRef(tmax, tmin, by.seasons = FALSE, dates = time,  timedim = 3, 
           ncores = NULL)
str(a)
</code></pre>


</div>