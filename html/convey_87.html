<div class="container">

<table style="width: 100%;"><tr>
<td>svywattsdec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Watts poverty index decomposition</h2>

<h3>Description</h3>

<p>Estimate the Watts (1968) poverty measure and its components
</p>


<h3>Usage</h3>

<pre><code class="language-R">svywattsdec(formula, design, ...)

## S3 method for class 'survey.design'
svywattsdec(
  formula,
  design,
  type_thresh = "abs",
  abs_thresh = NULL,
  percent = 0.6,
  quantiles = 0.5,
  na.rm = FALSE,
  thresh = FALSE,
  ...
)

## S3 method for class 'svyrep.design'
svywattsdec(
  formula,
  design,
  type_thresh = "abs",
  abs_thresh = NULL,
  percent = 0.6,
  quantiles = 0.5,
  na.rm = FALSE,
  thresh = FALSE,
  return.replicates = FALSE,
  ...
)

## S3 method for class 'DBIsvydesign'
svywattsdec(formula, design, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>a formula specifying the income variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>a design object of class <code>survey.design</code> or class <code>svyrep.design</code> from the <code>survey</code> library.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments. Currently not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type_thresh</code></td>
<td>
<p>type of poverty threshold. If "abs" the threshold is fixed and given the value
of abs_thresh; if "relq" it is given by percent times the quantile; if "relm" it is percent times the mean.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abs_thresh</code></td>
<td>
<p>poverty threshold value if type_thresh is "abs"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>the multiple of the the quantile or mean used in the poverty threshold definition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantiles</code></td>
<td>
<p>the quantile used used in the poverty threshold definition</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>Should cases with missing values be dropped?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh</code></td>
<td>
<p>return the poverty threshold value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.replicates</code></td>
<td>
<p>Return the replicate estimates?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>you must run the <code>convey_prep</code> function on your survey design object immediately after creating it with the <code>svydesign</code> or <code>svrepdesign</code> function.
</p>
<p>For the <code>svywatts</code> and <code>svywattsdec</code> functions, zeroes and negative numbers in the analysis domain cause an error because of the logarithm function in the definition of this poverty measure.  However, zeroes and negative values in the full survey design that are outside of the domain of analysis are valid to calculate the poverty threshold because zeroes and negatives are not a problem for computing quantiles (used when <code>type_thresh = "relq"</code>) or means (used when <code>type_thresh = "relm"</code>) . Missing values are treated differently.  <code>NA</code> values anywhere in the full survey design (not only the subset, or the domain of analysis) will cause these quantiles and means to return <code>NA</code> results.  To ignore <code>NA</code> values throughout, set <code>na.rm = TRUE</code>.
</p>


<h3>Value</h3>

<p>Object of class "<code>cvydstat</code>", with estimates for the Watts index, FGT(0), Watts Poverty Gap Ratio, and Theil(poor incomes) with a "<code>var</code>" attribute giving the variance-covariance matrix.
A "<code>statistic</code>" attribute giving the name of the statistic.
</p>


<h3>Author(s)</h3>

<p>Guilherme Jacob, Djalma Pessoa, and Anthony Damico
</p>


<h3>References</h3>

<p>McKinley L. Blackburn (1989). Poverty measurement: an index related to a Theil measure of inequality.
<em>Journal of Business &amp; Economic Statistics</em>, Vol.7, No.4, pp. 475-481,
DOI <a href="https://doi.org/10.1080/07350015.1989.10509760">doi:10.1080/07350015.1989.10509760</a>.
</p>
<p>Satya R. Chakravarty, Joseph Deutsch and Jacques Silber (2008).
On the Watts multidimensional poverty index and its decomposition.
<em>World Development</em>, Vol.36, No.6, pp.1067-1077.
</p>
<p>Harold W. Watts (1968). An economic definition of poverty.
<em>Institute For Research on Poverty Discussion Papers</em>, n.5.
University of Wisconsin. URL <a href="https://www.irp.wisc.edu/publications/dps/pdfs/dp568.pdf">https://www.irp.wisc.edu/publications/dps/pdfs/dp568.pdf</a>.
</p>
<p>Guillaume Osier (2009). Variance estimation for complex indicators
of poverty and inequality. <em>Journal of the European Survey Research
Association</em>, Vol.3, No.3, pp. 167-195,
ISSN 1864-3361, URL <a href="https://ojs.ub.uni-konstanz.de/srm/article/view/369">https://ojs.ub.uni-konstanz.de/srm/article/view/369</a>.
</p>
<p>Jean-Claude Deville (1999). Variance estimation for complex statistics and estimators:
linearization and residual techniques. Survey Methodology, 25, 193-203,
URL <a href="https://www150.statcan.gc.ca/n1/en/catalogue/12-001-X19990024882">https://www150.statcan.gc.ca/n1/en/catalogue/12-001-X19990024882</a>.
</p>


<h3>See Also</h3>

<p><code>svywatts,svyfgt,svyfgt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(survey)
library(laeken)
data(eusilc) ; names( eusilc ) &lt;- tolower( names( eusilc ) )

# linearized design
des_eusilc &lt;- svydesign( ids = ~rb030 , strata = ~db040 ,  weights = ~rb050 , data = eusilc )
des_eusilc &lt;- convey_prep( des_eusilc )

# replicate-weighted design
des_eusilc_rep &lt;- as.svrepdesign( des_eusilc , type = "bootstrap" )
des_eusilc_rep &lt;- convey_prep( des_eusilc_rep )

# filter positive incomes
des_eusilc &lt;- subset( des_eusilc , eqincome &gt; 0 )
des_eusilc_rep &lt;- subset( des_eusilc_rep , eqincome &gt; 0 )

# absolute poverty threshold
svywattsdec(~eqincome, des_eusilc, abs_thresh=10000)
# poverty threshold equal to arpt
svywattsdec(~eqincome, des_eusilc, type_thresh= "relq" , thresh = TRUE)
# poverty threshold equal to 0.6 times the mean
svywattsdec(~eqincome, des_eusilc, type_thresh= "relm" , thresh = TRUE)

#  using svrep.design:
# absolute poverty threshold
svywattsdec(~eqincome, des_eusilc_rep, abs_thresh=10000)
# poverty threshold equal to arpt
svywattsdec(~eqincome, des_eusilc_rep, type_thresh= "relq" , thresh = TRUE)
# poverty threshold equal to 0.6 times the mean
svywattsdec(~eqincome, des_eusilc_rep, type_thresh= "relm" , thresh = TRUE)

## Not run: 

# database-backed design
library(RSQLite)
library(DBI)
dbfile &lt;- tempfile()
conn &lt;- dbConnect( RSQLite::SQLite() , dbfile )
dbWriteTable( conn , 'eusilc' , eusilc )

dbd_eusilc &lt;-
	svydesign(
		ids = ~rb030 ,
		strata = ~db040 ,
		weights = ~rb050 ,
		data="eusilc",
		dbname=dbfile,
		dbtype="SQLite"
	)

dbd_eusilc &lt;- convey_prep( dbd_eusilc )
dbd_eusilc &lt;- subset( dbd_eusilc , eqincome &gt; 0 )

# absolute poverty threshold
svywattsdec(~eqincome, dbd_eusilc, abs_thresh=10000)
# poverty threshold equal to arpt
svywattsdec(~eqincome, dbd_eusilc, type_thresh= "relq" , thresh = TRUE)
# poverty threshold equal to 0.6 times the mean
svywattsdec(~eqincome, dbd_eusilc, type_thresh= "relm" , thresh = TRUE)

dbRemoveTable( conn , 'eusilc' )

dbDisconnect( conn , shutdown = TRUE )


## End(Not run)

</code></pre>


</div>