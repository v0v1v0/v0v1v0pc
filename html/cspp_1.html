<div class="container">

<table style="width: 100%;"><tr>
<td>corr_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create correlation plots of CSPP data</h2>

<h3>Description</h3>

<p><code>corr_plot</code> takes CSPP data from <code>get_cspp_data</code> and returns
either a correlation matrix or correlation plot.
</p>


<h3>Usage</h3>

<pre><code class="language-R">corr_plot(
  data = NULL,
  vars = NULL,
  summarize = TRUE,
  labels = TRUE,
  label_size = 3,
  colors = c("#6D9EC1", "#FFFFFF", "#E46726"),
  cor_matrix = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe. If data is generated by <code>get_cspp_data</code>
function, the function can automatically parse the dataframe. Otherwise,
this function will attempt to make a correlation plot or matrix from all
numeric variables within the passed dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>Default is NULL. If left NULL, uses all variables within the
passed dataframe. Otherwise, must be a character vector. The dataframe is
subset based on variables listed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summarize</code></td>
<td>
<p>Default is TRUE. If TRUE, and if the variable <code>st</code>
is present, the function will create state specific averages for each
variable in the dataframe. If FALSE, the function will generate the
correlation matrix and plot for all values in the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Default is TRUE. If TRUE, the correlation plot will include
labels for the correlation value. If FALSE, no labels will be present.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_size</code></td>
<td>
<p>Default is 3. Controls the size of the font for labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>Specify the colors to be used in the correlation plot. Must
include three values in a character vector format. The default values are
'c("#6D9EC1", "#FFFFFF", "#E46726")'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor_matrix</code></td>
<td>
<p>Default is FALSE. If set to TRUE, instead of returning a
ggplot object that is a correlation plot, returns a correlation matrix.
This is particularly useful if you want to customize the output with
<code>ggcorrplot</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is a wrapper that passes a dataframe to the
<code>ggcorrplot::ggcorrplot</code> function which generates correlation heat
plots.
</p>


<h3>Value</h3>

<p>ggplot2 object or correlation matrix
</p>


<h3>See Also</h3>

<p><code>ggcorrplot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
corr_plot(data = get_cspp_data(), vars = c("pollib_median",
 "innovatescore_boehmkeskinner", "citi6013", "ranney4_control", "h_diffs"),
 cor_matrix = FALSE)
</code></pre>


</div>