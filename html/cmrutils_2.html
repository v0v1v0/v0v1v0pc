<div class="container">

<table style="width: 100%;"><tr>
<td>makefig</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Helper Plotting Routine
</h2>

<h3>Description</h3>

<p>Sets up graphical device and plots figure. For PDF device, also takes
care of embedding fonts (see Details).
</p>


<h3>Usage</h3>

<pre><code class="language-R">makefig(plotfun, ..., device = c('default', 'pdf', 'svg'),
        width = 8, height = 6, scale = pointsize/12, pointsize = 12, 
        filename = 'Rplot', family = 'Helvetica')
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>plotfun</code></td>
<td>

<p>A function which does the actual plotting.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments passed to <code>plotfun</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device</code></td>
<td>

<p>The type of graphical device.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width, height</code></td>
<td>

<p>The <em>unscaled</em> width and height of the graphics region in
inches. Actual size is <code>c(width, height)*scale</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>

<p>The scaling factor. Is 1 for the default <code>pointsize</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointsize</code></td>
<td>

<p>The base font size in points.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>

<p>The filename for PDF or SVG device. If "standard" extension is
missing, it is added automagically.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>

<p>The font family for PDF device (see Details).
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For PDF device, function does font embedding via call to
<code>embedFonts</code>. The package provides additional font
families <code>"CMRoman"</code>, <code>"CMSans"</code> which work nicely with
cyrillics. These families are based on CM-Super font package by
Vladimir Volovich and CMSYASE symbol font by Paul Murrell.
</p>
<p>Both metric (‘<span class="file">*.afm</span>’) and outline (‘<span class="file">*.pfb</span>’) files for the
<code>"CMRoman"</code>, <code>"CMSans"</code> fonts are provided with the
package. This allows to embed these fonts even if they are not
installed in the system.
</p>


<h3>Value</h3>

<p>Returns the result value of call to <code>plotfun</code> <em>invisibly</em>.
</p>


<h3>See Also</h3>

<p><code>dev.new</code>, <code>pdf</code>, <code>svg</code>,
</p>
<p>Paul Murrell (2005?) Using Computer Modern Fonts in R Graphics.
<a href="http://www.stat.auckland.ac.nz/~paul/R/CM/CMR.html">http://www.stat.auckland.ac.nz/~paul/R/CM/CMR.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  x &lt;- rnorm(10)

  myplot &lt;- function(x, legend, ...)
  {
    plot(x, ..., pch = 1)
    legend('bottomright', bg = 'white',
           legend = legend, pch = 1)
  }

  makefig(myplot, x = x, legend = 'Simulation')
  makefig(myplot, x = x, legend = 'Simulation', pointsize = 8)


  makefig(myplot, x = x, legend = 'Simulation',
          device = 'pdf', filename = 'embedding.pdf', family = 'CMSans')

  mapply(makefig, device = c('window', 'pdf', 'svg'),
         MoreArgs = list(plotfun = myplot, x = x, legend = 'Simulation',
           filename = 'test', family = 'CMSans'))

</code></pre>


</div>