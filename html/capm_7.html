<div class="container">

<table style="width: 100%;"><tr>
<td>CalculateStratifiedSampleSize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Stratified random sample size</h2>

<h3>Description</h3>

<p>Calculates sample size to estimate a total from a stratified random sampling design.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CalculateStratifiedSampleSize(strata = NULL, x = NULL,
  conf.level = 0.95, error = 0.1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p><code>vector</code>, <code>matrix</code> or <code>data.frame</code>. If vector, named elements represent the size of the strata. If matrix or data.frame, first column represent the size of each strata, second column represent the expected mean in each strata and third column represent the expected variance in each strata. Each row is a strata and must be named.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>data.frame</code> representing a pilot sample. First column has the variable to be estimated and second column has the strata membership of each observation. Needed when <code>strata</code> is a vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>the confidence level required. It must be <code>numeric</code> between 0 and 1 inclusive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error</code></td>
<td>
<p>the maximum relative difference between the estimate and the unknown population value. It must be <code>numeric</code> between 0 and 1 inclusive.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>numeric sample size rounded up to nearest integer.
</p>


<h3>References</h3>

<p>Levy P and Lemeshow S (2008). Sampling of populations: methods and applications, Fourth edition. John Wiley and Sons, Inc.
</p>
<p><a href="http://oswaldosantos.github.io/capm">http://oswaldosantos.github.io/capm</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Using a pilot sample from a population with 10000 sampling units.
strata &lt;- rep(c("rural", "urban"), c(100, 9900))
pilot &lt;- data.frame(c(rpois(5, 1.3), rpois(45, 0.8)),
                           rep(c("rural", "urban"), c(5, 45)))
CalculateStratifiedSampleSize(strata, pilot)
      
# Using expected mean and variance for a population with
# 10000 sampling units.
str_n &lt;- c(rural = 100, urban = 9900)
str_mean &lt;- c(rural = 1.4, urban = 0.98)
str_var &lt;- c(rural = 1.48, urban = 1.02)
CalculateStratifiedSampleSize(cbind(str_n, str_mean, str_var))

</code></pre>


</div>