<div class="container">

<table style="width: 100%;"><tr>
<td>bsplines</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>B-Splines</h2>

<h3>Description</h3>

<p>An implementation of Carl de Boor's recursive algorithm for building
B-splines.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bsplines(x, iknots = NULL, df = NULL, bknots = range(x), order = 4L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a numeric vector</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iknots</code></td>
<td>
<p>internal knots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>degrees of freedom: sum of the order and internal knots.  Ignored
if <code>iknots</code> is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bknots</code></td>
<td>
<p>boundary knot locations, defaults to <code>range(x)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>order of the piecewise polynomials, defaults to 4L.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are several differences between this function and
<code>bs</code>.
</p>
<p>The most important difference is how the two methods treat the right-hand end
of the support.  <code>bs</code> uses a pivot method to allow for
extrapolation and thus returns a basis matrix where non-zero values exist on
the <code>max(Boundary.knots)</code> (<code>bs</code> version of
<code>bsplines</code>'s <code>bknots</code>).  <code>bsplines</code> use a strict definition of
the splines where the support is open on the right hand side, that is,
<code>bsplines</code> return right-continuous functions.
</p>
<p>Additionally, the attributes of the object returned by <code>bsplines</code> are
different from the attributes of the object returned by
<code>bs</code>. See the <code>vignette(topic = "cpr", package =
"cpr")</code> for a detailed comparison between the <code>bsplines</code> and
<code>bs</code> calls and notes about B-splines in general.
</p>


<h3>References</h3>

<p>C. de Boor, "A practical guide to splines. Revised Edition," Springer, 2001.
</p>
<p>H. Prautzsch, W. Boehm, M. Paluszny, "Bezier and B-spline Techniques,"
Springer, 2002.
</p>


<h3>See Also</h3>

<p><code>plot.cpr_bs</code> for plotting the basis,
<code>bsplineD</code> for building the basis matrices for the first and
second derivative of a B-spline.
</p>
<p>See <code>update_bsplines</code> for info on a tool for updating a
<code>cpr_bs</code> object.  This is a similar method to the
<code>update</code> function from the <code>stats</code> package.
</p>
<p><code>vignette(topic = "cpr", package = "cpr")</code> for details on B-splines and
the control polygon reduction method.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># build a vector of values to transform
xvec &lt;- seq(-3, 4.9999, length = 100)

# cubic b-spline
bmat &lt;- bsplines(xvec, iknots = c(-2, 0, 1.2, 1.2, 3.0), bknots = c(-3, 5))
bmat

# plot the splines
plot(bmat)                # each spline will be colored by default
plot(bmat, color = FALSE) # black and white plot
plot(bmat, color = FALSE) + ggplot2::aes(linetype = spline) # add a linetype

# Axes
# The x-axis, by default, show the knot locations.  Other options are numeric
# values, and/or to use a second x-axis

plot(bmat, show_xi = TRUE,  show_x = FALSE) # default, knot, symbols, on lower
                                            # axis

plot(bmat, show_xi = FALSE, show_x = TRUE)  # Numeric value for the knot
                                            # locations

plot(bmat, show_xi = TRUE,  show_x = TRUE)  # symbols on bottom, numbers on top

# quadratic splines
bmat &lt;- bsplines(xvec, iknots = c(-2, 0, 1.2, 1.2, 3.0), order = 3L)
bmat
plot(bmat) + ggplot2::ggtitle("Quadratic B-splines")

</code></pre>


</div>