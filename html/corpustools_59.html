<div class="container">

<table style="width: 100%;"><tr>
<td>tCorpus$preprocess</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Preprocess feature</h2>

<h3>Description</h3>

<p><strong>Usage:</strong>
</p>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>the column containing the feature to be used as the input</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_column</code></td>
<td>
<p>the column to save the preprocessed feature. Can be a new column or overwrite an existing one.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowercase</code></td>
<td>
<p>make feature lowercase</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngrams</code></td>
<td>
<p>create ngrams. The ngrams match the rows in the token data, with the feature in the row being the last token of the ngram. For example, given the features "this is an example", the third feature ("an") will have the trigram "this_is_an". Ngrams at the beginning of a context will have empty spaces. Thus, in the previous example, the second feature ("is") will have the trigram "_is_an".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngram_context</code></td>
<td>
<p>Ngrams will not be created across contexts, which can be documents or sentences. For example, if the context_level is sentences, then the last token of sentence 1 will not form an ngram with the first token of sentence 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_ascii</code></td>
<td>
<p>convert characters to ascii. This is particularly usefull for dealing with special characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_punctuation</code></td>
<td>
<p>remove (i.e. make NA) any features that are <em>only</em> punctuation (e.g., dots, comma's)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_stopwords</code></td>
<td>
<p>remove (i.e. make NA) stopwords. (!) Make sure to set the language argument correctly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_numbers</code></td>
<td>
<p>remove features that are only numbers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_stemming</code></td>
<td>
<p>reduce features (tokens) to their stem</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>language</code></td>
<td>
<p>The language used for stopwords and stemming</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_freq</code></td>
<td>
<p>an integer, specifying minimum token frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_docfreq</code></td>
<td>
<p>an integer, specifying minimum document frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_freq</code></td>
<td>
<p>an integer, specifying minimum token frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_docfreq</code></td>
<td>
<p>an integer, specifying minimum document frequency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_char</code></td>
<td>
<p>an integer, specifying minimum number of characters in a term</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_char</code></td>
<td>
<p>an integer, specifying maximum number of characters in a term</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>## R6 method for class tCorpus. Use as tc$method (where tc is a tCorpus object).
</p>
<pre>
preprocess(column='token', new_column='feature', lowercase=T, ngrams=1,
           ngram_context=c('document', 'sentence'), as_ascii=F, remove_punctuation=T,
           remove_stopwords=F, remove_numbers=F, use_stemming=F, language='english',
           min_freq=NULL, min_docfreq=NULL, max_freq=NULL, max_docfreq=NULL, min_char=NULL, max_char=NULL)
           </pre>


<h3>Examples</h3>

<pre><code class="language-R">tc = create_tcorpus('I am a SHORT example sentence! That I am!')

## default is lowercase without punctuation
tc$preprocess('token', 'preprocessed_1')

## delete stopwords and perform stemming
tc$preprocess('token', 'preprocessed_2', remove_stopwords = TRUE, use_stemming = TRUE)

## filter on minimum frequency
tc$preprocess('token', 'preprocessed_3', min_freq=2)

## make ngrams
tc$preprocess('token', 'preprocessed_4', ngrams = 3)

tc$tokens
</code></pre>


</div>