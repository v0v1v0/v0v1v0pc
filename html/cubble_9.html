<div class="container">

<table style="width: 100%;"><tr>
<td>as_cubble</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coerce foreign objects into a cubble object</h2>

<h3>Description</h3>

<p>Coerce foreign objects into a cubble object
</p>


<h3>Usage</h3>

<pre><code class="language-R">as_cubble(data, key, index, coords, ...)

## S3 method for class 'data.frame'
as_cubble(data, key, index, coords, ...)

## S3 method for class 'tbl_df'
as_cubble(data, key, index, coords, crs, dimensions, ...)

## S3 method for class 'sf'
as_cubble(data, key, index, ...)

## S3 method for class 'ncdf4'
as_cubble(
  data,
  key,
  index,
  coords,
  vars,
  lat_range = NULL,
  long_range = NULL,
  ...
)

## S3 method for class 'stars'
as_cubble(data, key, index, coords, ...)

## S3 method for class 'sftime'
as_cubble(data, key, index, coords, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an object to be converted into an cubble object. Currently
support objects of classes <code>tibble</code>, <code>ncdf4</code>, <code>stars</code>, and <code>sftime</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>a character (symbol), the spatial identifier,
see <code>make_cubble()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>a character (symbol), the temporal identifier,
see <code>make_cubble()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>a vector of character (symbol) of length 2,
see <code>make_cubble()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crs</code></td>
<td>
<p>used in <code>as_cubble.tbl_df()</code> to set the crs.
the data to read in <code>as_cubble.netcdf()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimensions</code></td>
<td>
<p>used when creating a cubble from a stars object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a vector of variables to read in (with quote),
used in <code>as_cubble.netcdf()</code>
to select the variable to read in.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat_range, long_range</code></td>
<td>
<p>in the syntax of <code>seq(FROM, TO, BY)</code>
to downsample</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a cubble object
</p>


<h3>Examples</h3>

<pre><code class="language-R">climate_flat |&gt; as_cubble(key = id, index = date, coords = c(long, lat))

# only need `coords` if create from a tsibble
dt &lt;- climate_flat |&gt;  tsibble::as_tsibble(key = id, index = date)
dt |&gt;  as_cubble(coords = c(long, lat))

# netcdf
path &lt;- system.file("ncdf/era5-pressure.nc", package = "cubble")
raw &lt;- ncdf4::nc_open(path)
dt &lt;- as_cubble(raw)
# subset degree
dt &lt;- as_cubble(raw,vars = c("q", "z"),
                long_range = seq(113, 153, 3),
                lat_range = seq(-53, -12, 3))

## Not run: 
# stars - take a few seconds to run
tif &lt;- system.file("tif/L7_ETMs.tif", package = "stars")
x &lt;-  stars::read_stars(tif)
x |&gt; as_cubble(index = band)

## End(Not run)

# don't have to supply coords if create from a sftime
dt &lt;- climate_flat |&gt;
  sf::st_as_sf(coords = c("long", "lat"), crs = sf::st_crs("OGC:CRS84")) |&gt;
  sftime::st_as_sftime()
dt |&gt; as_cubble(key = id, index = date)
</code></pre>


</div>