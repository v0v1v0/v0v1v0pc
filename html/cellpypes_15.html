<div class="container">

<table style="width: 100%;"><tr>
<td>pype_from_seurat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert Seurat to cellpypes object.</h2>

<h3>Description</h3>

<p>Start cellpyping a Seurat object.
This function saves the user from building his own cellpypes object,
which is done with <code>list(umi, neighbors,embed, totalUMI)</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pype_from_seurat(seurat, graph_name = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>seurat</code></td>
<td>
<p>A Seurat object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph_name</code></td>
<td>
<p>Supply one of the graphs. To see options, type
<code>names(seurat@graphs)</code>. If left empty (<code>NULL</code>, the default),
<code>pype_from_seurat</code> will try to guess the correct name for you.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A cellpypes object.
</p>


<h3>cellpypes Objects</h3>

<p>A cellpypes object is a list with four slots:
</p>

<dl>
<dt><code>raw </code></dt>
<dd>
<p>(sparse) matrix with genes in rows, cells in columns</p>
</dd>
<dt><code>totalUMI </code></dt>
<dd>
<p>the colSums of obj$raw</p>
</dd>
<dt><code>embed </code></dt>
<dd>
<p>two-dimensional embedding of the cells, provided as data.frame
or tibble with two columns and one row per cell.</p>
</dd>
<dt><code>neighbors </code></dt>
<dd>
<p>index matrix with one row per cell and k columns, where
k is the number of nearest neighbors (we recommend 15&lt;k&lt;100, e.g. k=50).
Here are two ways to get the neighbors index matrix:
</p>

<ul>
<li>
<p> Use <code>find_knn(featureMatrix)$idx</code>, where featureMatrix could be
principal components, latent variables or normalized genes (features in
rows, cells in columns).
</p>
</li>
<li>
<p> use <code>as(seurat@graphs[["RNA_nn"]], "dgCMatrix")&gt; .1</code> to extract
the kNN
graph computed on RNA. The <code>&gt; .1</code> ensures this also works with RNA_snn,
wknn/wsnn or any other
available graph â€“ check with <code>names(seurat@graphs)</code>.
</p>
</li>
</ul>
</dd>
</dl>
</div>