<div class="container">

<table style="width: 100%;"><tr>
<td>appendPermanent</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run a dplyr query and add the result set to an existing</h2>

<h3>Description</h3>

<p>Run a dplyr query and add the result set to an existing
</p>


<h3>Usage</h3>

<pre><code class="language-R">appendPermanent(x, name, schema = NULL)

append_permanent(x, name, schema = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A dplyr query</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name of the table to be appended. If it does not already exist it
will be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schema</code></td>
<td>
<p>Schema where the table exists. Can be a length 1 or 2 vector.
(e.g. schema = "my_schema", schema = c("my_schema", "dbo"))</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A dplyr reference to the newly created table
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(CDMConnector)

con &lt;- DBI::dbConnect(duckdb::duckdb(), dbdir = eunomia_dir())
concept &lt;- dplyr::tbl(con, "concept")

# create a table
rxnorm_count &lt;- concept %&gt;%
  dplyr::filter(domain_id == "Drug") %&gt;%
  dplyr::mutate(isRxnorm = (vocabulary_id == "RxNorm")) %&gt;%
  dplyr::count(domain_id, isRxnorm) %&gt;%
  compute("rxnorm_count")

# append to an existing table
rxnorm_count &lt;- concept %&gt;%
  dplyr::filter(domain_id == "Procedure") %&gt;%
  dplyr::mutate(isRxnorm = (vocabulary_id == "RxNorm")) %&gt;%
  dplyr::count(domain_id, isRxnorm) %&gt;%
  appendPermanent("rxnorm_count")

DBI::dbDisconnect(con, shutdown = TRUE)


## End(Not run)
</code></pre>


</div>