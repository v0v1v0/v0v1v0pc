<div class="container">

<table style="width: 100%;"><tr>
<td>pies</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pie chart scatterplot</h2>

<h3>Description</h3>

<p>Plot pie charts in an XY scatterplot. An overhauled wrapper of the original pie plot function.  It is currently very slow: a recommened work around is to plot to something other than the default device (aka png, pdf, etc).
</p>


<h3>Usage</h3>

<pre><code class="language-R">pies(x, show.labels = FALSE, show.slice.labels = FALSE, color.table = NULL, 
		radii = rep(2,length(x)), x0=NULL, y0=NULL, 
		edges = 200,  clockwise = FALSE, 
                init.angle = if (clockwise) 90 else 0, density = NULL, angle = 45, 
                border = NULL, lty = NULL, 
                other.color='gray', na.color='white', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a list of named vectors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.labels</code></td>
<td>
<p>boolean specifying if the pie point lables should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.slice.labels</code></td>
<td>
<p>boolean specifying if the pie slice labels should be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.table</code></td>
<td>
<p>a named vector of colors. names should correspond to all possible levels of x</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>radii</code></td>
<td>
<p>a vector of radii used to size the pie points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x0,y0</code></td>
<td>
<p>a vector of x and y positions for the pie points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>edges</code></td>
<td>
<p>the circular outline of the pie is approximated by a polygon with this many edges.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clockwise</code></td>
<td>
<p>logical indicating if slices are drawn clockwise or counter clockwise (i.e., mathematically positive direction), the latter is default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.angle</code></td>
<td>
<p>number specifying the starting angle (in degrees) for the slices. Defaults to 0 (i.e., 3 o'clock) unless clockwise is true where init.angle defaults to 90 (degrees), (i.e., 12 o'clock).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>
<p>the density of shading lines, in lines per inch. The default value of NULL means that no shading lines are drawn. Non-positive values of density also inhibit the drawing of shading lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>angle</code></td>
<td>
<p>the slope of shading lines, given as an angle in degrees (counter-clockwise).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>(possibly vectors) arguments passed to polygon which draws each slice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lty</code></td>
<td>
<p>(possibly vectors) arguments passed to polygon which draws each slice.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>other.color</code></td>
<td>
<p>color used for x vector elements for names without corresponding names in the color table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.color</code></td>
<td>
<p>color used for x vector elements with missing names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments passed to polygon</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Pie charts as points on a plot
</p>


<h3>See Also</h3>

<p>pie
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## these examples are to the default plot window, which can be slow
## try instead to plot to png or pdf for example

## example 1
  pies(
       list(
            a=nv(c(1,2,3),c('one','two','thre')),
            b=nv(c(2,2,3),c('one','two','thre')),
            c=nv(c(1,2,3),c('one','two','thre'))
            ),
       x0=c(0,.5,1),
       y0=c(0,.5,1), radii=6, border=c('gray', 'black', 'red')
       )


## example 2
n &lt;- 200
n.groups &lt;- 10
n.subgroups &lt;-  6

grps &lt;- paste('gene',seq(1,n.groups), sep='')[round(runif(n,1,n.groups))]
subgrps &lt;- paste('species',seq(1,n.subgroups), sep='')[round(runif(n,1,n.subgroups))]
group.df &lt;- cbind.data.frame(grps,subgrps)
subgroup.list &lt;- by(group.df, group.df$grps, function(x) x$subgrps)

pie.list &lt;- lapply(subgroup.list, table)
col.tab &lt;- nv(rainbow(6), unique(subgrps))

pies(x=pie.list, x0=rnorm(n.groups), y0=rnorm(n.groups), 
     radii=10, show.labels=TRUE, show.slice.labels=TRUE, color.table=col.tab)


## example 3  reading from external flat file
## salt.df &lt;- read.delim('/path/to/my/file.tab')
## create a dummy dataset that might live inside the above file
salt.df &lt;- data.frame(salinity=rnorm(25,5), temperature=rnorm(25,25),spec_a=rpois(25,4), 
							   spec_b=rpois(25,4), 
							   spec_c=rpois(25,4), 
							   spec_d=rpois(25,4),
							   spec_e=rpois(25,4)
							   )
## pull out the colnumn names that are specific to pie wedge numbers	
salt.spec.nms &lt;- names(salt.df)[grep('spec',names(salt.df))]
## turn them into a list
pie.list &lt;- lapply(1:nrow(salt.df), 
 function(i) as.table(nv(as.vector(as.matrix(salt.df[i,salt.spec.nms])),salt.spec.nms)))
names(pie.list)&lt;- letters[1:25]
with(salt.df, pies(x=pie.list, x0=salinity, y0=temperature, radii=2))

</code></pre>


</div>