<div class="container">

<table style="width: 100%;"><tr>
<td>rainfall</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rainfall indices</h2>

<h3>Description</h3>

<p>Methods to compute rainfall indices over a time series
</p>


<h3>Usage</h3>

<pre><code class="language-R">rainfall(object, ...)

## Default S3 method:
rainfall(object, ..., timeseries = FALSE)

## S3 method for class 'data.frame'
rainfall(object, day.one, span = NULL, ..., timeseries = FALSE)

## S3 method for class 'matrix'
rainfall(object, day.one, span = NULL, ..., timeseries = FALSE)

## S3 method for class 'sf'
rainfall(object, day.one, span = NULL, ..., timeseries = FALSE, as.sf = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a numeric vector with precipitation data or a <code>data.frame</code>
with geographical coordinates (lonlat), or an object of class <code>sf</code> 
with geometry 'POINT' or 'POLYGON', or a named <code>matrix</code> with 
precipitation data. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to methods. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeseries</code></td>
<td>
<p>logical, <code>FALSE</code> for a single point time series
observation or <code>TRUE</code> for a time series based on <var>intervals</var></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>day.one</code></td>
<td>
<p>a vector of class <code>Date</code> or any other object that can be 
coerced to <code>Date</code> (e.g. integer, character YYYY-MM-DD) for the starting 
day to capture the climate data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>an integer or a vector with integers (optional if <var>last.day</var> is 
given) for the length of the time series to be captured</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.sf</code></td>
<td>
<p>logical, to return an object of class 'sf'</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>#' Additional arguments:
</p>
<p><code>intervals</code>: an integer (no lower than 5), for the days intervals when
<var>timeseries = TRUE</var>
</p>
<p><code>last.day</code>: optional to <var>span</var>, an object of class <code>Date</code> or
any other object that can be coerced to <code>Date</code> (e.g. integer, character 
YYYY-MM-DD)  for the last day of the time series
</p>
<p><code>dates</code>: a character (or Date or numeric) vector for the dates of tmax and tmin
in the <code>default</code> method
</p>
<p><code>data.from</code>: character for the source of remote data. Current remote source 
is: 'nasapower'
</p>
<p><code>pars</code>: character vector for the precipitation data to be fetched. If 
<code>data.from</code> is 'nasapower', the default precipitation parameter is "PRECTOTCORR".
</p>
<p><code>days.before</code>: optional, an integer for the number of days before 
<var>day.one</var> to be included in the timespan.
</p>
<p># S3 Methods 
</p>
<p>The <code>matrix</code> method assumes that <var>object</var> contains climate data available in
your R section; see help("rain_dat", package = "climatrends") for an example on input 
structure.
</p>
<p>The <code>data.frame</code> and the <code>sf</code> methods assumes that the climate data
will e fetched from a remote (cloud) source that be adjusted using the argument 
<var>data.from</var>.
</p>
<p>When <var>timeseries</var> = <code>TRUE</code>, an id is created, 
which is the index for the rownames of the inputted <var>object</var>.
</p>


<h3>Value</h3>

<p>A dataframe with rainfall indices:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>MLDS</code></td>
<td>
<p>maximum length of consecutive dry day, rain &lt; 1 mm (days)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MLWS</code></td>
<td>
<p>maximum length of consecutive wet days, rain &gt;= 1 mm (days)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R10mm</code></td>
<td>
<p>number of heavy precipitation days 10 &gt;= rain &lt; 20 mm (days)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R20mm</code></td>
<td>
<p>number of very heavy precipitation days rain &gt;= 20 (days)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rx1day</code></td>
<td>
<p>maximum 1-day precipitation (mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rx5day</code></td>
<td>
<p>maximum 5-day precipitation (mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R95p</code></td>
<td>
<p>total precipitation when rain &gt; 95th percentile (mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>R99p</code></td>
<td>
<p>total precipitation when rain &gt; 99th percentile (mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rtotal</code></td>
<td>
<p>total precipitation (mm) in wet days, rain &gt;= 1 (mm)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SDII</code></td>
<td>
<p>simple daily intensity index, total precipitation divided by the
number of wet days (mm/days)</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Aguilar E., et al. (2005). Journal of Geophysical Research, 
110(D23), D23107. <a href="https://doi.org/10.1029/2005JD006119">doi:10.1029/2005JD006119</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># A vector with precipitation data
set.seed(987219)
rain &lt;- runif(50, min = 0, max = 6)

rainfall(rain)

# Return as timeseries with intervals of 7 days
dates &lt;- 17650:17699
rainfall(rain, dates = dates, timeseries = TRUE, intervals = 7)

######################################################

# the matrix method
data("rain_dat", package = "climatrends")

rainfall(rain_dat,
         day.one = "2013-10-28",
         span = 12)


</code></pre>


</div>