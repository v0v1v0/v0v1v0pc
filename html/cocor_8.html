<div class="container">

<table style="width: 100%;"><tr>
<td>cocor.indep.groups</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare two correlations based on independent groups</h2>

<h3>Description</h3>

<p>Performs a test of significance for the difference between two correlation coefficients based on independent groups. The function expects correlation coefficients as input.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cocor.indep.groups(
  r1.jk,
  r2.hm,
  n1,
  n2,
  alternative = "two.sided",
  test = "all",
  alpha = 0.05,
  conf.level = 0.95,
  null.value = 0,
  data.name = NULL,
  var.labels = NULL,
  return.htest = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r1.jk</code></td>
<td>
<p>A number specifying the correlation between j and k measured in group 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2.hm</code></td>
<td>
<p>A number specifying the correlation between h and m measured in group 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>An integer defining the size of group 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>An integer defining the size of group 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>A character string specifying whether the alternative hypothesis is two-sided ("<code>two.sided</code>"; default) or one-sided ("<code>greater</code>" or "<code>less</code>",
depending on the direction). Optionally,
the initial letter of the character strings ("<code>t</code>", "<code>g</code>", and "<code>l</code>)" can be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>A vector of character strings specifying the tests to be used (<code>fisher1925</code> or <code>zou2007</code>). Use <code>all</code> to apply all tests (default). For further information see the tests section below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A number defining the alpha level for the hypothesis test. The default value is <code class="reqn">.05</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>A number defining the level of confidence for the confidence interval (if test <code>zou2007</code> is used). The default value is <code class="reqn">.95</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>A number defining the hypothesized difference between the two correlations used for testing the null hypothesis. The default value is <code class="reqn">0</code>. If the value is other than <code class="reqn">0</code>,
only the test <code>zou2007</code> that uses a confidence interval is available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>A vector of character strings describing the data/groups. The vector may contain one character string to describe both data sets/groups or two character strings to describe each data set/group separately.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.labels</code></td>
<td>
<p>A vector of four character strings specifying the labels for j, k, h,
and m (in this order).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.htest</code></td>
<td>
<p>A logical indicating whether the result should be returned as a list containing a list of class 'htest' for each test. The default value is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an S4 object of class 'cocor.indep.groups' with the following slots:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>r1.jk</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r2.hm</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n1</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n2</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alternative</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null.value</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.name</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.labels</code></td>
<td>
<p>Input parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diff</code></td>
<td>
<p>Difference between the two correlations, r1.jk and r2.hm, that were compared</p>
</td>
</tr>
</table>
<p>For each test a slot of the same name exists with a list containing the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>statistic</code></td>
<td>
<p>The value of the test statistic (if test <code>fisher1925</code> is used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution</code></td>
<td>
<p>The distribution of the test statistic (if test <code>fisher1925</code> is used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>The p-value of the test (if test <code>fisher1925</code> is used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.int</code></td>
<td>
<p>The confidence interval of the difference between the two correlations (if test <code>zou2007</code> is used).</p>
</td>
</tr>
</table>
<h3>Tests</h3>

<p>The tests make use of Fisher's <code class="reqn">r</code>-to-<code class="reqn">Z</code> transformation (1921, p. 26):
</p>
<p style="text-align: center;"><code class="reqn">Z = \frac{1}{2}(ln(1+r) - ln(1-r)).</code>
</p>


<dl>
<dt>fisher1925:</dt>
<dd>
<p><em>Fisher's (1925) z</em>
</p>
<p>This significance test was first described in Fisher (1925,
pp. 161-168) and its test statistic <code class="reqn">z</code> is calculated as
</p>
<p style="text-align: center;"><code class="reqn">z = \frac{Z_1 - Z_2}{\sqrt{\frac{1}{n_1 - 3} + \frac{1}{n_2 - 3}}}.</code>
</p>

<p><code class="reqn">Z_1</code> and <code class="reqn">Z_2</code> are the two <code class="reqn">Z</code> transformed correlations that are being compared.
<code class="reqn">n_1</code> and <code class="reqn">n_2</code> specify the size of the two groups the correlations are based on.
The equation is also given for example in Peters and van Voorhis (1940, p. 188) and Cohen,
Cohen, West, and Aiken (2003, p. 49, formula 2.8.11).
</p>
</dd>
<dt>zou2007:</dt>
<dd>
<p><em>Zou's (2007) confidence interval</em>
</p>
<p>This test calculates the confidence interval of the difference between the two correlation coefficients <code class="reqn">r_1</code> and <code class="reqn">r_2</code>.
If the confidence interval includes zero,
the null hypothesis that the two correlations are equal must be retained.
If the confidence interval does not include zero, the null hypothesis has to be rejected.
A lower and upper bound for the interval (<code class="reqn">L</code> and <code class="reqn">U</code>, respectively) is given by
</p>
<p style="text-align: center;"><code class="reqn">L = r_1 - r_2 - \sqrt{(r_1 - l_1)^2 + (u_2 - r_2)^2}</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">U = r_1 - r_2 + \sqrt{(u_1 - r_1)^2 + (r_2 - l_2)^2}</code>
</p>

<p>(Zou, 2007, p. 409).
A lower and upper bound for the confidence interval of <code class="reqn">r_1</code> (<code class="reqn">l_1</code> and <code class="reqn">u_1</code>) and <code class="reqn">r_2</code> (<code class="reqn">l_2</code> and <code class="reqn">u_2</code>) are calculated as
</p>
<p style="text-align: center;"><code class="reqn">l = \frac{exp(2l') - 1}{exp(2l') + 1},</code>
</p>

<p style="text-align: center;"><code class="reqn">u = \frac{exp(2u') - 1}{exp(2u') + 1}</code>
</p>

<p>(Zou, 2007, p. 406), where
</p>
<p style="text-align: center;"><code class="reqn">l',u' = Z \pm z_{\frac{\alpha}{2}} \sqrt{\frac{1}{n - 3}}</code>
</p>

<p>(Zou, 2007, p. 406).
<code class="reqn">\alpha</code> denotes the desired alpha level of the confidence interval,
whereas <code class="reqn">n</code> specifies the size of the group the correlation is based on.
</p>
</dd>
</dl>
<h3>References</h3>

<p>Cohen, J., Cohen, P., West, S. G., &amp; Aiken,
L. S. (2003). <em>Applied Multiple Regression/Correlation Analysis for the Behavioral Sciences (3rd ed.)</em>. Mahwah, NJ: Erlbaum.
</p>
<p>Fisher,
R. A. (1921). On the probable error of a coefficient of correlation deduced from a small sample. <em>Metron</em>, <em>1</em>, 1-32.
</p>
<p>Fisher, R. A. (1925). <em>Statistical methods for research workers</em>. Edinburgh,
Scotland: Oliver and Boyd. Retrieved from http://psychclassics.yorku.ca/
</p>
<p>Peters, C. C., &amp; Van Voorhis,
W. R. (1940). <em>Statistical procedures and their mathematical bases</em>. New York: McGraw-Hill.
</p>
<p>Zou,
G. Y. (2007). Toward using confidence intervals to compare correlations. <em>Psychological Methods</em>, <em>12</em>, 399-413. doi:10.1037/1082-989X.12.4.399
</p>


<h3>See Also</h3>

<p>cocor, cocor.dep.groups.overlap, cocor.dep.groups.nonoverlap,
as.htest
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Compare the difference between two correlations based
# on two independent groups:
r1.jk &lt;- .7  # Correlation between age and intelligence measured in group 1
n1 &lt;- 305    # Size of group 1

r2.hm &lt;- .6  # Correlation between age and intelligence measured in group 2
n2 &lt;- 210    # Size of group 2

cocor.indep.groups(r1.jk, r2.hm, n1, n2, data.name=c("group1", "group2"),
      var.labels=c("age", "intelligence", "age", "intelligence"))

</code></pre>


</div>