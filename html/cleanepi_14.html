<div class="container">

<table style="width: 100%;"><tr>
<td>correct_subject_ids</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correct the wrong subject IDs based on the user-provided values.</h2>

<h3>Description</h3>

<p>After detecting incorrect subject IDs from the <code>check_subject_ids()</code>
function, use this function to provide the correct IDs and perform the
substitution.
</p>


<h3>Usage</h3>

<pre><code class="language-R">correct_subject_ids(data, target_columns, correction_table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The input data frame or linelist</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target_columns</code></td>
<td>
<p>A vector of column names with the subject ids.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correction_table</code></td>
<td>
<p>A data frame with the following two columns:
</p>

<ol>
<li> <p><code>from</code>: a column with the wrong subject IDs,
</p>
</li>
<li> <p><code>to</code>: a column with the values to be used to substitute the
incorrect ids.
</p>
</li>
</ol>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The input dataset where all subject ids comply with the expected
format.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># detect the incorrect subject ids
dat &lt;- check_subject_ids(
  data           = readRDS(system.file("extdata", "test_df.RDS",
                                       package = "cleanepi")),
  target_columns = "study_id",
  prefix         = "PS",
  suffix         = "P2",
  range          = c(1, 100),
  nchar          = 7
)

# generate the correction table
correction_table &lt;- data.frame(
  from = c("P0005P2", "PB500P2", "PS004P2-1"),
  to   = c("PB005P2", "PB050P2", "PS004P2")
)

# perform the correction
dat &lt;- correct_subject_ids(
  data             = dat,
  target_columns   = "study_id",
  correction_table = correction_table
)
</code></pre>


</div>