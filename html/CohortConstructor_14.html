<div class="container">

<table style="width: 100%;"><tr>
<td>conceptCohort</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create cohorts based on a concept set</h2>

<h3>Description</h3>

<p><code>conceptCohort()</code> creates a cohort table from patient records
from the clinical tables in the OMOP CDM.
</p>
<p>The following tables are currently supported for creating concept
cohorts:
</p>

<ul>
<li>
<p> condition_occurrence
</p>
</li>
<li>
<p> device_exposure
</p>
</li>
<li>
<p> drug_exposure
</p>
</li>
<li>
<p> measurement
</p>
</li>
<li>
<p> observation
</p>
</li>
<li>
<p> procedure_occurrence
</p>
</li>
<li>
<p> visit_occurrence
</p>
</li>
</ul>
<p>Cohort duration is based on record start and end (e.g.
condition_start_date and condition_end_date for records coming
from the condition_occurrence tables). So that the resulting table
satisfies the requirements of an OMOP CDM cohort table:
</p>

<ul>
<li>
<p> Overlapping records are collapsed into a single cohort entry.
</p>
</li>
<li>
<p> If a record starts outside of an observation period it will be
silently ignored.
</p>
</li>
<li>
<p> If a record ends outside of an observation period it will be
trimmed so as to end at the preceding observation period end date.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">conceptCohort(
  cdm,
  conceptSet,
  name,
  exit = "event_end_date",
  useSourceFields = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cdm</code></td>
<td>
<p>A cdm reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conceptSet</code></td>
<td>
<p>A conceptSet, which can either be a codelist
or a conceptSetExpression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name of the new cohort table created in the cdm object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exit</code></td>
<td>
<p>How the cohort end date is defined. Can be either
"event_end_date" or "event_start_date".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useSourceFields</code></td>
<td>
<p>If TRUE, the source concept_id fields will also be
used when identifying relevant clinical records. If FALSE, only the standard
concept_id fields will be used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A cohort table
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(CohortConstructor)

cdm &lt;- mockCohortConstructor(conditionOccurrence = TRUE)

cohort &lt;- conceptCohort(cdm = cdm, conceptSet = list(a = 1), name = "cohort")

cohort |&gt; attrition()

</code></pre>


</div>