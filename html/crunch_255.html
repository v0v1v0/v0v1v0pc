<div class="container">

<table style="width: 100%;"><tr>
<td>cut,DatetimeVariable-method</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cut a Datetime Crunch variable</h2>

<h3>Description</h3>

<p><code>crunch::cut()</code> is equivalent to <code>base::cut()</code> except that it operates on
Crunch variables instead of in-memory R objects. The function takes a Datetime
variable and derives a new categorical variable from it based on the <code>breaks</code>
argument. You can either break the variable into evenly spaced categories by
specifying an interval using a string that defines a period or a vector containing
the start and end point of each category. For example, specifying
<code>breaks = "2 weeks"</code> will break the datetime data into 2 week size bins
while <code style="white-space: pre;">⁠breaks = as.Date(c("2020-01-01", "2020-01-15" "2020-02-01"))⁠</code>
will recode the data into two groups based on
whether the numeric vector falls between January 1 and 14 or January 15 and 31
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'DatetimeVariable'
cut(x, breaks, labels = NULL, dates = NULL, name, right = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A Crunch <code>DatetimeVariable</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks</code></td>
<td>
<p>Either a numeric vector of two or more unique cut point datetimes
or a single string giving the interval size into which <code>x</code> is to be
cut with a number optionally at the beginning nd "day", "weeks", "months",
a "quarters" or "years". If specifying cut points, values that are less than
the smallest value in <code>breaks</code> or greater than the largest value in <code>breaks</code>
will be marked missing in the resulting categorical variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>A character vector representing the labels for the levels of
the resulting categories. The length of the labels argument should be the
same as the number of categories, which is one fewer than the number of
breaks. If not specified, labels are constructed with a formatting like
"YYYY/MM/DD - YYYY/MM/DD" (for example ("2020/01/01 - 2020/01/14"))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>(Optionally) A character vector with the date strings that should
be associated with the resulting categories. These dates can have the form
"YYYY-MM-DD", "YYYY-MM", "YYYY", "YYYY-WXX" (where "XX" is the ISO week number) or
"YYYY-MM-DD,YYYY-MM-DD". If left <code>NULL</code>, it will be created from the categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>The name of the resulting Crunch variable as a character string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>right</code></td>
<td>
<p>logical, indicating if the intervals should be closed on the
right (and open on the left) or vice versa. This only applies if giving a
vector of break points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to makeCaseVariable</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a Crunch <code>VariableDefinition</code>. Assign it into the dataset to create
it as a derived variable on the server.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
ds &lt;- loadDataset("example")
ds$month_cat &lt;- cut(ds$date, breaks = "month", name = "monthly")
ds$four_weeks_cat &lt;- cut(ds$date, breaks = "4 weeks", name = "four week categorical date")

ds$wave_cat &lt;- cut(
    ds$date,
    as.Date(c("2020-01-01", "2020-02-15", "2020-04-01", "2020-05-15")),
    labels = c("wave1", "wave2", "wave3"),
    name = "wave var"
  )

## End(Not run)
</code></pre>


</div>