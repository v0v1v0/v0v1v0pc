<div class="container">

<table style="width: 100%;"><tr>
<td>convert_costmatrix_to_stategraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a costmatrix to a minimal state graph</h2>

<h3>Description</h3>

<p>Given a costmatrix, returns the smallest possible state graph (fewest arcs).
</p>


<h3>Usage</h3>

<pre><code class="language-R">convert_costmatrix_to_stategraph(costmatrix)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>costmatrix</code></td>
<td>
<p>An object of class <code>costMatrix</code>.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>A costmatrix summarises all possible state-to-state transition costs and hence each entry can also be considered as an arc of a directed state graph. However, many of these arcs could be removed and a complete description of the graph still be provided. For example, the diagonal (any transition from a state to itself - a loop) can be removed, as can any arc with infinite cost (as this arc would never be traversed in practice). Finally, some arcs are redundant as indirect paths already represent the same cost.
</p>
<p>As an example, we can consider the linear ordered costmatrix:
</p>
<pre>    -------------
    | 0 | 1 | 2 |
-----------------
| 0 | 0 | 1 | 2 |
-----------------
| 1 | 1 | 0 | 1 |
-----------------
| 2 | 2 | 1 | 0 |
-----------------</pre>
<p>A maximum directed graph representation would thus be:
</p>
<pre>----------------------
| from | to | weight |
----------------------
|   0  | 0  |   0    |
----------------------
|   0  | 1  |   1    |
----------------------
|   0  | 2  |   2    |
----------------------
|   1  | 0  |   1    |
----------------------
|   1  | 1  |   0    |
----------------------
|   1  | 2  |   1    |
----------------------
|   2  | 0  |   2    |
----------------------
|   2  | 1  |   1    |
----------------------
|   2  | 2  |   0    |
----------------------</pre>
<p>But the following description is still complete, and minimal:
</p>
<pre>----------------------
| from | to | weight |
----------------------
|   0  | 1  |   1    |
----------------------
|   1  | 0  |   1    |
----------------------
|   1  | 2  |   1    |
----------------------
|   2  | 1  |   1    |
----------------------</pre>
<p>This function effectively generates the latter (the minimal directed graph representation as a matrix of arcs).
</p>


<h3>Value</h3>

<p>An object of class <code>stateGraph</code>.
</p>


<h3>Author(s)</h3>

<p>Graeme T. Lloyd <a href="mailto:graemetlloyd@gmail.com">graemetlloyd@gmail.com</a>
</p>


<h3>See Also</h3>

<p>convert_adjacency_matrix_to_costmatrix
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Make a six-state unordered character costmatrix:
unordered_costmatrix &lt;- make_costmatrix(
  min_state = 0,
  max_state= 5,
  character_type = "unordered"
)

# Find the minimal directed graph representation:
convert_costmatrix_to_stategraph(costmatrix = unordered_costmatrix)

# Make a six-state ordered character costmatrix:
ordered_costmatrix &lt;- make_costmatrix(
  min_state = 0,
  max_state= 5,
  character_type = "ordered"
)

# Find the minimal directed graph representation:
convert_costmatrix_to_stategraph(costmatrix = ordered_costmatrix)

# Make a six-state stratigraphic character costmatrix:
stratigraphic_costmatrix &lt;- make_costmatrix(
  min_state = 0,
  max_state= 5,
  character_type = "stratigraphy",
  state_ages = c(103, 91.4, 78.2, 73.4, 66.0, 59.7)
)

# Find the minimal directed graph representation:
convert_costmatrix_to_stategraph(costmatrix = stratigraphic_costmatrix)

</code></pre>


</div>