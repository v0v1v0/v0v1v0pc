<div class="container">

<table style="width: 100%;"><tr>
<td>descarga_datos_variantes_GISAID</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Lee la base de datos de variantes de COVID-19 en Mexico generada por GISAID</h2>

<h3>Description</h3>

<p><code>descarga_datos_variantes_GISAID</code> Lee los datos de variantes del reporte nacional diario en
<a href="https://github.com/RodrigoZepeda/VariantesCovid">RodrigoZepeda/VariantesCovid</a>
creado a partir de la informacion de la
<a href="https://gisaid.org/">Global Initiative on Sharing Avian Influenza Data (GISAID)</a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">descarga_datos_variantes_GISAID(
  nivel = c("nacional", "cdmx"),
  cache = NULL,
  use_cache_on_failure = TRUE,
  quiet = FALSE,
  force_download = FALSE,
  show_warnings = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nivel</code></td>
<td>
<p>(<strong>opcional</strong>) si se desea descargar informacion <code>"nacional"</code> (default) o de
la Ciudad de Mexico: <code>"cdmx"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cache</code></td>
<td>
<p>(<strong>opcional</strong>) cache para <code>pins::board_url()</code>. Representa el directorio donde
se almacenaran los datos descargados en formato de <code>pins</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_cache_on_failure</code></td>
<td>
<p>(<strong>opcional</strong>)  parametro para <code>pins::board_url()</code>. En caso de
<code>TRUE</code> (default) si no puede descargar nueva informacion utiliza la que ya tiene en memoria
aunque sea vieja.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quiet</code></td>
<td>
<p>(<strong>opcional</strong>) booleana para no imprimir mensajes en la consola.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_download</code></td>
<td>
<p>(<strong>opcional</strong>)  analiza si cambio el pin y descarga datos nuevos en
caso afirmativo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_warnings</code></td>
<td>
<p>(<strong>opcional</strong>) si arrojar <code>warnings</code> o callar</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>parametros adicionales para <code>pins::pin_download()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Cada vez que uses estos datos necesitas citar a <strong>GISAID</strong> (ver referencias) asi como
el reporte en <a href="https://github.com/RodrigoZepeda/VariantesCovid">RodrigoZepeda/VariantesCovid</a>
</p>
<p>Los datos son descargados de manera automatica en mi Github:
<a href="https://github.com/RodrigoZepeda/VariantesCovid">RodrigoZepeda/VariantesCovid</a> el programa
<code>descarga_datos_variantes_GISAID</code> se conecta a dicho repositorio, busca si la informacion esta
actualizada y si si la descarga, si no, utiliza informacion almacenada en el <code>cache</code> local.
</p>
<p>La descarga usa el paquete <code>pins</code>
</p>


<h3>Value</h3>

<p><code>tibble</code> con los datos de porcentuales de variantes
</p>

<ul>
<li> <p><code>variant</code>       - La variante clasificada mediante <a href="https://cov-lineages.org/resources/pangolin.html">Pangolin</a>
</p>
</li>
<li> <p><code>semana</code>        - Semana epidemiologica <code>lubridate::epiweek()</code> a la que corresponde la variante
</p>
</li>
<li> <p><code>ano</code>           - Anio al que corresponde la toma de muestra
</p>
</li>
<li> <p><code>n</code>             - El total de muestras de dicha semana registradas para esa variante
</p>
</li>
<li> <p><code>freq</code>          - La proporcion de las variantes de dicha semana ocupada por dicha variante. Se obtiene dividiendo <code>n/sum(n)</code> para cada semana.
</p>
</li>
<li> <p><code>Actualizacion</code> - La fecha de actualizacion ultima de los datos.
</p>
</li>
<li> <p><code>Fuente</code>        - La fuente desde la cual se obtuvo la informacion de dicha variante.
</p>
</li>
</ul>
<h3>References</h3>

<p>Khare, S., et al (2021) GISAID's Role in Pandemic Response. China CDC Weekly, 3(49):
1049-1051. doi:10.46234/ccdcw2021.255 PMCID: 8668406
</p>
<p>Elbe, S. and Buckland-Merrett, G. (2017) Data, disease and diplomacy: GISAIDâ€™s
innovative contribution to global health. Global Challenges, 1:33-46.
doi:10.1002/gch2.1018 PMCID: 31565258
</p>
<p>Shu, Y. and McCauley, J. (2017) GISAID: from vision to reality. EuroSurveillance,
22(13) doi:10.2807/1560-7917.ES.2017.22.13.30494 PMCID: PMC5388101
</p>
<p>Zepeda-Tello, R. (2022). Reporte Nacional de Variantes de COVID-19.
URL: <a href="https://github.com/RodrigoZepeda/VariantesCovid">https://github.com/RodrigoZepeda/VariantesCovid</a>
</p>


<h3>See Also</h3>

<p><code>descarga_datos_red_irag()</code> <code>descarga_datos_abiertos()</code> <code>read_datos_abiertos()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Descarga de variantes a nivel nacional
url_global &lt;- "https://raw.githubusercontent.com/RodrigoZepeda/VariantesCovid/main/tablas/"
if (RCurl::url.exists(paste0(url_global, "Proporcion_variantes_nacional.csv"))) {
  variantes_covid &lt;- descarga_datos_variantes_GISAID("nacional")
}

# Descarga de variantes para CDMX
if (RCurl::url.exists(paste0(url_global, "Proporcion_variantes_cdmx.csv"))) {
  variantes_covid &lt;- descarga_datos_variantes_GISAID("cdmx")
}

</code></pre>


</div>