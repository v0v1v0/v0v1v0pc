<div class="container">

<table style="width: 100%;"><tr>
<td>ch_wbt_flow_direction</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates flow direction grid file</h2>

<h3>Description</h3>

<p>Creates flow direction grid file
</p>


<h3>Usage</h3>

<pre><code class="language-R">ch_wbt_flow_direction(fn_dem_ns, fn_flowdir, return_raster = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fn_dem_ns</code></td>
<td>
<p>File name of dem with sinks removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_flowdir</code></td>
<td>
<p>File name for flow direction grid to be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_raster</code></td>
<td>
<p>Should a raster object be returned?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>return_raster = TRUE</code> (the default), the flow direction
grid will be returned as a raster object, in addition to being written to
<span class="option">fn_flowdir</span>. If <code>return_raster = FALSE</code>, the output file will still be created
but a <code>NULL</code> value is returned.
</p>


<h3>Author(s)</h3>

<p>Dan Moore
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Only proceed if Whitebox executable is installed
library(whitebox)
if (check_whitebox_binary()){
  library(raster)
  test_raster &lt;- ch_volcano_raster()
  dem_raster_file &lt;- tempfile(fileext = c(".tif"))
  no_sink_raster_file &lt;- tempfile("no_sinks", fileext = c(".tif"))

  # write test raster to file
  writeRaster(test_raster, dem_raster_file, format = "GTiff")

  # remove sinks
  removed_sinks &lt;- ch_wbt_removesinks(dem_raster_file, no_sink_raster_file, method = "fill")

  # get flow directions
  flow_dir_file &lt;- tempfile("flow_dir", fileext = c(".tif"))
  flow_dir &lt;- ch_wbt_flow_direction(no_sink_raster_file, flow_dir_file)
  plot(flow_dir)
} else {
  message("Examples not run as Whitebox executable not found")
}
</code></pre>


</div>