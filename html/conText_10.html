<div class="container">

<table style="width: 100%;"><tr>
<td>compute_transform</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute transformation matrix A</h2>

<h3>Description</h3>

<p>Computes a transformation matrix, given a feature-co-occurrence
matrix and corresponding pre-trained embeddings.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compute_transform(x, pre_trained, weighting = 500)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a (quanteda) <code>fcm-class</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_trained</code></td>
<td>
<p>(numeric) a F x D matrix corresponding to pretrained embeddings,
usually trained on the same corpus as that used for <code>x</code>.
F = number of features and D = embedding dimensions.
rownames(pre_trained) = set of features for which there is a pre-trained embedding</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighting</code></td>
<td>
<p>(character or numeric) weighting options:
</p>

<dl>
<dt><code>1</code></dt>
<dd>
<p>no weighting.</p>
</dd>
<dt><code>"log"</code></dt>
<dd>
<p>weight by the log of the frequency count.</p>
</dd>
<dt><code>numeric</code></dt>
<dd>
<p>threshold based weighting (= 1 if token count meets threshold, 0 ow).</p>
</dd>
</dl>
<p>Recommended: use <code>log</code> for small corpora, a numeric threshold for larger corpora.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>dgTMatrix-class</code> D x D non-symmetrical matrix
(D = dimensions of pre-trained embedding space) corresponding
to an 'a la carte' transformation matrix. This matrix is optimized
for the corpus and pre-trained embeddings employed.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(quanteda)

# note, cr_sample_corpus is too small to produce sensical word vectors

# tokenize
toks &lt;- tokens(cr_sample_corpus)

# construct feature-co-occurrence matrix
toks_fcm &lt;- fcm(toks, context = "window", window = 6,
count = "weighted", weights = 1 / (1:6), tri = FALSE)

# you will generally want to estimate a new (corpus-specific)
# GloVe model, we will use cr_glove_subset instead
# see the Quick Start Guide to see a full example.

# estimate transform
local_transform &lt;- compute_transform(x = toks_fcm,
pre_trained = cr_glove_subset, weighting = 'log')
</code></pre>


</div>