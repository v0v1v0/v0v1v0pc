<div class="container">

<table style="width: 100%;"><tr>
<td>roc.perm.test</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Permutation test to compare ROC curve</h2>

<h3>Description</h3>

<p>Computes the test statistic and permutation reference distribution for
comparing paired or unpaired ROC curves.
</p>


<h3>Usage</h3>

<pre><code class="language-R">roc.perm.test(marker, status, marker2=NULL, group=NULL,
              nperm=2500, mp=NULL)
## S3 method for class 'roc.perm.test'
print(x, ...)
## S3 method for class 'roc.perm.test'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>marker</code></td>
<td>
<p>marker values for each subject.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>status</code></td>
<td>
<p>binary disease status indicator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marker2</code></td>
<td>
<p>second diagnostic marker for the same subjects (paired).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>indicator of which diagnostic test was used (unpaired).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperm</code></td>
<td>
<p>number of permutations for the reference distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mp</code></td>
<td>
<p>mixing proportion for the unpaired case when proportion of
diseased subjects can differ.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>object of class roc.perm.test output from this function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>optional arguments to print and plot functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function implements the permutation method described in the
Venkatraman and Begg (1996) paper for the paired case and the
Venkatraman (2000) paper for the unpaired case.
</p>
<p>The function detects whether the data are paired or unpaired by
testing which of the options marker2 and group is specified.  If both
are missing it will stop with an error message.  At present exactly
one should be missing.
</p>


<h3>Value</h3>

<p>an object of class roc.perm.test with the following elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ostat</code></td>
<td>
<p>test statistic from the observed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pstat</code></td>
<td>
<p>test statistic from permuted data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.value</code></td>
<td>
<p>the p-value for the test of equality (2-sided).</p>
</td>
</tr>
</table>
<p>The "print" method formats and returns the statistic and p-value.
The "plot" method plots the density from the permutation reference
distribution and marks the location of the observed statistic.
</p>


<h3>References</h3>

<p>Venkatraman, E.S. and Begg, C.B. (1996). A distribution-free procedure
for comparing receiver operating characteristic curves from a paired
experiment. <em>Biometrika</em> 83, 835-848.
</p>
<p>Venkatraman, E.S. (2000) A permutation test to compare receiver
operating characteristic curves. <em>Biometrics</em> 56(4):1134-8.
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- rep(0:1, 50)
x &lt;- rnorm(100) + 1.2*d
y &lt;- rnorm(100) + 1.2*d
oo &lt;- roc.perm.test(x, d, marker2=y)
plot(oo)
oo &lt;- roc.perm.test(c(x,y), c(d,d), group=rep(1:2,each=100))
plot(oo)
</code></pre>


</div>