<div class="container">

<table style="width: 100%;"><tr>
<td>coefplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Model Coefficients</h2>

<h3>Description</h3>

<p>Provides an S3 generic method for plotting coefficients from a model so it can be extended to other model types.
</p>
<p>A graphical display of the coefficients and standard errors from a fitted model
</p>
<p><code>coefplot</code> is the S3 generic method for plotting the coefficients from a fitted model.
</p>
<p>This can be extended with new methods for other types of models not currently available.
</p>
<p>Coefplot method for workflow objects
</p>
<p>Coefplot method for parsnip objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">coefplot(model, ...)

## Default S3 method:
coefplot(
  model,
  title = "Coefficient Plot",
  xlab = "Value",
  ylab = "Coefficient",
  innerCI = 1,
  outerCI = 2,
  lwdInner = 1 + interactive * 2,
  lwdOuter = if (interactive) 1 else unname((Sys.info()["sysname"] != "Windows") * 0.5),
  pointSize = 3 + interactive * 5,
  color = "blue",
  shape = 16,
  cex = 0.8,
  textAngle = 0,
  numberAngle = 0,
  zeroColor = "grey",
  zeroLWD = 1,
  zeroType = 2,
  facet = FALSE,
  scales = "free",
  sort = c("natural", "magnitude", "alphabetical"),
  decreasing = FALSE,
  numeric = FALSE,
  fillColor = "grey",
  alpha = 1/2,
  horizontal = FALSE,
  factors = NULL,
  only = NULL,
  shorten = TRUE,
  intercept = TRUE,
  interceptName = "(Intercept)",
  coefficients = NULL,
  predictors = NULL,
  strict = FALSE,
  trans = identity,
  interactive = FALSE,
  newNames = NULL,
  plot = TRUE,
  ...
)

## S3 method for class 'lm'
coefplot(...)

## S3 method for class 'glm'
coefplot(...)

## S3 method for class 'workflow'
coefplot(model, ...)

## S3 method for class 'model_fit'
coefplot(model, ...)

## S3 method for class 'rxGlm'
coefplot(...)

## S3 method for class 'rxLinMod'
coefplot(...)

## S3 method for class 'rxLogit'
coefplot(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A parsnip object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>All arguments are passed on to <code>coefplot.lm</code>.  Please see that function for argument information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The name of the plot, if NULL then no name is given</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>The x label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>The y label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>innerCI</code></td>
<td>
<p>How wide the inner confidence interval should be, normally 1 standard deviation.  If 0, then there will be no inner confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outerCI</code></td>
<td>
<p>How wide the outer confidence interval should be, normally 2 standard deviations.  If 0, then there will be no outer confidence interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwdInner</code></td>
<td>
<p>The thickness of the inner confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwdOuter</code></td>
<td>
<p>The thickness of the outer confidence interval</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointSize</code></td>
<td>
<p>Size of coefficient point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>The color of the points and lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shape</code></td>
<td>
<p>The shape of the points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>The text size multiplier, currently not used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>textAngle</code></td>
<td>
<p>The angle for the coefficient labels, 0 is horizontal</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numberAngle</code></td>
<td>
<p>The angle for the value labels, 0 is horizontal</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroColor</code></td>
<td>
<p>The color of the line indicating 0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroLWD</code></td>
<td>
<p>The thickness of the 0 line</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeroType</code></td>
<td>
<p>The type of 0 line, 0 will mean no line</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet</code></td>
<td>
<p>logical; If the coefficients should be faceted by the variables, numeric coefficients (including the intercept) will be one facet.  Currently not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>The way the axes should be treated in a faceted plot.  Can be c("fixed", "free", "free_x", "free_y").  Currently not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort</code></td>
<td>
<p>Determines the sort order of the coefficients.  Possible values are c("natural", "magnitude", "alphabetical")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decreasing</code></td>
<td>
<p>logical; Whether the coefficients should be ascending or descending</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numeric</code></td>
<td>
<p>logical; If true and factors has exactly one value, then it is displayed in a horizontal graph with continuous confidence bounds.  Currently not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillColor</code></td>
<td>
<p>The color of the confidence bounds for a numeric factor.  Currently not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The transparency level of the numeric factor's confidence bound.  Currently not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>logical; If the plot should be displayed horizontally.  Currently not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factors</code></td>
<td>
<p>Vector of factor variables that will be the only ones shown</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>only</code></td>
<td>
<p>logical; If factors has a value this determines how interactions are treated.  True means just that variable will be shown and not its interactions.  False means interactions will be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shorten</code></td>
<td>
<p>logical or character; If <code>FALSE</code> then coefficients for factor levels will include their variable name.  If <code>TRUE</code> coefficients for factor levels will be stripped of their variable names.  If a character vector of variables only coefficients for factor levels associated with those variables will the variable names stripped.  Currently not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>logical; Whether the Intercept coefficient should be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interceptName</code></td>
<td>
<p>Specifies name of intercept it case it is not the default of "(Intercept").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coefficients</code></td>
<td>
<p>A character vector specifying which factor coefficients to keep.  It will keep all levels and any interactions, even if those are not listed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictors</code></td>
<td>
<p>A character vector specifying which coefficients to keep.  Each individual coefficient can be specified.  Use predictors to specify entire factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>If TRUE then predictors will only be matched to its own coefficients, not its interactions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans</code></td>
<td>
<p>A transformation function to apply to the values and confidence intervals.  <code>identity</code> by default.  Use <code>invlogit</code> for binary regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interactive</code></td>
<td>
<p>If <code>TRUE</code> an interactive plot is generated instead of <code>ggplot2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newNames</code></td>
<td>
<p>Named character vector of new names for coefficients</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>logical; If the plot should be drawn, if false then a data.frame of the values will be returned</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Currently, methods are available for lm, glm and rxLinMod objects.
</p>
<p>For more information on this function and it's arguments see <code>coefplot.default</code>
</p>
<p>Pulls model element out of workflow object then calls <code>coefplot</code>.
</p>
<p>Pulls model element out of parsnip object then calls <code>coefplot</code>.
</p>


<h3>Value</h3>

<p>A ggplot2 object or data.frame.  See details in <code>coefplot.lm</code> for more information
</p>
<p>If <code>plot</code> is <code>TRUE</code> then a <code>ggplot</code> object is returned.  Otherwise a <code>data.frame</code> listing coefficients and confidence bands is returned.
</p>
<p>A ggplot object.  See <code>coefplot.lm</code> for more information.
</p>
<p>A ggplot object.  See <code>coefplot.lm</code> for more information.
</p>
<p>A ggplot object.  See <code>coefplot.lm</code> for more information.
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>default</code>: Default method
</p>
</li>
<li> <p><code>lm</code>: <code>lm</code>
</p>
</li>
<li> <p><code>glm</code>: <code>glm</code>
</p>
</li>
<li> <p><code>workflow</code>: <code>tidymodels workflows</code>
</p>
</li>
<li> <p><code>model_fit</code>: <code>parsnip</code>
</p>
</li>
<li> <p><code>rxGlm</code>: <code>rxGlm</code>
</p>
</li>
<li> <p><code>rxLinMod</code>: <code>rxLinMod</code>
</p>
</li>
<li> <p><code>rxLogit</code>: <code>rxLogit</code>
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Jared P. Lander
</p>


<h3>See Also</h3>

<p><code>coefplot.lm</code> <code>coefplot.data.frame</code>
</p>
<p><code>lm</code> <code>glm</code> <code>ggplot</code> <code>coefplot</code> <code>plotcoef</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(diamonds)
head(diamonds)
model1 &lt;- lm(price ~ carat + cut*color, data=diamonds)
model2 &lt;- lm(price ~ carat*color, data=diamonds)
model3 &lt;- glm(price &gt; 10000 ~ carat*color, data=diamonds)
coefplot(model1)
coefplot(model2)
coefplot(model3)
coefplot(model1, predictors="color")
coefplot(model1, predictors="color", strict=TRUE)
coefplot(model1, coefficients=c("(Intercept)", "color.Q"))
coefplot(model1, predictors="cut", coefficients=c("(Intercept)", "color.Q"), strict=TRUE)
coefplot(model1, predictors="cut", coefficients=c("(Intercept)", "color.Q"), strict=FALSE)
coefplot(model1, predictors="cut", coefficients=c("(Intercept)", "color.Q"), 
strict=TRUE, newNames=c(color.Q="Color", "cut^4"="Fourth"))
coefplot(model1, predictors=c("(Intercept)", "carat"), newNames=c(carat="Size"))
coefplot(model1, predictors=c("(Intercept)", "carat"), 
newNames=c(carat="Size", "(Intercept)"="Constant"))


data(diamonds)
head(diamonds)
model1 &lt;- lm(price ~ carat + cut*color, data=diamonds)
model2 &lt;- lm(price ~ carat*color, data=diamonds)
coefplot(model1)
coefplot(model2)
coefplot(model1, predictors="color")
coefplot(model1, predictors="color", strict=TRUE)
coefplot(model1, coefficients=c("(Intercept)", "color.Q"))


model1 &lt;- lm(price ~ carat + cut*color, data=diamonds)
coefplot(model1)

model2 &lt;- glm(price &gt; 10000 ~ carat + cut*color, data=diamonds, family=binomial(link="logit"))
coefplot(model2)
coefplot(model2, trans=invlogit)

## Not run: 
mod4 &lt;- rxGlm(price ~ carat + cut + x, data=diamonds)
mod5 &lt;- rxGlm(price &gt; 10000 ~ carat + cut + x, data=diamonds, family="binomial")
coefplot(mod4)
coefplot(mod5)

## End(Not run)


## Not run: 
data(diamonds)
mod3 &lt;- rxLinMod(price ~ carat + cut + x, data=diamonds)
coefplot(mod3)

## End(Not run)

## Not run: 
data(diamonds)
mod6 &lt;- rxLogit(price &gt; 10000 ~ carat + cut + x, data=diamonds)
coefplot(mod6)

## End(Not run)
</code></pre>


</div>