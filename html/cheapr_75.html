<div class="container">

<table style="width: 100%;"><tr>
<td>sequence_</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Utilities for creating many sequences</h2>

<h3>Description</h3>

<p><code>sequence_</code> is an extension to sequence which
accepts decimal number increments. <br><code>seq_id</code> can be paired with <code>sequence_</code> to group individual sequences. <br><code>seq_</code> is a vectorised version of seq. <br><code>window_sequence</code> creates a vector of window sizes for rolling calculations. <br><code>lag_sequence</code> creates a vector of lags for rolling calculations. <br><code>lead_sequence</code> creates a vector of leads for rolling calculations. <br></p>


<h3>Usage</h3>

<pre><code class="language-R">sequence_(size, from = 1L, by = 1L, add_id = FALSE)

seq_id(size)

seq_(from = 1L, to = 1L, by = 1L, add_id = FALSE)

seq_size(from, to, by = 1L)

window_sequence(size, k, partial = TRUE, ascending = TRUE, add_id = FALSE)

lag_sequence(size, k, partial = TRUE, add_id = FALSE)

lead_sequence(size, k, partial = TRUE, add_id = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Vector of sequence lengths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>Start of sequence(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>Unit increment of sequence(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_id</code></td>
<td>
<p>Should the ID numbers of the sequences be added as names?
Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>End of sequence(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Window/lag size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partial</code></td>
<td>
<p>Should partial windows/lags be returned? Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ascending</code></td>
<td>
<p>Should window sequence be ascending? Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>sequence_()</code> works in the same way as <code>sequence()</code> but can accept
non-integer <code>by</code> values.
It also recycles <code>from</code> and <code>to</code>, in the same way as <code>sequence()</code>. <br>
If any of the sequences contain values &gt; <code>.Machine$integer.max</code>,
then the result will always be a double vector.
</p>
<p><code>from</code> can be also be a date, date-time, or any object that supports
addition and multiplication.
</p>
<p><code>seq_()</code> is a vectorised version of <code>seq()</code> that strictly accepts
only the arguments <code>from</code>, <code>to</code> and <code>by</code>. <br></p>


<h3>Value</h3>

<p>A vector of length <code>sum(size)</code> except for <code>seq_</code> which
returns a vector of size <code>sum((to - from) / (by + 1))</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cheapr)
sequence(1:3)
sequence_(1:3)

sequence(1:3, by = 0.1)
sequence_(1:3, by = 0.1)

# Add IDs to the sequences
sequence_(1:3, by = 0.1, add_id = TRUE)
# Turn this quickly into a data frame
enframe_(sequence_(1:3, by = 0.1, add_id = TRUE))

sequence(c(3, 2), by = c(-0.1, 0.1))
sequence_(c(3, 2), by = c(-0.1, 0.1))


# Vectorised version of seq()
seq_(1, 10, by = c(1, 0.5))
# Same as below
c(seq(1, 10, 1), seq(1, 10, 0.5))

# Programmers may use seq_size() to determine final sequence lengths

sizes &lt;- seq_size(1, 10, by = c(1, 0.5))
print(paste(c("sequence sizes: (", sizes, ") total size:", sum(sizes)),
            collapse = " "))

# We can group sequences using seq_id

from &lt;- Sys.Date()
to &lt;- from + 10
by &lt;- c(1, 2, 3)
x &lt;- seq_(from, to, by, add_id = TRUE)
class(x) &lt;- "Date"
x

# Utilities for rolling calculations

window_sequence(c(3, 5), 3)
window_sequence(c(3, 5), 3, partial = FALSE)
window_sequence(c(3, 5), 3, partial = TRUE, ascending = FALSE)
# One can for example use these in data.table::frollsum

</code></pre>


</div>