<div class="container">

<table style="width: 100%;"><tr>
<td>collect_and_normalize</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Collect data from connection and normalize cansim table output</h2>

<h3>Description</h3>

<p>Collect data from connection and normalize cansim table output
</p>


<h3>Usage</h3>

<pre><code class="language-R">collect_and_normalize(
  connection,
  replacement_value = "val_norm",
  normalize_percent = TRUE,
  default_month = "07",
  default_day = "01",
  factors = FALSE,
  strip_classification_code = FALSE,
  disconnect = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>connection</code></td>
<td>
<p>A connection to a local StatCan table SQLite database as returned by <code>get_cansim_sqlite</code>,
possibly with filters or other <code>dbplyr</code> verbs applied</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replacement_value</code></td>
<td>
<p>(Optional) the name of the column the manipulated value should be returned in. Defaults to adding the 'val_norm' value field.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize_percent</code></td>
<td>
<p>(Optional) When <code>true</code> (the default) normalizes percentages by changing them to rates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_month</code></td>
<td>
<p>The default month that should be used when creating Date objects for annual data (default set to "07")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_day</code></td>
<td>
<p>The default day of the month that should be used when creating Date objects for monthly data (default set to "01")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factors</code></td>
<td>
<p>(Optional) Logical value indicating if dimensions should be converted to factors. (Default set to <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strip_classification_code</code></td>
<td>
<p>(Optional) Logical value indicating if classification code should be stripped from names. (Default set to <code>false</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disconnect</code></td>
<td>
<p>(Optional) Logical value to indicate if the database connection should be disconnected. (Default is <code>FALSE</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A tibble with the collected and normalized data
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(dplyr)

con &lt;- get_cansim_sqlite("34-10-0013")
data &lt;- con %&gt;%
  filter(GEO=="Ontario") %&gt;%
  collect_and_normalize()

disconnect_cansim_sqlite(con)

## End(Not run)
</code></pre>


</div>