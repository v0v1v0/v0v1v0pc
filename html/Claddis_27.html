<div class="container">

<table style="width: 100%;"><tr>
<td>convert_stategraph_to_costmatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert a minimal state graph to a costmatrix</h2>

<h3>Description</h3>

<p>Given a state graph returns the corresponding costmatrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">convert_stategraph_to_costmatrix(stategraph)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>stategraph</code></td>
<td>
<p>An object of class <code>stateGraph</code>.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>A state graph describes the relationship between character states in terms of a graph of vertices (character states) and edges (weights). Edges can be "symmetric" (the graph is undirected) or "asymmetric" (the graph is directed, a digraph).
</p>
<p>For example, a simple symmetric binary state graph might look ike this:
</p>
<pre>  1
A---B</pre>
<p>Here the two states are A and B and the weight (cost of transitioning from A to B or B to A) is one.
</p>
<p>In Claddis this graph can be represented using a <code>stateGraph</code> object including the arcs that describe the (di)graph:
</p>
<pre>from to weight
   0  1      1
   1  0      1</pre>
<p>Each row represents an arc from one vertex to another, and the corresponding weight (transition cost). Note that for symmetric graphs the edge is stated using two arcs (from <em>i</em> to <em>j</em> and from <em>j</em> to <em>i</em>).
</p>
<p>This function converts these state transitions to costmatrices, including interpolating any missing transitions by using the shortest indirect cost. In the example used here the costmatrix would look quite simple:
</p>
<pre>    ---------
    | 0 | 1 |
-------------
| 0 | 0 | 1 |
-------------
| 1 | 1 | 0 |
-------------</pre>


<h3>Value</h3>

<p>An object of class <code>costMatrix</code>.
</p>


<h3>Author(s)</h3>

<p>Graeme T. Lloyd <a href="mailto:graemetlloyd@gmail.com">graemetlloyd@gmail.com</a>
</p>


<h3>See Also</h3>

<p>convert_adjacency_matrix_to_costmatrix
convert_costmatrix_to_stategraph
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Make state graph for a six-state linear ordered character:
stategraph &lt;- list(
  n_vertices = 6,
  n_arcs = 10,
  n_states = 6,
  single_states = c("0", "1", "2", "3", "4", "5"),
  type = "ordered",
  arcs = data.frame(
    from = c("1", "0", "2", "1", "3", "2", "4", "3", "5", "4"),
    to = c("0", "1", "1", "2", "2", "3", "3", "4", "4", "5"),
    weight = c(1, 1, 1, 1, 1, 1, 1, 1, 1, 1)
  ),
  vertices = data.frame(
    label = c("0", "1", "2", "3", "4", "5"),
    in_degree = c(1, 2, 2, 2, 2, 1),
    out_degree = c(1, 2, 2, 2, 2, 1),
    eccentricity = c(5, 4, 3, 3, 4, 5),
    periphery = c(1, 0, 0, 0, 0, 1),
    centre = c(0, 0, 1, 1, 0, 0)
  ),
  radius = 3,
  diameter = 5,
  adjacency_matrix = matrix(
    data = c(
      0, 1, 0, 0, 0, 0,
      1, 0, 1, 0, 0, 0,
      0, 1, 0, 1, 0, 0,
      0, 0, 1, 0, 1, 0,
      0, 0, 0, 1, 0, 1,
      0, 0, 0, 0, 1, 0
    ),
    ncol = 6,
    byrow = TRUE,
    dimnames = list(
      c("0", "1", "2", "3", "4", "5"),
      c("0", "1", "2", "3", "4", "5")
    )
  ),
  directed = FALSE,
  includes_polymorphisms = FALSE,
  polymorphism_costs = "additive",
  polymorphism_geometry = "simplex",
  polymorphism_distance = "euclidean",
  includes_uncertainties = FALSE,
  pruned = FALSE,
  dollo_penalty = 999,
  base_age = 1,
  weight = 1
)

# Set calss as stateGraph:
class(x = stategraph) &lt;- "stateGraph"

# View state graph:
stategraph

# Convert state graph to a costmatrix:
costmatrix &lt;- convert_stategraph_to_costmatrix(stategraph = stategraph)

# Show costmatrix reflects linear ordered costs:
costmatrix$costmatrix

</code></pre>


</div>