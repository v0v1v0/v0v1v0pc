<div class="container">

<table style="width: 100%;"><tr>
<td>check_iMeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check iMeta</h2>

<h3>Description</h3>

<p>Checks the format of <code>iMeta</code> input to <code>new_coin()</code>. This performs a series of thorough checks to make sure
that <code>iMeta</code> agrees with the specifications. This also includes checks to make sure the structure makes
sense, there are no duplicates, and other things. <code>iMeta</code> must pass this check to build a new coin.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_iMeta(iMeta, quietly = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>iMeta</code></td>
<td>
<p>A data frame of indicator metadata. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>Set <code>TRUE</code> to suppress message if input is valid.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Required columns for <code>iMeta</code> are:
</p>

<ul>
<li> <p><code>Level</code>: Level in aggregation, where 1 is indicator level, 2 is the level resulting from aggregating
indicators, 3 is the result of aggregating level 2, and so on. Set to <code>NA</code> for entries that are not included
in the index (groups, denominators, etc).
</p>
</li>
<li> <p><code>iCode</code>: Indicator code, alphanumeric. Must not start with a number or contain blank spaces.
</p>
</li>
<li> <p><code>Parent</code>: Group (<code>iCode</code>) to which indicator/aggregate belongs in level immediately above.
Each entry here should also be found in <code>iCode</code>. Set to <code>NA</code> only
for the highest (Index) level (no parent), or for entries that are not included
in the index (groups, denominators, etc).
</p>
</li>
<li> <p><code>Direction</code>: Numeric, either -1 or 1
</p>
</li>
<li> <p><code>Weight</code>: Numeric weight, will be rescaled to sum to 1 within aggregation group. Set to <code>NA</code> for entries that are not included
in the index (groups, denominators, etc).
</p>
</li>
<li> <p><code>Type</code>: The type, corresponding to <code>iCode</code>. Can be either <code>Indicator</code>, <code>Aggregate</code>, <code>Group</code>, <code>Denominator</code>,
or <code>Other</code>.
</p>
</li>
</ul>
<p>Optional columns that are recognised in certain functions are:
</p>

<ul>
<li> <p><code>iName</code>: Name of the indicator: a longer name which is used in some plotting functions.
</p>
</li>
<li> <p><code>Unit</code>: the unit of the indicator, e.g. USD, thousands, score, etc. Used in some plots if available.
</p>
</li>
<li> <p><code>Target</code>: a target for the indicator. Used if normalisation type is distance-to-target.
</p>
</li>
</ul>
<p>The <code>iMeta</code> data frame essentially gives details about each of the columns found in <code>iData</code>, as well as
details about additional data columns eventually created by aggregating indicators. This means that the
entries in <code>iMeta</code> must include <em>all</em> columns in <code>iData</code>, <em>except</em> the three special column names: <code>uCode</code>,
<code>uName</code>, and <code>Time</code>. In other words, all column names of <code>iData</code> should appear in <code>iMeta$iCode</code>, except
the three special cases mentioned. The <code>iName</code> column optionally can be used to give longer names to each indicator
which can be used for display in plots.
</p>
<p><code>iMeta</code> also specifies the structure of the index, by specifying the parent of each indicator and aggregate.
The <code>Parent</code> column must refer to entries that can be found in <code>iCode</code>. Try <code>View(ASEM_iMeta)</code> for an example
of how this works.
</p>
<p><code>Level</code> is the "vertical" level in the hierarchy, where 1 is the bottom level (indicators), and each successive
level is created by aggregating the level below according to its specified groups.
</p>
<p><code>Direction</code> is set to 1 if higher values of the indicator should result in higher values of the index, and
-1 in the opposite case.
</p>
<p>The <code>Type</code> column specifies the type of the entry: <code>Indicator</code> should be used for indicators at level 1.
<code>Aggregate</code> for aggregates created by aggregating indicators or other aggregates. Otherwise set to <code>Group</code>
if the variable is not used for building the index but instead is for defining groups of units. Set to
<code>Denominator</code> if the variable is to be used for scaling (denominating) other indicators. Finally, set to
<code>Other</code> if the variable should be ignored but passed through. Any other entries here will cause an error.
</p>
<p>Note: this function requires the columns above as specified, but extra columns can also be added without
causing errors.
</p>


<h3>Value</h3>

<p>Message if everything ok, else error messages.
</p>


<h3>Examples</h3>

<pre><code class="language-R">check_iMeta(ASEM_iMeta)

</code></pre>


</div>