<div class="container">

<table style="width: 100%;"><tr>
<td>replicate_correlation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Measure replicate correlation of variables.</h2>

<h3>Description</h3>

<p>'replicate_correlation' measures replicate correlation of variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">replicate_correlation(
  sample,
  variables,
  strata,
  replicates,
  replicate_by = NULL,
  split_by = NULL,
  cores = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>tbl containing sample used to estimate parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>character vector specifying observation variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>character vector specifying grouping variables for grouping prior to normalization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicates</code></td>
<td>
<p>number of replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicate_by</code></td>
<td>
<p>optional character string specifying column containing the replicate id.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_by</code></td>
<td>
<p>optional character string specifying column  by which to split the sample into batches; replicate correlations will be calculate per batch.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>optional integer specifying number of CPU cores used for parallel computing using <code>doParallel</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>data frame of variable quality measurements
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(123)
x1 &lt;- rnorm(10)
x2 &lt;- x1 + rnorm(10) / 100
y1 &lt;- rnorm(10)
y2 &lt;- y1 + rnorm(10) / 10
z1 &lt;- rnorm(10)
z2 &lt;- z1 + rnorm(10) / 1

batch &lt;- rep(rep(1:2, each = 5), 2)

treatment &lt;- rep(1:10, 2)

replicate_id &lt;- rep(1:2, each = 10)

sample &lt;-
  tibble::tibble(
    x = c(x1, x2), y = c(y1, y2), z = c(z1, z2),
    Metadata_treatment = treatment,
    Metadata_replicate_id = replicate_id,
    Metadata_batch = batch
  )

head(sample)

# `replicate_correlation`` returns the median, min, and max
# replicate correlation (across batches) per variable
replicate_correlation(
  sample = sample,
  variables = c("x", "y", "z"),
  strata = c("Metadata_treatment"),
  replicates = 2,
  split_by = "Metadata_batch",
  replicate_by = "Metadata_replicate_id",
  cores = 1
)
</code></pre>


</div>