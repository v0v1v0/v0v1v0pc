<div class="container">

<table style="width: 100%;"><tr>
<td>effectsize_tte</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Effect for composite time-to-event endpoints</h2>

<h3>Description</h3>

<p>This function calculates different effect measures for time-to-event composite outcomes. 
The composite endpoint is assumed to be a time-to-event endpoint formed by a combination of two events (E1 and E2).
The effect size is calculated on the basis of anticipated information on the composite components and the correlation between them.
Marginal distributions are assumed weibull for both endpoints.
The function allows to compute the effect size in terms of the geometric average hazard ratio, the average hazard ratio, 
the ratio of restricted mean survival times and the median survival time ratio.
</p>


<h3>Usage</h3>

<pre><code class="language-R">effectsize_tte(
  p0_e1,
  p0_e2,
  HR_e1,
  HR_e2,
  beta_e1 = 1,
  beta_e2 = 1,
  case,
  copula = "Frank",
  rho = 0.3,
  rho_type = "Spearman",
  followup_time = 1,
  subdivisions = 1000,
  plot_res = FALSE,
  plot_store = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p0_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p0_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected proportion of observed events for the endpoint E2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HR_e1</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>HR_e2</code></td>
<td>
<p>numeric parameter between 0 and 1, expected cause specific hazard Ratio the endpoint E2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_e1</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_1</code>) for a Weibull distribution for the endpoint E1 in the control group. See details for more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_e2</code></td>
<td>
<p>numeric positive parameter, shape parameter (<code class="reqn">\beta_2</code>) for a Weibull distribution for the endpoint E2 in the control group. See details for more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case</code></td>
<td>
<p>integer parameter in {1,2,3,4}: (1) none of the endpoints is death; (2) endpoint 2 is death; (3) endpoint 1 is death; (4) both endpoints are death by different causes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>copula</code></td>
<td>
<p>character indicating the copula to be used: "Frank" (default), "Gumbel" or "Clayton". See details for more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho</code></td>
<td>
<p>numeric parameter between -1 and 1, Spearman's correlation coefficient o Kendall Tau between the marginal distribution of the times to the two events E1 and E2. See details for more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rho_type</code></td>
<td>
<p>character indicating the type of correlation to be used: "Spearman" (default) or "Tau". See details for more info.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>followup_time</code></td>
<td>
<p>numeric parameter indicating the maximum follow up time (in any unit). Default is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subdivisions</code></td>
<td>
<p>integer parameter greater than or equal to 10. Number of subintervals to estimate the effect size. The default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_res</code></td>
<td>
<p>logical indicating if the HR over time should be displayed. The default is FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_store</code></td>
<td>
<p>logical indicating if the plot of HR over time should is stored for future customization. The default is FALSE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Some parameters might be difficult to anticipate, especially the shape parameters of Weibull distributions and those referred to the relationship between the marginal distributions. 
For the shape parameters (beta_e1, beta_e2) of the Weibull distribution, we recommend to use <code class="reqn">\beta_j=0.5</code>, <code class="reqn">\beta_j=1</code> or <code class="reqn">\beta_j=2</code> if a decreasing, constant or increasing rates over time are expected, respectively.
For the correlation (rho) between both endpoints, generally a positive value is expected as it has no sense to design an study with two endpoints negatively correlated. We recommend to use <code class="reqn">\rho=0.1</code>, <code class="reqn">\rho=0.3</code> or <code class="reqn">\rho=0.5</code> for weak, mild and moderate correlations, respectively.
For the type of correlation (rho_type), although two different type of correlations are implemented, we recommend the use of the Spearman's correlation.
In any case, if no information is available on these parameters, we recommend to use the default values provided by the function.
</p>
<p>All returned expected effect sizes for the composite endpoint should be interpreted in relative terms (treated to control). 
gAHR and AHR represent the risk reduction that will be achieved with the new therapy, while RMST_ratio and Median_ratio represent the gain in time gain terms until the event.
</p>


<h3>Value</h3>

<p>A list formed by two lists: <code>effect_size</code>, which contains the 
expected treatment effect measures and <code>measures_by_group</code>, which contains 
some relevant measures for each group
</p>
<p><code>effect_size</code> list:
</p>

<dl>
<dt><code>gAHR</code></dt>
<dd>
<p>geometric Average Hazard Ratio</p>
</dd>
<dt><code>AHR</code></dt>
<dd>
<p>Average Hazard Ratio</p>
</dd>
<dt><code>RMST_ratio</code></dt>
<dd>
<p>Restricted Mean Survival Time Ratio</p>
</dd>
<dt><code>Median_ratio</code></dt>
<dd>
<p>Median Survival Time Ratio</p>
</dd>
</dl>
<p><code>measures_by_group</code> list:
</p>

<dl>
<dt><code>pstar</code></dt>
<dd>
<p>array with the probability of observing the composite event for each group</p>
</dd>
<dt><code>p1</code></dt>
<dd>
<p>array with the probability of observing the first event for each group</p>
</dd>
<dt><code>p2</code></dt>
<dd>
<p>array with the probability of observing the second event for each group</p>
</dd>
<dt><code>RMST</code></dt>
<dd>
<p>array with the restricted mean survival time for each group</p>
</dd>
<dt><code>Median</code></dt>
<dd>
<p>array with the median surival time for each group</p>
</dd>
</dl>
<p>In addition, if <code>plot_store=TRUE</code> an object of class <code>ggplot</code> with
the HR over time for composite endpoint is stored in the list.
</p>


<h3>References</h3>

<p>Schemper, M., Wakounig, S., Heinze, G. (2009). The estimation of average hazard ratios by weighted Cox regression. Stat. in Med. 28(19): 2473â€“2489. doi:10.1002/sim.3623
</p>


</div>