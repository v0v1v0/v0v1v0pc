<div class="container">

<table style="width: 100%;"><tr>
<td>plot.amce</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Plot AMCE Estimates
</h2>

<h3>Description</h3>

<p><code>plot</code> method for "amce" objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'amce'
plot(x, main = "", xlab = "Change in E[Y]", ci = 0.95,
                    colors = NULL, xlim = NULL, breaks = NULL,
                    labels = NULL, attribute.names = NULL, level.names = NULL,
                    label.baseline = TRUE, text.size = 11, text.color = "black",
                    point.size = 0.5, dodge.size = 0.9, plot.theme = NULL,
                    plot.display = "all",
					facet.names = NULL, facet.levels = NULL, 
					group.order = NULL,font.family = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x </code></td>
<td>

<p>An object of class "amce", a result of a call to <code>amce</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main </code></td>
<td>

<p>Title of the plot.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab </code></td>
<td>

<p>Label of the x-axis of the plot (AMCE or ACIE). Default is "Change in E[Y]"
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci </code></td>
<td>

<p>Levels for confidence intervals to plot around point estimates. Must be between 0 and 1. Default is .95
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors </code></td>
<td>

<p>Vector of color names to be used for points and confidence intervals. The <code>plot</code> function will alternate between the colors in the vector for each attribute being plotted. If NULL, <code>plot</code> will use a default <code>ggplot2</code> color scheme.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim </code></td>
<td>

<p>Numeric vector denoting the upper and lower bounds of the x-axis in the plot. If <code>NULL</code> the plot function will automatically set a range that includes all effect estimates.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks </code></td>
<td>

<p>Numeric vector denoting where x-axis tick marks should be placed. If <code>NULL</code> plot will use <code>ggplot2</code> defaults.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels </code></td>
<td>

<p>Vector denoting how x-axis tick marks should be labeled. If <code>NULL</code> plot will use ggplot2 defaults.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribute.names </code></td>
<td>

<p>Character vector of attribute names to be plotted as labels. By default <code>plot.amce</code> will use the attribute names in the "amce" object passed to it.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level.names </code></td>
<td>

<p>A list containing character vector elements with names in <code>attribute.names</code>. Each character vector in the list contains the level names to be plotted as labels beneath the corresponding attribute. By default <code>plot.amce</code> will use the level names in the "amce" object passed to it.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.baseline </code></td>
<td>

<p>If <code>TRUE</code>, the baseline levels for each attribute will be labeled as such. Defaults to <code>TRUE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.size </code></td>
<td>

<p>Size of text. Defaults to 11.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text.color </code></td>
<td>

<p>Color of text in plot. Defaults to "black".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>point.size </code></td>
<td>

<p>Size of points in the plot. Defaults to 0.5.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dodge.size </code></td>
<td>

<p>Width to dodge overlaps to the side. Defaults to 0.9.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.theme </code></td>
<td>

<p>A ggplot2 'theme' object to be added to the plot. If NULL, defaults to black-and-white theme. Note that passing a theme object will override text and point color/size options. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.display</code></td>
<td>

<p>Character string, one of "all", "unconditional", or "interaction". Option "all" will display both unconditional and interaction estimates. The "unconditional" option will display only 1 plot for unconditional estimates (both AMCE and ACIE) ignoring any facets provided to "facet.names" or respondent-varying characteristics. Option "interaction" will drop the unconditional plot and instead display only (unconditional) ACIE's or estimates conditional on respondent-varying characteristics as specified in the user-supplied option "facet.names". Defaults to "all".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet.names </code></td>
<td>

<p>To facet plots (i.e., make separate plots for each value of a variable) give "facet.names" a vector of character strings containing the names of the variable(s) (either profile attribute or respondent-varying) to facet by. Unless given specific levels in "facet.levels", the plotted levels will consist of all levels of a factor variable or the quantiles of a continuous variable. Multiple facet variables cannot currently be varied at the same time within the same plot. Instead conditional effects will be calculated for one facet at a time while others are held at their first value in facet.levels, by default the bottom quantile for continuous variables and the baseline for factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet.levels </code></td>
<td>

<p>To manually set facet levels, provide a list to "facet.levels". Names of list entries should correspond with variable names. The content of each entry should be a vector giving the desired levels, whether factors or continuous. To change the displayed names of the levels, assign names to each vector entry. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group.order </code></td>
<td>

<p>To manually set the order of the attributes, provide a vector to "group.order". Names of the vector entries should correspond with name of the attribute. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>

<p>Other graphical parameters passed to <code>ggplot</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>font.family </code></td>
<td>

<p>Will be passed to the ggplot function as the argument for font.family. If NULL, defaults will be used.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ggplot</code> object containing a dotplot of estimated AMCEs.
</p>


<h3>References</h3>

<p>Hainmueller, J., Hopkins, D., and Yamamoto T. (2014) Causal Inference in Conjoint Analysis: Understanding Multi-Dimensional Choices via Stated Preference Experiments. Political Analysis 22(1):1-30
</p>


<h3>See Also</h3>

<p><code>amce</code> for the main estimation routine.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Immigration Choice Conjoint Experiment Data from Hainmueller et. al. (2014).
data("immigrationconjoint")
data("immigrationdesign")

# Run AMCE estimator using all attributes in the design
results &lt;- amce(Chosen_Immigrant ~  Gender + Education + `Language Skills` +
                `Country of Origin` + Job + `Job Experience` + `Job Plans` +
                `Reason for Application` + `Prior Entry`, data=immigrationconjoint,
                cluster=TRUE, respondent.id="CaseID", design=immigrationdesign)

# Plot results
plot(results, xlab="Change in Pr(Immigrant Preferred for Admission to U.S.)",
    ylim=c(-.3,.3), breaks=c(-.2, 0, .2), labels=c("-.2","0",".2"), text.size=13)
	
# Plot results with user-specified order of attributes
plot(results, xlab="Change in Pr(Immigrant Preferred for Admission to U.S.)",
     ylim=c(-.3,.3), breaks=c(-.2, 0, .2), labels=c("-.2","0",".2"), text.size=13,
     group.order=c("Gender","Education","Job",
                     "Language Skills","Job Experience",
                     "Job Plans","Reason for Application",
                     "Prior Entry","Country of Origin"))


# Run AMCE estimator with an interaction with a respondent-varying characteristic
interaction_results &lt;- amce(Chosen_Immigrant ~ Gender + Education
		    + Job + ethnocentrism:Job,
		    data = immigrationconjoint,na.ignore=TRUE,
		    design = immigrationdesign, cluster = FALSE,
		    respondent.varying = "ethnocentrism")

# Plot results with additional plots for quantiles of the respondent-varying characteristic
plot(interaction_results)

# Plot results with user-specified order of attributes
plot(interaction_results, group.order=c("Gender","Education","Job"))

# Do not show output for variables that do not vary with facetted levels
plot(interaction_results,plot.display="unconditional")

# RUN AMCE estimator with an interaction between two factor variables
interaction_results &lt;- amce(Chosen_Immigrant ~ Gender + Education + Job
		    + Education:Job, data = immigrationconjoint,
		    cluster = FALSE, design = immigrationdesign)

# Plot results with different plots for all levels of ACIE
plot(interaction_results,facet.names = "Education")


# Plot results with different plots for only two levels of one interacted variable
facet.levels1 &lt;- list()
facet.levels1[["Education"]] &lt;- c("college degree","graduate degree")
plot(interaction_results,facet.names = "Education",facet.levels = facet.levels1)

# Display only interaction panes
plot(interaction_results,facet.names = "Education",plot.display="interaction")

#Display only non-interaction panes
plot(interaction_results,facet.names = "Education",plot.display="unconditional")

#Change displayed attribute and level names
results &lt;- amce(Chosen_Immigrant ~ Gender + Education + Job, data = immigrationconjoint,
		    cluster = FALSE, design = immigrationdesign)
levels.test&lt;-list()
levels.test[["Gender"]]&lt;-c("level1","level2")
levels.test[["Education"]]&lt;-c("level1","b","c","d","e","f","g")
levels.test[["Job"]]&lt;-c("a","b","c","d","e","f","g","h","i","j","k")
plot(results, level.names = levels.test, main="test", xlab="test", 
ci=0.95, breaks=c(-0.2,-0.1,0,0.1,0.2), attribute.names = c("attribute1","attribute2","attribute3"))


## End(Not run)
</code></pre>


</div>