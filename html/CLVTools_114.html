<div class="container">

<table style="width: 100%;"><tr>
<td>pmf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Probability Mass Function</h2>

<h3>Description</h3>

<p>Calculate P(X(t)=x), the probability to make exactly <code>x</code> repeat transactions in
the interval (0, t]. This interval is in the estimation period and excludes values of <code>t=0</code>.
Note that here <code>t</code> is defined as the observation period <code>T.cal</code> which differs by customer.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'clv.fitted.transactions'
pmf(object, x = 0:5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>The fitted transaction model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Vector of positive integer numbers (&gt;=0) indicating the number of repeat transactions x for
which the PMF should be calculated.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <code>data.table</code> with ids and depending on <code>x</code>, multiple columns of PMF values, each column
for one value in <code>x</code>.
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Id</code></td>
<td>
<p>customer identification</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pmf.x.Y</code></td>
<td>
<p>PMF values for Y number of transactions</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>The model fitting functions <code>pnbd,
bgnbd, ggomnbd</code>.
</p>
<p><code>plot</code> to visually compare
the PMF values against actuals.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data("cdnow")

# Fit the ParetoNBD model on the CDnow data
pnbd.cdnow &lt;- pnbd(clvdata(cdnow, time.unit="w",
                           estimation.split=37,
                           date.format="ymd"))

# Calculate the PMF for 0 to 10 transactions
#  in the estimation period
pmf(pnbd.cdnow, x=0:10)

# Compare vs. actuals (CBS in estimation period):
# x    mean(pmf)    actual percentage of x
# 0    0.616514     1432/2357= 0.6075519
# 1    0.168309     436/2357 = 0.1849809
# 2    0.080971     208/2357 = 0.0882478
# 3    0.046190     100/2357 = 0.0424268
# 4    0.028566     60/2357  = 0.0254561
# 5    0.018506     36/2357  = 0.0152737
# 6    0.012351     27/2357  = 0.0114552
# 7    0.008415     21/2357  = 0.0089096
# 8    0.005822     5/2357   = 0.0021213
# 9    0.004074     4/2357   = 0.0016971
# 10   0.002877     7/2357   = 0.0029699


</code></pre>


</div>