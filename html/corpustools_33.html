<div class="container">

<table style="width: 100%;"><tr>
<td>export_span_annotations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Export span annotations</h2>

<h3>Description</h3>

<p>Export columns from a tCorpus as span annotations (annotations over a span of text).
The annotations are returned as a data.table where each row is an annotation, with columns:
doc_id, variable, value, field, offset, length and text. The key purpose is that these span annotations
are linked to exact character positions in the text. This also means that this function can 
only be used if position information is available (i.e. if remember_spaces=T was used when creating the tCorpus)
</p>


<h3>Usage</h3>

<pre><code class="language-R">export_span_annotations(tc, variables)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tc</code></td>
<td>
<p>A tCorpus, created with <code>create_tcorpus</code>, where remember_spaces must have been set to TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variables</code></td>
<td>
<p>A character vector with variables (columns in tc$tokens) to export</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that if there are spans with gaps in them (e.g. based on proximity queries), they are split into different annotations.
Thus some information can be lost.
</p>


<h3>Value</h3>

<p>A data.table where each row is a span annotation, with columns: doc_id, variable, value, field, offset, length, text
</p>


<h3>Examples</h3>

<pre><code class="language-R">tc = create_tcorpus(sotu_texts, c('president','text'), doc_column='id', remember_spaces=TRUE)
tc$code_features(c('war# war peace', 'us being# &lt;(i we) (am are)&gt;'))
export_span_annotations(tc, 'code')
</code></pre>


</div>