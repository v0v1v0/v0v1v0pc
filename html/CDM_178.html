<div class="container">

<table style="width: 100%;"><tr>
<td>IRT.repDesign</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generation of a Replicate Design for <code>IRT.jackknife</code>
</h2>

<h3>Description</h3>

<p>This function generates a Jackknife replicate design which is
necessary to use the <code>IRT.jackknife</code> function. The function
is a wrapper to <code>BIFIE.data.jack</code> in the <span class="pkg">BIFIEsurvey</span> package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">IRT.repDesign(data, wgt=NULL, jktype="JK_TIMSS", jkzone=NULL, jkrep=NULL,
   jkfac=NULL, fayfac=1, wgtrep="W_FSTR", ngr=100, Nboot=200, seed=.Random.seed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>Dataset which must contain weights and item responses
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgt</code></td>
<td>

<p>Vector with sample weights
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jktype</code></td>
<td>

<p>Type of jackknife procedure for creating the BIFIE.data object.
<code>jktype="JK_TIMSS"</code> refers to TIMSS/PIRLS datasets.
The type <code>"JK_GROUP"</code> creates jackknife weights based on a user defined grouping,
the type <code>"JK_RANDOM"</code> creates random groups.
The number of random groups can be defined in ngr.
The argument <code>type="RW_PISA"</code> extracts the replicated design with
balanced repeated replicate weights from PISA datasets into objects of
class <code>IRT.repDesign</code>.
Bootstrap samples can be obtained by <code>type="BOOT"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jkzone</code></td>
<td>

<p>Variable name for jackknife zones.
If <code>jktype="JK_TIMSS"</code>, then <code>jkzone="JKZONE"</code>. However,
this default can be overwritten.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jkrep</code></td>
<td>

<p>Variable name containing Jackknife replicates
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>jkfac</code></td>
<td>

<p>Factor for multiplying jackknife replicate weights.
If <code>jktype="JK_TIMSS"</code>, then <code>jkfac=2</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fayfac</code></td>
<td>

<p>Fay factor. For Jackknife, the default is 1. For a Bootstrap with
<code class="reqn">R</code> samples with replacement, the Fay factor is <code class="reqn">1/R</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgtrep</code></td>
<td>

<p>Already available replicate design
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngr</code></td>
<td>

<p>Number of groups
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nboot</code></td>
<td>
<p>Number of bootstrap samples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>Random seed
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with following entries
</p>
<table>
<tr style="vertical-align: top;">
<td><code>wgt</code></td>
<td>
<p>Vector with weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wgtrep</code></td>
<td>
<p>Matrix containing the replicate design</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fayfac</code></td>
<td>
<p>Fay factor needed for Jackknife calculations</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p>See <code>IRT.jackknife</code> for further examples.
</p>
<p>See the <code>BIFIE.data.jack</code> function in the <span class="pkg">BIFIEsurvey</span> package.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# load the BIFIEsurvey package
library(BIFIEsurvey)

#############################################################################
# EXAMPLE 1: Design with Jackknife replicate weights in TIMSS
#############################################################################

data(data.timss11.G4.AUT, package="CDM")
dat &lt;- CDM::data.timss11.G4.AUT$data
# generate design
rdes &lt;- CDM::IRT.repDesign( data=dat,  wgt="TOTWGT", jktype="JK_TIMSS",
             jkzone="JKCZONE", jkrep="JKCREP" )
str(rdes)

#############################################################################
# EXAMPLE 2: Bootstrap resampling
#############################################################################

data(sim.qmatrix, package="CDM")
q.matrix &lt;- CDM::sim.qmatrix

# simulate data according to the DINA model
dat &lt;- CDM::sim.din(N=2000, q.matrix=q.matrix )$dat

# bootstrap with 300 random samples
rdes &lt;- CDM::IRT.repDesign( data=dat, jktype="BOOT", Nboot=300 )

## End(Not run)
</code></pre>


</div>