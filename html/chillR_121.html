<div class="container">

<table style="width: 100%;"><tr>
<td>weather2chillR</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert downloaded weather to chillR format</h2>

<h3>Description</h3>

<p>Convert downloaded weather data into a data frame that makes running other
chillR functions easy.
</p>


<h3>Usage</h3>

<pre><code class="language-R">weather2chillR(downloaded_weather, database = "GSOD", drop_most = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>downloaded_weather</code></td>
<td>
<p>weather file downloaded with the get_weather
function. This can be a data.frame or a list with elements database and
weather as produced by get_weather</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>database</code></td>
<td>
<p>weather database that the file was downloaded from. Can only
be "GSOD" at this point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop_most</code></td>
<td>
<p>boolean variable indicating if most columns should be
dropped from the file. If set to TRUE (default), only essential columns for
running chillR functions are retained.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>weather databases, from which chillR can download data: NOAA NCDC Global
Summary of the Day - "GSOD"
(https://data.noaa.gov/dataset/global-surface-summary-of-the-day-gsod)
</p>
<p>California Irrigation Management Information System (CIMIS) - "CIMIS"
(http://www.cimis.water.ca.gov/)
</p>
<p>University of California Integrated Pest Management (UCIPM) - "UCIPM"
(http://ipm.ucdavis.edu/WEATHER/)
</p>
<p>data should first be downloaded with get_weather. Then the database name is
passed to the function and can be skipped in the call. If only a data.frame
is provided, then the database name must be specified.
</p>
<p>Processing the data with this function will make the data work well with the
remainder of this package.
</p>


<h3>Value</h3>

<p>a data.frame with weather data, according to the downloaded file
provided as input. If drop_most is FALSE, all columns from the original
dataset are preserved, although some column names are adjusted to chillR's
preferences ("Year","Month","Day","Tmin","Tmax","Tmean","Prec"). If
drop_most is TRUE, only columns likely to be of interest to chillR users are
retained. If a list with elements database and weather is passed to this
function, this structure will be retained in the output.
</p>


<h3>Note</h3>

<p>Many databases have data quality flags, which may sometimes indicate
that data aren't reliable. These are not considered by this function!
</p>


<h3>Author(s)</h3>

<p>Eike Luedeling
</p>


<h3>References</h3>

<p>The chillR package:
</p>
<p>Luedeling E, Kunz A and Blanke M, 2013. Identification of chilling and heat
requirements of cherry trees - a statistical approach. International Journal
of Biometeorology 57,679-689.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# All examples are disabled, because the database is sometimes unavailable. This then generates
# an error when R runs its package functionality checks. To run the examples, remove the # mark,
# before running the code.

#stat_list&lt;-get_weather(location=c(lat=40,lon=-120,ele=150),time_interval=c(2015,2016),
#database="UCIPM")
#chillRcode&lt;-stat_list[which(stat_list$Perc_interval_covered==
#max(stat_list$Perc_interval_covered)),"chillR_code"][1]
#chillRcode should equal "DOYLE.C" now.
#gw&lt;-get_weather(location="DOYLE.C",time_interval=c(2002,2002),database="UCIPM")
#weather&lt;-weather2chillR(gw$weather,"GSOD")
#weather&lt;-weather2chillR(gw)

</code></pre>


</div>