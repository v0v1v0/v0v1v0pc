<div class="container">

<table style="width: 100%;"><tr>
<td>ctv-server</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>CRAN Task Views: Tools for Maintainers</h2>

<h3>Description</h3>

<p>Server-side tools for maintaining CRAN task views.
</p>


<h3>Usage</h3>

<pre><code class="language-R">read.ctv(file, ...)

ctv2html(x, file = NULL, cran = FALSE,
  css = NULL, packageURL = NULL, reposname = "CRAN")

check_ctv_packages(file, repos = TRUE, ...)

repos_update_views(repos = ".", cran = TRUE,
  css = NULL, reposname = "CRAN", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character specifying a file path: for <code>read.ctv</code> a CRAN
task view file, and for <code>ctv2html</code> the corresponding output ‘<span class="file">.html</span>’ file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>"ctv"</code> as returned by <code>read.ctv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cran</code></td>
<td>
<p>logical. Is the HTML to be hosted on CRAN?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>css</code></td>
<td>
<p>character specifying the path and name of the cascade style
sheet that should be included in the HTML files (if any). The default
is <code>"../CRAN_web.css"</code> if <code>cran = TRUE</code> and <code>NULL</code> otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packageURL</code></td>
<td>
<p>character specifying the path (relative to the view directory)
to the package descriptions. The default is <code>"https://CRAN.R-project.org/package=%s"</code>
if <code>cran = FALSE</code> and <code>"../packages/"</code> otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reposname</code></td>
<td>
<p>character giving the name of the CRAN-style repository,
used for generating HTML pages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repos</code></td>
<td>
<p>character, the base URL of the CRAN-style repository where the ‘<span class="file">Views.rds</span>’
and ‘<span class="file">.html</span>’ files should be installed. The task view files should
be located in the ‘<span class="file">web/views/</span>’ directory. If <code>repos = TRUE</code> (default)
the official CRAN repository is used and checks for archived packages are included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>available.packages</code> or
<code>ctv2html</code>, respectively.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>CRAN Task views are generated from an R/Markdown-based file format that is described in
the vignette of this package. (Previous versions used an XML-based format which is still
fully supported in all functions.)
</p>
<p><code>read.ctv</code> can read a file with a CRAN task view specification
and returns an object of class <code>"ctv"</code>. This functions requires the availability
of the <span class="pkg">knitr</span>/<span class="pkg">rmarkdown</span> packages (or the <span class="pkg">xml2</span> package, respectively,
for the legacy XML format).
</p>
<p><code>ctv2html</code> generates a ‘<span class="file">.html</span>’ file with the information contained in
a <code>"ctv"</code> object.
</p>
<p><code>check_ctv_packages</code> checks whether the info and packagelist sections of the
task view file are consistent with each other and whether all packages are available
from the repository.
</p>
<p><code>repos_update_views</code> reads all task view files in a specified directory, generates
a ‘<span class="file">.html</span>’ file for each and an index ‘<span class="file">.html</span>’ file. Furthermore, it stores
all <code>"ctv"</code> objects in a <code>"ctvlist"</code> object in a file ‘<span class="file">Views.rds</span>’ that can be queried
by <code>install.views</code> or <code>CRAN.views</code>.
</p>


<h3>Value</h3>

<p><code>repos_update_views</code> returns an object of class <code>"ctvlist"</code> containing
the <code>"ctv"</code> objects available.
</p>
<p><code>ctv2html</code> returns invisibly a vector with the HTML code generated.
</p>
<p><code>check_ctv_packages</code> returns a list of character vectors with package names.
</p>
<p><code>read.ctv</code> returns a list of class <code>"ctv"</code> with elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>character, name of the task view (must be a valid name for an R object).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>topic</code></td>
<td>
<p>character, topic of the task view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maintainer</code></td>
<td>
<p>character, maintainer of the task view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>email</code></td>
<td>
<p>character, valid e-mail address (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>version</code></td>
<td>
<p>character, version specified via date in ISO format.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>character, valid task view URL (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>character, source repository where the task view file is maintained (optional).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>character, HTML code with informations about the task view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>packagelist</code></td>
<td>
<p>data frame with the columns <code>name</code>
(character, name of package) and <code>core</code> (logical, Is priority core?).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>links</code></td>
<td>
<p>character vector, HTML code with links for the task view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>otherlinks</code></td>
<td>
<p>character vector, HTML code with links to other resources for the task view.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>citation</code></td>
<td>
<p>citation object inheriting from <code>bibentry</code> with
information how to cite the task view.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>install.views</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## task view file shipped within the package
ctv &lt;- system.file("ctv", "Econometrics.md", package = "ctv")

if(require("knitr") &amp; require("rmarkdown")) {
## read task view file
x &lt;- read.ctv(ctv)

## print
x
}

## Not run: 
## generate corresponding .html file from task view object
ctv2html(x)
## or equivalently from task view file
ctv2html(ctv)

## check packagelist
check_ctv_packages(ctv)

## End(Not run)
</code></pre>


</div>