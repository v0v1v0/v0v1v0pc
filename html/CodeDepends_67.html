<div class="container">

<table style="width: 100%;"><tr>
<td>getDetailedTimelines</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute and plot life cycle of variables in code</h2>

<h3>Description</h3>

<p>These functions allow one to get and visualize information about
when variables are defined, redefined and used within
and across blocks of code in a script or the body of a function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getDetailedTimelines(doc, info = getInputs(doc, ...), vars =
getVariables(info, functions = functions), functions=TRUE, ...)
## S3 method for class 'DetailedVariableTimeline'
plot(x, var.srt = 0,
                                         var.mar = round(max(4,
.5*max(nchar(levels(x$var))))), var.cex = 1, main = attr(x, "scriptName"),...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>doc</code></td>
<td>
<p>the name of a file or a connection which identifies the
code to be analyzed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>meta-information extracted from the code identifying the
inputs and outputs. See <code>getInputs</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>the variables of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functions</code></td>
<td>
<p>What type of functions should be included in the
timeline: <code>NULL</code> for none, <code>TRUE</code> for locally defined
only, <code>NA</code> for unknown provenance functions, or <code>FALSE</code>
for non-locally-defined functions. Defaults to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the <code>DetailedVariableTimeline</code> object being plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.srt</code></td>
<td>
<p>rotation of the labels for the vertical axis listing
the variables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.mar</code></td>
<td>
<p>the number of lines to leave for the vertical axis.
The labels for this are variable names so one often needs more space
or to change the size of the labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.cex</code></td>
<td>
<p>character expansion factor for the variable labels on
</p>
<p>the vertical axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>the title of the plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Passed to down to getInputs for the default <code>info</code>
value in <code>getDetailedTimelines</code> and to underlying plotting
functions for <code>plot.DetailedTimelines</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>getDetailedTimelines</code> returns a data frame
with four columns: <code>step</code>, <code>used</code>, <code>defined</code>, and
<code>var</code>. Step represents steps within the timeline, with the same
value indicating that the described event are occuring at the same
time. <code>used</code> indicates whether <code>var</code> was used at that step,
and <code>defined</code> indicates whether <code>var</code> was defined. Many rows
will have <code>FALSE</code> for both as the variable is not used in that
code block.
</p>


<h3>Author(s)</h3>

<p>Duncan Temple Lang</p>


<h3>See Also</h3>

<p><code>getInputs</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">f = system.file("samples", "results-multi.R", package = "CodeDepends")
sc = readScript(f)
dtm = getDetailedTimelines(sc, getInputs(sc))
plot(dtm)
table(dtm$var)

 # A big/long function
info = getInputs(arima0)
dtm = getDetailedTimelines(info = info)
plot(dtm, var.cex = .7, mar = 4, srt = 30)
</code></pre>


</div>