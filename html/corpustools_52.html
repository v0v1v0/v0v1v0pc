<div class="container">

<table style="width: 100%;"><tr>
<td>merge_tcorpora</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Merge tCorpus objects</h2>

<h3>Description</h3>

<p>Create one tcorpus based on multiple tcorpus objects
</p>


<h3>Usage</h3>

<pre><code class="language-R">merge_tcorpora(
  ...,
  keep_data = c("intersect", "all"),
  keep_meta = c("intersect", "all"),
  if_duplicate = c("stop", "rename", "drop"),
  duplicate_tag = "#D"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>tCorpus objects, or a list with tcorpus objects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_data</code></td>
<td>
<p>if 'intersect', then only the token data columns that occur in all tCorpurs objects are kept</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_meta</code></td>
<td>
<p>if 'intersect', then only the document meta columns that occur in all tCorpurs objects are kept</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>if_duplicate</code></td>
<td>
<p>determine behaviour if there are duplicate doc_ids across tcorpora. By default, this yields an error, but you can set it to "rename" to change the names of duplicates (which makes sense of only the doc_ids are duplicate, but not the actual content), or "drop" to ignore duplicates, keeping only the first unique occurence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>duplicate_tag</code></td>
<td>
<p>a character string. if if_duplicates is "rename", this tag is added to the document id. (this is repeated till no duplicates remain)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a tCorpus object
</p>


<h3>Examples</h3>

<pre><code class="language-R">tc1 = create_tcorpus(sotu_texts[1:10,], doc_column = 'id')
tc2 = create_tcorpus(sotu_texts[11:20,], doc_column = 'id')
tc = merge_tcorpora(tc1, tc2)
tc$n_meta

#### duplicate handling ####
tc1 = create_tcorpus(sotu_texts[1:10,], doc_column = 'id')
tc2 = create_tcorpus(sotu_texts[6:15,], doc_column = 'id')


## with "rename", has 20 documents of which 5 duplicates
tc = merge_tcorpora(tc1,tc2, if_duplicate = 'rename')
tc$n_meta
sum(grepl('#D', tc$meta$doc_id))

## with "drop", has 15 documents without duplicates
tc = merge_tcorpora(tc1,tc2, if_duplicate = 'drop')
tc$n_meta
mean(grepl('#D', tc$meta$doc_id))
</code></pre>


</div>