<div class="container">

<table style="width: 100%;"><tr>
<td>similarityweight</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the similarity weight for a set of observations</h2>

<h3>Description</h3>

<p>Calculate the similarity weight for a set of observations, based
on their distance from some arbitrary points in data space. Observations which
are very similar to the point under consideration are given weight 1, while
observations which are dissimilar to the point are given weight zero.
</p>


<h3>Usage</h3>

<pre><code class="language-R">similarityweight(
  x,
  data,
  threshold = 1,
  distance = "euclidean",
  lambda = NULL,
  scale = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A dataframe describing arbitrary points in the space of the data
(i.e., with same <code>colnames</code> as <code>data</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe representing observed data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Threshold distance outside which observations will
be assigned similarity weight zero. This is numeric and should be &gt; 0.
Defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance</code></td>
<td>
<p>The type of distance measure to be used, currently just three
types of Minkowski distance: <code>"euclidean"</code> (default),
<code>"maxnorm"</code>, <code>"manhattan"</code> and also <code>"gower"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>A constant to multiply by the number of categorical
mismatches, before adding to the Minkowski distance, to give a general
dissimilarity measure. If left <code>NULL</code>, behaves as though <code>lambda</code>
is set larger than <code>threshold</code>, meaning that one factor mismatch
guarantees zero weight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>defaults to TRUE, in which case numeric variables are scaled to unit sd.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Similarity weight is assigned to observations based on their
distance from a given point. The distance is calculated as Minkowski
distance between the numeric elements for the observations whose
categorical elements match, or else the Gower distance.
</p>


<h3>Value</h3>

<p>A numeric vector or matrix, with values from 0 to 1. The similarity
weights for the observations in <code>data</code> arranged in rows for each row
in <code>x</code>.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). “Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.”<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Say we want to find observations similar to the first observation.
## The first observation is identical to itself, so it gets weight 1. The
## second observation is similar, so it gets some weight. The rest are more
## different, and so get zero weight.

data(mtcars)
similarityweight(x = mtcars[1, ], data = mtcars)

## By increasing the threshold, we can find observations which are more
## approximately similar to the first row. Note that the second observation
## now has weight 1, so we lose some ability to discern how similar
## observations are by increasing the threshold.

similarityweight(x = mtcars[1, ], data = mtcars, threshold = 5)

## Can provide a number of points to 'x'. Here we see that the Mazda RX4 Wag
## is more similar to the Merc 280 than the Mazda RX4 is.

similarityweight(mtcars[1:2, ], mtcars, threshold = 3)
</code></pre>


</div>