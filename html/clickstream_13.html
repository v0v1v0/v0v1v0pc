<div class="container">

<table style="width: 100%;"><tr>
<td>fitMarkovChain</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fits a List of Clickstreams to a Markov Chain</h2>

<h3>Description</h3>

<p>This function fits a list of clickstreams to a Markov chain. Zero-order,
first-order as well as higher-order Markov chains are supported. For
estimating higher-order Markov chains this function solves the following
linear or quadratic programming problem:<br></p>
<p style="text-align: center;"><code class="reqn">\min ||\sum_{i=1}^k X-\lambda_i
Q_iX||</code>
</p>
 <p style="text-align: center;"><code class="reqn">\mathrm{s.t.}</code>
</p>

<p style="text-align: center;"><code class="reqn">\sum_{i=1}^k \lambda_i = 1</code>
</p>
 <p style="text-align: center;"><code class="reqn">\lambda_i \ge
0</code>
</p>
<p> The distribution of states is given as <code class="reqn">X</code>.
<code class="reqn">\lambda_i</code> is the lag parameter for lag <code class="reqn">i</code> and <code class="reqn">Q_i</code> the
transition matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">fitMarkovChain(clickstreamList, order = 1, verbose = TRUE, control = list())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>clickstreamList</code></td>
<td>
<p>A list of clickstreams for which a Markov chain is
fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>(Optional) The order of the Markov chain that is fitted from
the clickstreams. Per default, Markov chains with <code>order=1</code> are fitted.
It is also possible to fit zero-order Markov chains (<code>order=0</code>) and
higher-order Markov chains.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>(Optional) An optimal logical variable to indicate whether warnings
and infos should be printed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>(Optional) The control list of optimization parameters. Parameter
<code>optimizer</code> specifies the type of solver used to solve the given
optimization problem. Possible values are "linear" (default) and "quadratic".
Parameter <code>use.lpSolve</code> determines whether lpSolve or linprog is used as
linear solver.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For solving the quadratic programming problem of higher-order Markov chains,
an augmented Lagrange multiplier method from the package
<code>Rsolnp</code> is used.
</p>


<h3>Value</h3>

<p>Returns a <code>MarkovChain</code> object.
</p>


<h3>Note</h3>

<p>At least half of the clickstreams need to consist of as many clicks as
the order of the Markov chain that should be fitted.
</p>


<h3>Author(s)</h3>

<p>Michael Scholz <a href="mailto:michael.scholz@th-deg.de">michael.scholz@th-deg.de</a>
</p>


<h3>References</h3>

<p>This method implements the parameter estimation method presented
in Ching, W.-K. et al.: <em>Markov Chains â€“ Models, Algorithms and
Applications</em>, 2nd edition, Springer, 2013.
</p>


<h3>See Also</h3>

<p><code>MarkovChain</code>,
<code>Rsolnp</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# fitting a simple Markov chain
clickstreams &lt;- c("User1,h,c,c,p,c,h,c,p,p,c,p,p,o",
               "User2,i,c,i,c,c,c,d",
               "User3,h,i,c,i,c,p,c,c,p,c,c,i,d",
               "User4,c,c,p,c,d",
               "User5,h,c,c,p,p,c,p,p,p,i,p,o",
               "User6,i,h,c,c,p,p,c,p,c,d")
cls &lt;- as.clickstreams(clickstreams, header = TRUE)
mc &lt;- fitMarkovChain(cls)
show(mc)

</code></pre>


</div>