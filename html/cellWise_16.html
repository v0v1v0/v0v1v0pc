<div class="container">

<table style="width: 100%;"><tr>
<td>DDCpredict</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
DDCpredict
</h2>

<h3>Description</h3>

<p>Based on a <code>DDC</code> fit on an initial (training) data set <code>X</code>, this function
analyzes a new (test) data set <code>Xnew</code>.</p>


<h3>Usage</h3>

<pre><code class="language-R">DDCpredict(Xnew, InitialDDC, DDCpars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Xnew</code></td>
<td>
<p>The new data (test data), which must be a matrix or a data frame. It must always be provided. Its columns (variables) should correspond to those of <code>InitialDDC$remX</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>InitialDDC</code></td>
<td>
<p>The output of the <code>DDC</code> function on the initial (training)
dataset. Must be provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DDCpars</code></td>
<td>
<p>The input options to be used for the prediction.
By default the options of InitialDDC are used.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with components: <br></p>
<table>
<tr style="vertical-align: top;">
<td><code>DDCpars</code></td>
<td>
<p>the options used in the call, see <code>DDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locX</code></td>
<td>
<p>the locations of the columns, from <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleX</code></td>
<td>
<p>the scales of the columns, from <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Z</code></td>
<td>
<p><code>Xnew</code> standardized by <code>locX</code> and <code>scaleX</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbngbrs</code></td>
<td>
<p>predictions use a combination of <code>nbngbrs</code> columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngbrs</code></td>
<td>
<p>for each column, the list of its neighbors, from <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robcors</code></td>
<td>
<p>for each column, the correlations with its neighbors, from <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>robslopes</code></td>
<td>
<p>slopes to predict each column by its neighbors, from <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>deshrinkage</code></td>
<td>
<p>for each connected column, its deshrinkage factor used in <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xest</code></td>
<td>
<p>predicted values for every cell of <code>Xnew</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scalestres</code></td>
<td>
<p>scale estimate of the residuals (<code>Xnew</code> - <code>Xest</code>), from <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stdResid</code></td>
<td>
<p>columnwise standardized residuals of <code>Xnew</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indcells</code></td>
<td>
<p>positions of cellwise outliers in <code>Xnew</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ti</code></td>
<td>
<p>outlyingness of rows in <code>Xnew</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>medTi</code></td>
<td>
<p>median of the <code>Ti</code> in <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>madTi</code></td>
<td>
<p>mad of the <code>Ti</code> in <code>InitialDDC</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indrows</code></td>
<td>
<p>row numbers of the outlying rows in <code>Xnew</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indNAs</code></td>
<td>
<p>positions of the <code>NA</code>'s in <code>Xnew</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indall</code></td>
<td>
<p>positions of <code>NA</code>'s and outlying cells in <code>Xnew</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ximp</code></td>
<td>
<p><code>Xnew</code> where all cells in indall are imputed by their prediction.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Rousseeuw P.J., Van den Bossche W. 
</p>


<h3>References</h3>

<p>Hubert, M., Rousseeuw, P.J., Van den Bossche W. (2019). MacroPCA: An all-in-one PCA method allowing for missing values as well as cellwise and rowwise outliers. <em>Technometrics</em>, <b>61</b>(4), 459-473. <a href="https://www.tandfonline.com/doi/full/10.1080/00401706.2018.1562989">(link to open access pdf)</a>
</p>


<h3>See Also</h3>

<p><code>checkDataSet</code>, <code>cellMap</code>,
<code>DDC</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MASS) 
set.seed(12345) 
n &lt;- 100; d &lt;- 10
A &lt;- matrix(0.9, d, d); diag(A) = 1
x &lt;- mvrnorm(n, rep(0,d), A)
x[sample(1:(n * d), 50, FALSE)] &lt;- NA
x[sample(1:(n * d), 50, FALSE)] &lt;- 10
x &lt;- cbind(1:n, x)
DDCx &lt;- DDC(x)
xnew &lt;- mvrnorm(50, rep(0,d), A)
xnew[sample(1:(50 * d), 50, FALSE)] &lt;- 10
predict.out &lt;- DDCpredict(xnew, DDCx)
cellMap(D = xnew, R = predict.out$stdResid,
columnlabels = 1:d, rowlabels = 1:50)

# For more examples, we refer to the vignette:
## Not run: 
vignette("DDC_examples")

## End(Not run)
</code></pre>


</div>