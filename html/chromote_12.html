<div class="container">

<table style="width: 100%;"><tr>
<td>Chromote</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Chromote class</h2>

<h3>Description</h3>

<p>A <code>Chromote</code> object represents the browser as a whole, and it can have
multiple <em>targets</em>, which each represent a browser tab. In the Chrome
DevTools Protocol, each target can have one or more debugging <em>sessions</em> to
control it. A <code>ChromoteSession</code> object represents a single <em>session</em>.
</p>
<p>A <code>Chromote</code> object can have any number of <code>ChromoteSession</code> objects as
children. It is not necessary to create a <code>Chromote</code> object manually. You can
simply call:
</p>
<div class="sourceCode r"><pre>b &lt;- ChromoteSession$new()
</pre></div>
<p>and it will automatically create a <code>Chromote</code> object if one has not already
been created. The <span class="pkg">chromote</span> package will then designate that <code>Chromote</code>
object as the <em>default</em> <code>Chromote</code> object for the package, so that any future
calls to <code>ChromoteSession$new()</code> will automatically use the same <code>Chromote</code>.
This is so that it doesn't start a new browser for every <code>ChromoteSession</code>
object that is created.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>default_timeout</code></dt>
<dd>
<p>Default timeout in seconds for <span class="pkg">chromote</span> to
wait for a Chrome DevTools Protocol response.</p>
</dd>
<dt><code>protocol</code></dt>
<dd>
<p>Dynamic protocol implementation. For expert use only!</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Chromote-new"><code>Chromote$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-connect"><code>Chromote$connect()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-view"><code>Chromote$view()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-get_auto_events"><code>Chromote$get_auto_events()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-get_child_loop"><code>Chromote$get_child_loop()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-wait_for"><code>Chromote$wait_for()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-new_session"><code>Chromote$new_session()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-get_sessions"><code>Chromote$get_sessions()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-register_session"><code>Chromote$register_session()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-send_command"><code>Chromote$send_command()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-invoke_event_callbacks"><code>Chromote$invoke_event_callbacks()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-debug_messages"><code>Chromote$debug_messages()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-debug_log"><code>Chromote$debug_log()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-url"><code>Chromote$url()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-is_active"><code>Chromote$is_active()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-is_alive"><code>Chromote$is_alive()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-check_active"><code>Chromote$check_active()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-get_browser"><code>Chromote$get_browser()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-close"><code>Chromote$close()</code></a>
</p>
</li>
<li> <p><a href="#method-Chromote-print"><code>Chromote$print()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-Chromote-new"></a>



<h4>Method <code>new()</code>
</h4>



<h5>Usage</h5>

<div class="r"><pre>Chromote$new(browser = Chrome$new(), multi_session = TRUE, auto_events = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>browser</code></dt>
<dd>
<p>A <code>Browser</code> object</p>
</dd>
<dt><code>multi_session</code></dt>
<dd>
<p>Should multiple sessions be allowed?</p>
</dd>
<dt><code>auto_events</code></dt>
<dd>
<p>If <code>TRUE</code>, enable automatic event enabling/disabling;
if <code>FALSE</code>, disable automatic event enabling/disabling.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-connect"></a>



<h4>Method <code>connect()</code>
</h4>

<p>Re-connect the websocket to the browser. The Chrome browser
automatically closes websockets when your computer goes to sleep;
you can use this to bring it back to life with a new connection.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$connect(multi_session = TRUE, wait_ = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>multi_session</code></dt>
<dd>
<p>Should multiple sessions be allowed?</p>
</dd>
<dt><code>wait_</code></dt>
<dd>
<p>If <code>FALSE</code>, return a promise; if <code>TRUE</code> wait until
connection is complete.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-view"></a>



<h4>Method <code>view()</code>
</h4>

<p>Display the current session in the <code>browser</code>
</p>
<p>If a <code>Chrome</code> browser is being used, this method will open a new tab
using your <code>Chrome</code> browser. When not using a <code>Chrome</code> browser, set
<code>options(browser=)</code> to change the default behavior of <code>browseURL()</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$view()</pre></div>


<hr>
<a id="method-Chromote-get_auto_events"></a>



<h4>Method <code>get_auto_events()</code>
</h4>

<p><code>auto_events</code> value.
</p>
<p>For internal use only.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$get_auto_events()</pre></div>


<hr>
<a id="method-Chromote-get_child_loop"></a>



<h4>Method <code>get_child_loop()</code>
</h4>

<p>Local <span class="pkg">later</span> loop.
</p>
<p>For expert async usage only.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$get_child_loop()</pre></div>


<hr>
<a id="method-Chromote-wait_for"></a>



<h4>Method <code>wait_for()</code>
</h4>

<p>Wait until the promise resolves
</p>
<p>Blocks the R session until the promise (<code>p</code>) is resolved. The loop from
<code style="white-space: pre;">⁠$get_child_loop()⁠</code> will only advance just far enough for the promise to
resolve.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$wait_for(p)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>p</code></dt>
<dd>
<p>A promise to resolve.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-new_session"></a>



<h4>Method <code>new_session()</code>
</h4>

<p>Create a new tab / window
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$new_session(width = 992, height = 1323, targetId = NULL, wait_ = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>width, height</code></dt>
<dd>
<p>Width and height of the new window.</p>
</dd>
<dt><code>targetId</code></dt>
<dd>
<p><a href="https://chromedevtools.github.io/devtools-protocol/tot/Target/">Target</a>
ID of an existing target to attach to. When a <code>targetId</code> is provided, the
<code>width</code> and <code>height</code> arguments are ignored. If NULL (the default) a new
target is created and attached to, and the <code>width</code> and <code>height</code>
arguments determine its viewport size.</p>
</dd>
<dt><code>wait_</code></dt>
<dd>
<p>If <code>FALSE</code>, return a <code>promises::promise()</code> of a new
<code>ChromoteSession</code> object. Otherwise, block during initialization, and
return a <code>ChromoteSession</code> object directly.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-get_sessions"></a>



<h4>Method <code>get_sessions()</code>
</h4>

<p>Retrieve all <code>ChromoteSession</code> objects
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$get_sessions()</pre></div>



<h5>Returns</h5>

<p>A list of <code>ChromoteSession</code> objects
</p>


<hr>
<a id="method-Chromote-register_session"></a>



<h4>Method <code>register_session()</code>
</h4>

<p>Register <code>ChromoteSession</code> object
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$register_session(session)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>session</code></dt>
<dd>
<p>A <code>ChromoteSession</code> object
</p>
<p>For internal use only.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-send_command"></a>



<h4>Method <code>send_command()</code>
</h4>

<p>Send command through Chrome DevTools Protocol.
</p>
<p>For expert use only.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$send_command(
  msg,
  callback = NULL,
  error = NULL,
  timeout = NULL,
  sessionId = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt>
<dd>
<p>A JSON-serializable list containing <code>method</code>, and <code>params</code>.</p>
</dd>
<dt><code>callback</code></dt>
<dd>
<p>Method to run when the command finishes successfully.</p>
</dd>
<dt><code>error</code></dt>
<dd>
<p>Method to run if an error occurs.</p>
</dd>
<dt><code>timeout</code></dt>
<dd>
<p>Number of milliseconds for Chrome DevTools Protocol
execute a method.</p>
</dd>
<dt><code>sessionId</code></dt>
<dd>
<p>Determines which <code>ChromoteSession</code> with the
corresponding to send the command to.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-invoke_event_callbacks"></a>



<h4>Method <code>invoke_event_callbacks()</code>
</h4>

<p>Immediately call all event callback methods.
</p>
<p>For internal use only.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$invoke_event_callbacks(event, params)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>event</code></dt>
<dd>
<p>A single event string</p>
</dd>
<dt><code>params</code></dt>
<dd>
<p>A list of parameters to pass to the event callback methods.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-debug_messages"></a>



<h4>Method <code>debug_messages()</code>
</h4>

<p>Enable or disable message debugging
</p>
<p>If enabled, R will print out the
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$debug_messages(value = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>value</code></dt>
<dd>
<p>If <code>TRUE</code>, enable debugging. If <code>FALSE</code>, disable debugging.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-debug_log"></a>



<h4>Method <code>debug_log()</code>
</h4>

<p>Submit debug log message
</p>


<h5>Examples</h5>

<div class="sourceCode r"><pre>b &lt;- ChromoteSession$new()
b$parent$debug_messages(TRUE)
b$Page$navigate("https://www.r-project.org/")
#&gt; SEND {"method":"Page.navigate","params":{"url":"https://www.r-project.org/"}| __truncated__}
# Turn off debug messages
b$parent$debug_messages(FALSE)
</pre></div>



<h5>Usage</h5>

<div class="r"><pre>Chromote$debug_log(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>Arguments pasted together with <code>paste0(..., collapse = "")</code>.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-url"></a>



<h4>Method <code>url()</code>
</h4>

<p>Create url for a given path
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$url(path = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt>
<dd>
<p>A path string to append to the host and port</p>
</dd>
</dl>
</div>


<hr>
<a id="method-Chromote-is_active"></a>



<h4>Method <code>is_active()</code>
</h4>

<p>Is there an active websocket connection to the browser process?
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$is_active()</pre></div>


<hr>
<a id="method-Chromote-is_alive"></a>



<h4>Method <code>is_alive()</code>
</h4>

<p>Is the underlying browser process running?
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$is_alive()</pre></div>


<hr>
<a id="method-Chromote-check_active"></a>



<h4>Method <code>check_active()</code>
</h4>

<p>Check that a chromote instance is active and alive.
Will automatically reconnect if browser process is alive, but
there's no active web socket connection.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$check_active()</pre></div>


<hr>
<a id="method-Chromote-get_browser"></a>



<h4>Method <code>get_browser()</code>
</h4>

<p>Retrieve <code>Browser</code>' object
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$get_browser()</pre></div>


<hr>
<a id="method-Chromote-close"></a>



<h4>Method <code>close()</code>
</h4>

<p>Close the <code>Browser</code> object
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$close()</pre></div>


<hr>
<a id="method-Chromote-print"></a>



<h4>Method <code>print()</code>
</h4>

<p>Summarise the current state of the object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Chromote$print(..., verbose = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt>
<dd>
<p>Passed on to <code>format()</code> when <code>verbose</code> = TRUE</p>
</dd>
<dt><code>verbose</code></dt>
<dd>
<p>The print method defaults to a brief summary
of the most important debugging info; use <code>verbose = TRUE</code> tp
see the complex R6 object.</p>
</dd>
</dl>
</div>




</div>