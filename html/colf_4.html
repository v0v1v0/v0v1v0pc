<div class="container">

<table style="width: 100%;"><tr>
<td>construct_formula</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct an nls-compatible formula from an lm style formula</h2>

<h3>Description</h3>

<p>Construct an nls-compatible formula from an lm style formula
</p>


<h3>Usage</h3>

<pre><code class="language-R">construct_formula(formula, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>The formula. This has the same syntax and supports the same features as the 
formula in <code>lm</code>. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing the data of the variables in the formula.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>construct_formula</code> creates the parameters needed for the formula to be compatible with nls
style functions. It also creates and returns the modelling set.
</p>
<p><code>construct_formula</code> will make syntactically valid names (if applicable) otherwise the 
optimizers will fail. To make these names <code>make.names</code> is used. Check examples.
</p>


<h3>Value</h3>

<p>A list of three elements:
</p>

<ul>
<li>
<p> model_formula - An nls compatible formula
</p>
</li>
<li>
<p> model_data - The modelling set created (inlcuding dummy variables, if any)
</p>
</li>
<li>
<p> x_param_names - The names of the parameters
</p>
</li>
</ul>
<h3>See Also</h3>

<p>nls, make.names
</p>


<h3>Examples</h3>

<pre><code class="language-R">#simple syntax
construct_formula(mpg ~ hp + cyl, mtcars)

#example of make.names to create syntactically valid names
make.names('(foo/^@bar)')

#function will create syntactically valid names (if applicable) 
#otherwise the optimizers will fail
construct_formula(mpg ~ I(hp + cyl), mtcars)
construct_formula(mpg ~ (hp + cyl + disp)^3, mtcars)

</code></pre>


</div>