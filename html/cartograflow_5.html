<div class="container">

<table style="width: 100%;"><tr>
<td>flowdist</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Builds a continuous distance matrices from a spatial features background</h2>

<h3>Description</h3>

<p>From a layer of areal spatial features, compute and threshold a continuous distance matrix.
The result is either a matrice of distances between ODs, or a flow matrix based on the distance travelled between ODs ; both can be used for filtering flow before flow mapping (flowmap)
</p>


<h3>Usage</h3>

<pre><code class="language-R">flowdist(tab, dist.method, result)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tab</code></td>
<td>
<p>the input flow dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist.method</code></td>
<td>
<p>distance calculation algorithm, default is euclidian calculation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>result</code></td>
<td>
<p>Choose Building a "flowdist" or a simple "dist" matrice. See Details</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>– result = "dist" is the simple resulting distance matrice.<br>
– result = "flowdist" is the resulting distance matrice with additional calculated parameters.<br>
– It is also possible to filter flow by a level of distance travelled.
</p>


<h3>Value</h3>

<p>(1) A flowdata set with continuous  distances calculations. See dist.method parameter
</p>
<p>(2) A flowdata set with movement from euclidian distances calculations
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cartograflow)
library(sf)
data(flowdata)
map &lt;- st_read(system.file("shape/MGP_TER.shp", package = "cartograflow"))
tabflow &lt;- flowjointure(
  geom = "area", bkg = map, DF.flow = flows, origin = "i",
  destination = "j", id = "EPT_NUM", x = "X", y = "Y"
)

# Format long with only origin, destination and distance parameters:
tab.distance &lt;- flowdist(tabflow, dist.method = "euclidian", result = "dist")
# Format long with with all parameters: coordinates, distance, mouvement
tab.distance &lt;- flowdist(tabflow, dist.method = "euclidian", result = "flowdist")
</code></pre>


</div>