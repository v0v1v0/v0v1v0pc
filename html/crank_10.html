<div class="container">

<table style="width: 100%;"><tr>
<td>meanranks</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate mean ranks with possible missing values</h2>

<h3>Description</h3>

<p>Calculates mean ranks where some ranks may be missing</p>


<h3>Usage</h3>

<pre><code class="language-R"> meanranks(x,allranks=NULL,labels=NULL,rankx=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A matrix of ranks that may contain ties and NAs. Objects
ranked are assumed to be columns and ranking methods rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allranks</code></td>
<td>
<p>An optional list of all ranks that might have been
made.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Optional labels for the ranks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rankx</code></td>
<td>
<p>Whether to convert competition ranks, or any other set of
numeric values, into the usual mean rankings for ties.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>‘<span class="samp">⁠meanranks⁠</span>’ calls ‘<span class="samp">⁠muranks⁠</span>’ to complete the rank matrix
before calculating the mean ranks for each column if there are any
NAs in ‘<span class="samp">⁠x⁠</span>’.
</p>
<p>Note that ‘<span class="samp">⁠cats2ranks⁠</span>’ interprets each value in ‘<span class="samp">⁠x⁠</span>’ as a nominal
level variable and its index as the rank, while ‘<span class="samp">⁠meanranks⁠</span>’ interprets
values as ordinal level (ranks). Thus if a matrix or data frame of category
labels is passed to ‘<span class="samp">⁠meanranks⁠</span>’, it will not give the correct mean
ranks.
</p>


<h3>Value</h3>

<p>A list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ranks</code></td>
<td>
<p>‘<span class="samp">⁠x⁠</span>’ with any NAs replaced by the mean of unallocated ranks
for each row.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>The vector of labels, defaulting to the integers 1:allranks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.ranks</code></td>
<td>
<p>A vector of mean ranks for each value of allranks.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Jim Lemon</p>


<h3>See Also</h3>

<p>muranks, rank, cats2ranks</p>


<h3>Examples</h3>

<pre><code class="language-R"> # simulate "best/worst" ranking
 x&lt;-matrix(NA,nrow=10,ncol=10)
 for(i in 1:10) {
  nbest&lt;-sample(2:5,1)
  best&lt;-1:nbest
  nworst&lt;-sample(1:5,1)
  worst&lt;-(11-nworst):10
  rankpos&lt;-sample(1:10,nbest+nworst)
  x[i,rankpos]&lt;-c(best,worst)
 }
 x
 meanranks(x)
</code></pre>


</div>