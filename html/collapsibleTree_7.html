<div class="container">

<table style="width: 100%;"><tr>
<td>collapsibleTreeSummary</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Summary Interactive Collapsible Tree Diagrams</h2>

<h3>Description</h3>

<p>Interactive Reingold-Tilford tree diagram created using D3.js,
where every node can be expanded and collapsed by clicking on it.
This function serves as a convenience wrapper to add color gradients to nodes
either by counting that node's children (default) or specifying another numeric
column in the input data frame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">collapsibleTreeSummary(
  df,
  hierarchy,
  root = deparse(substitute(df)),
  inputId = NULL,
  attribute = "leafCount",
  fillFun = colorspace::heat_hcl,
  maxPercent = 25,
  percentOfParent = FALSE,
  linkLength = NULL,
  fontSize = 10,
  tooltip = TRUE,
  nodeSize = NULL,
  collapsed = TRUE,
  zoomable = TRUE,
  width = NULL,
  height = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a data frame (where every row is a leaf) from which to construct a nested list</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hierarchy</code></td>
<td>
<p>a character vector of column names that define the order
and hierarchy of the tree network</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>root</code></td>
<td>
<p>label for the root node</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputId</code></td>
<td>
<p>the input slot that will be used to access the selected node (for Shiny).
Will return a named list of the most recently clicked node,
along with all of its parents.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attribute</code></td>
<td>
<p>numeric column not listed in hierarchy that will be used
as weighting to define the color gradient across nodes. Defaults to 'leafCount',
which colors nodes by the cumulative count of its children</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fillFun</code></td>
<td>
<p>function that takes its first argument and returns a vector
of colors of that length. rainbow_hcl is a good example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxPercent</code></td>
<td>
<p>highest weighting percent to use in color scale mapping.
All numbers above this value will be treated as the same maximum value for the
sake of coloring in the nodes (but not the ordering of nodes). Setting this value
too high will make it difficult to tell the difference between nodes with many
children.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percentOfParent</code></td>
<td>
<p>toggle attribute tooltip to be percent of parent
rather than the actual value of attribute</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linkLength</code></td>
<td>
<p>length of the horizontal links that connect nodes in pixels.
(optional, defaults to automatic sizing)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontSize</code></td>
<td>
<p>font size of the label text in pixels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tooltip</code></td>
<td>
<p>tooltip shows the node's label and attribute value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodeSize</code></td>
<td>
<p>numeric column that will be used to determine relative node size.
Default is to have a constant node size throughout. 'leafCount' can also
be used here (cumulative count of a node's children), or 'count'
(count of node's immediate children).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapsed</code></td>
<td>
<p>the tree's children will start collapsed by default
(There is no conditional collapsing in this function yet, but it could be implemented
if there's sufficient demand)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zoomable</code></td>
<td>
<p>pan and zoom by dragging and scrolling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>width in pixels (optional, defaults to automatic sizing)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>height in pixels (optional, defaults to automatic sizing)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments passed on to <code>fillFun</code>, such declaring a
palette for brewer.pal</p>
</td>
</tr>
</table>
<h3>Source</h3>

<p>Christopher Gandrud: <a href="http://christophergandrud.github.io/networkD3/">http://christophergandrud.github.io/networkD3/</a>.
</p>
<p>d3noob: <a href="https://bl.ocks.org/d3noob/43a860bc0024792f8803bba8ca0d5ecd">https://bl.ocks.org/d3noob/43a860bc0024792f8803bba8ca0d5ecd</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Color in by number of children
collapsibleTreeSummary(warpbreaks, c("wool", "tension", "breaks"), maxPercent = 50)

# Color in by the value of breaks and use the terrain_hcl gradient
collapsibleTreeSummary(
  warpbreaks,
  c("wool", "tension", "breaks"),
  attribute = "breaks",
  fillFun = colorspace::terrain_hcl,
  maxPercent = 50
)
</code></pre>


</div>