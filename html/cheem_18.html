<div class="container">

<table style="width: 100%;"><tr>
<td>global_view</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Linked <code>plotly</code> display, global view of data and attribution space.</h2>

<h3>Description</h3>

<p>from a cheem_ls() list, create a linked <code>plotly</code> of the global data-
and attribution- spaces. Typically consumed directly by shiny app.
</p>


<h3>Usage</h3>

<pre><code class="language-R">global_view(
  cheem_ls,
  primary_obs = NULL,
  comparison_obs = NULL,
  color = c("default", "residual", "log_maha.data", "cor_attr_proj.y"),
  height_px = 480,
  width_px = 1440,
  as_ggplot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cheem_ls</code></td>
<td>
<p>A return from <code>cheem_ls()</code>, a list of data frames.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>primary_obs</code></td>
<td>
<p>The rownumber of the primary observation. Its local
attribution becomes the 1d projection basis, and the point it highlighted
as a dashed line. Defaults to NULL, no highlighting applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison_obs</code></td>
<td>
<p>The rownumber of the comparison observation. Point
is highlighted as a dotted line. Defaults to NULL, no highlighting applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color</code></td>
<td>
<p>The name of the column in cheem_ls$global_view_df to map to
color. Expects c("default", "residual", "log_maha.data", "cor_attr_proj.y").
Defaults to "default"; predicted_class for classification, dummy class
for regression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height_px</code></td>
<td>
<p>The height in pixels of the returned <code>plotly</code> plot.
Defaults to 480, does nothing when <code>as_ggplot</code> is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width_px</code></td>
<td>
<p>The width in pixels of the returned <code>plotly</code> plot.
Defaults to 1440, does nothing when <code>as_ggplot</code> is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_ggplot</code></td>
<td>
<p>Logical, if TRUE returns the plots before being passed to
<code>plotly</code> functions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>plotly</code> plot, an interactive html widget of the global view,
first two components of the basis of the data- and attribution- spaces.
</p>


<h3>See Also</h3>

<p><code>run_app()</code>
</p>
<p>Other cheem consumers: 
<code>global_view_legwork()</code>,
<code>radial_cheem_tour()</code>,
<code>run_app()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cheem)

## Regression setup:
dat  &lt;- amesHousing2018_NorthAmes
X    &lt;- dat[, 1:9]
Y    &lt;- dat$SalePrice
clas &lt;- dat$SubclassMS

## global_view()
ames_rf_chm &lt;- cheem_ls(X, Y, ames_rf_shap, ames_rf_pred, clas,
                        label = "North Ames, RF, SHAP")
if(interactive()){
  global_view(ames_rf_chm, as_ggplot = TRUE) ## early return of ggplot
  global_view(ames_rf_chm) ## uses ggplot facets %&gt;% plotly

  ## Different color mappings, especially for regression
  global_view(ames_rf_chm, color = "residual")
  global_view(ames_rf_chm, color = "log_maha.data")
  global_view(ames_rf_chm, color = "cor_attr_proj.y")
}
## Also consumed by: ?run_app()
</code></pre>


</div>