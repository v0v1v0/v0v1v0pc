<div class="container">

<table style="width: 100%;"><tr>
<td>s.decr.conc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Specify a Smooth, Decreasing and Concave Shape-Restriction in a CGAM Formula</h2>

<h3>Description</h3>

<p>A symbolic routine to define that the systematic component <code class="reqn">\eta</code> is smooth, decreasing and concave in a predictor in a formula argument to cgam. This is the smooth version.</p>


<h3>Usage</h3>

<pre><code class="language-R">s.decr.conc(x, numknots = 0, knots = 0, space = "Q")</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric predictor which has the same length as the response vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numknots</code></td>
<td>
<p>The number of knots used to constrain <code class="reqn">x</code>. It will not be used if the user specifies the <em>knots</em> argument. The default is numknots = <code class="reqn">0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>The knots used to constrain <code class="reqn">x</code>. User defined knots will be used when given. Otherwise, <em>numknots</em> and <em>space</em> will be used to create knots. The default is knots = <code class="reqn">0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>space</code></td>
<td>
<p>A character specifying the method to create knots. It will not be used if the user specifies the <em>knots</em> argument. If space == "E", then equally spaced knots will be created; if space == "Q", then a vector of equal <code class="reqn">x</code> quantiles will be created based on <code class="reqn">x</code> with duplicate elements removed. The number of knots is <em>numknots</em> when <em>numknots</em> <code class="reqn">&gt; 0</code>. Otherwise it is of the order <code class="reqn">n^{1/7}</code>. The default is space = "Q".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>"s.decr.conc" returns the vector "x" and imposes on it five attributes: name, shape, numknots, knots and space.
</p>
<p>The name attribute is used in the subroutine plotpersp; the numknots, knots and space attributes are the same as the numknots, knots and space arguments in "s.decr.conc"; the shape attribute is 16("smooth, decreasing and concave"). According to the value of the vector itself and its shape, numknots, knots and space attributes, the cone edges will be made by C-spline basis functions in Meyer (2008). The cone edges are a set of basis employed in the hinge algorithm.
</p>
<p>Note that "s.decr.conc" does not make the corresponding cone edges itself. It sets things up to a subroutine called makedelta in cgam.
</p>
<p>See references cited in this section for more details.
</p>


<h3>Value</h3>

<p>The vector x with five attributes, i.e., name: the name of x; shape: 16("smooth, decreasing and concave"); numknots: the numknots argument in "s.decr.conc"; knots: the knots argument in "s.decr.conc"; space: the space argument in "s.decr.conc".</p>


<h3>Author(s)</h3>

<p>Mary C. Meyer and Xiyue Liao
</p>


<h3>References</h3>

<p>Meyer, M. C. (2013b) A simple new algorithm for quadratic programming with applications in statistics. <em>Communications in Statistics <b>42(5)</b></em>, 1126–1139.
</p>
<p>Meyer, M. C. (2008) Inference using shape-restricted regression splines. <em>Annals of Applied Statistics <b>2(3)</b></em>, 1013–1033.
</p>


<h3>See Also</h3>

<p><code>decr.conv</code>, <code>decr</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  data(cubic)

  # extract x
  x &lt;-  cubic$x

  # extract y
  y &lt;- - cubic$y

  # regress y on x under the shape-restriction: "smooth, decreasing and concave"
  ans &lt;- cgam(y ~ s.decr.conc(x))
  knots &lt;- ans$knots[[1]]

  # make a plot
  par(mar = c(4, 4, 1, 1))
  plot(x, y, cex = .7, xlab = "x", ylab = "y")
  lines(x, ans$muhat, col = 2)
  legend("topleft", bty = "n", "smooth, decreasing and concave fit", col = 2, lty = 1)
  legend(1.7, 4, bty = "o", "knots", pch = "X")
  points(knots, 1:length(knots)*0+min(y), pch = "X")
</code></pre>


</div>