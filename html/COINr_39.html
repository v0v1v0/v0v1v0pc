<div class="container">

<table style="width: 100%;"><tr>
<td>get_corr_flags</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find highly-correlated indicators within groups</h2>

<h3>Description</h3>

<p>This returns a data frame of any highly correlated indicators within the same aggregation group. The level of the aggregation
grouping can be controlled by the <code>grouplev</code> argument.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_corr_flags(
  coin,
  dset,
  cor_thresh = 0.9,
  thresh_type = "high",
  cortype = "pearson",
  grouplev = NULL,
  roundto = 3,
  use_directions = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>coin</code></td>
<td>
<p>A coin class object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dset</code></td>
<td>
<p>The name of the data set to apply the function to, which should be accessible in <code>.$Data</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cor_thresh</code></td>
<td>
<p>A threshold to flag high correlation. Default 0.9.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thresh_type</code></td>
<td>
<p>Either <code>"high"</code>, which will only flag correlations <em>above</em> <code>cor_thresh</code>, or <code>"low"</code>,
which will only flag correlations <em>below</em> <code>cor_thresh</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cortype</code></td>
<td>
<p>The type of correlation, either <code>"pearson"</code> (default), <code>"spearman"</code> or <code>"kendall"</code>. See stats::cor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grouplev</code></td>
<td>
<p>The level to group indicators in. E.g. if <code>grouplev = 2</code> it will look for high correlations between indicators that
belong to the same group in Level 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>roundto</code></td>
<td>
<p>Number of decimal places to round correlations to. Default 3. Set <code>NULL</code> to disable rounding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_directions</code></td>
<td>
<p>Logical: if <code>TRUE</code> the extracted data is adjusted using directions found inside the coin (i.e. the "Direction"
column input in <code>iMeta</code>. See comments on this argument in <code>get_corr()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is motivated by the idea that having very highly-correlated indicators within the same group may
amount to double counting, or possibly redundancy in the framework.
</p>
<p>This function replaces the now-defunct <code>hicorrSP()</code> from COINr &lt; v1.0.
</p>


<h3>Value</h3>

<p>A data frame with one entry for every indicator pair that is highly correlated within the same group, at the specified level.
Pairs are only reported once, i.e. only uses the upper triangle of the correlation matrix.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># build example coin
coin &lt;- build_example_coin(up_to = "Normalise", quietly = TRUE)

# get correlations between indicator over 0.75 within level 2 groups
get_corr_flags(coin, dset = "Normalised", cor_thresh = 0.75,
               thresh_type = "high", grouplev = 2)

</code></pre>


</div>