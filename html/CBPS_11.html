<div class="container">

<table style="width: 100%;"><tr>
<td>CBPS.fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>CBPS.fit determines the proper routine (what kind of treatment) and calls the 
approporiate function.  It also pre- and post-processes the data</h2>

<h3>Description</h3>

<p>CBPS.fit determines the proper routine (what kind of treatment) and calls the 
approporiate function.  It also pre- and post-processes the data
</p>


<h3>Usage</h3>

<pre><code class="language-R">CBPS.fit(
  treat,
  X,
  baselineX,
  diffX,
  ATT,
  method,
  iterations,
  standardize,
  twostep,
  sample.weights = sample.weights,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>treat</code></td>
<td>
<p>A vector of treatment assignments.  Binary or multi-valued
treatments should be factors.  Continuous treatments should be numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>A covariate matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baselineX</code></td>
<td>
<p>Similar to <code>baseline.formula</code>, but in matrix form.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diffX</code></td>
<td>
<p>Similar to <code>diff.formula</code>, but in matrix form.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ATT</code></td>
<td>
<p>Default is 1, which finds the average treatment effect on the
treated interpreting the second level of the treatment factor as the
treatment.  Set to 2 to find the ATT interpreting the first level of the
treatment factor as the treatment.  Set to 0 to find the average treatment
effect. For non-binary treatments, only the ATE is available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Choose "over" to fit an over-identified model that combines
the propensity score and covariate balancing conditions; choose "exact" to
fit a model that only contains the covariate balancing conditions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>An optional parameter for the maximum number of iterations
for the optimization.  Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>standardize</code></td>
<td>
<p>Default is <code>TRUE</code>, which normalizes weights to sum
to 1 within each treatment group.  For continuous treatments, normalizes
weights to sum up to 1 for the entire sample.  Set to <code>FALSE</code> to return
Horvitz-Thompson weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>twostep</code></td>
<td>
<p>Default is <code>TRUE</code> for a two-step estimator, which will
run substantially faster than continuous-updating.  Set to <code>FALSE</code> to
use the continuous-updating estimator described by Imai and Ratkovic (2014).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.weights</code></td>
<td>
<p>Survey sampling weights for the observations, if
applicable.  When left NULL, defaults to a sampling weight of 1 for each
observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters to be passed through to <code>optim()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>CBPS.fit object
</p>


</div>