<div class="container">

<table style="width: 100%;"><tr>
<td>PSIS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pareto-Smoothed Importance Sampling</h2>

<h3>Description</h3>

<p>Pareto-Smoothed Importance Sampling
</p>


<h3>Usage</h3>

<pre><code class="language-R">PSIS(x, r_eff = NULL, ...)

## S4 method for signature 'numeric'
PSIS(x, r_eff = NULL, ...)

## S4 method for signature 'causalWeights'
PSIS(x, r_eff = NULL, ...)

## S4 method for signature 'list'
PSIS(x, r_eff = NULL, ...)

PSIS_diag(x, ...)

## S4 method for signature 'numeric'
PSIS_diag(x, r_eff = NULL)

## S4 method for signature 'causalWeights'
PSIS_diag(x, r_eff = NULL)

## S4 method for signature 'causalPSIS'
PSIS_diag(x, ...)

## S4 method for signature 'list'
PSIS_diag(x, r_eff = NULL)

## S4 method for signature 'psis'
PSIS_diag(x, r_eff = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>For <code>PSIS()</code>, a vector of weights,
an object of class causalWeights,
or a list with slots  "w0" and "w1". For <code>PSIS_diag</code>,
the results of a run of <code>PSIS()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r_eff</code></td>
<td>
<p>A vector of relative effective sample size with one estimate per observation. If providing
an object of class causalWeights, should be a list of vectors with one vector for each
sample. See psis() from the <code>loo</code> package for more details. Updates to the <code>loo</code> package now make it so this
parameter should be ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to the psis() function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Acts as a wrapper to the psis() function from the <code>loo</code> package. It
is built to handle the data types found in this package. This method is preferred to the <code>ESS()</code>
function in <code>causalOT</code> since the latter is prone to error (infinite variances) but will not give good any indication that the estimates
are problematic.
</p>


<h3>Value</h3>

<p>For <code>PSIS()</code>, returns a list. See psis() from <code>loo</code> for a description of the outputs. Will give the log of the
smoothed weights in slot <code>log_weights</code>, and in the slot <code>diagnostics</code>, it will give
the <code>pareto_k</code> parameter (see the pareto-k-diagnostic page) and
the <code>n_eff</code> estimates. <code>PSIS_diag()</code> returns the diagnostic slot from an object of class "psis".
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>PSIS(numeric)</code>: numeric weights
</p>
</li>
<li> <p><code>PSIS(causalWeights)</code>: object of class causalWeights
</p>
</li>
<li> <p><code>PSIS(list)</code>: list of weights
</p>
</li>
<li> <p><code>PSIS_diag(numeric)</code>: numeric weights
</p>
</li>
<li> <p><code>PSIS_diag(causalWeights)</code>: object of class causalWeights diagnostics
</p>
</li>
<li> <p><code>PSIS_diag(causalPSIS)</code>: diagnostics from the output of a previous call to PSIS
</p>
</li>
<li> <p><code>PSIS_diag(list)</code>: a list of objects
</p>
</li>
<li> <p><code>PSIS_diag(psis)</code>: output of PSIS function
</p>
</li>
</ul>
<h3>See Also</h3>

<p>ESS()
</p>


<h3>Examples</h3>

<pre><code class="language-R">x &lt;- runif(100)
w &lt;- x/sum(x)

res &lt;- PSIS(x = w, r_eff = 1)
PSIS_diag(res)
</code></pre>


</div>