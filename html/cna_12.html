<div class="container">

<table style="width: 100%;"><tr>
<td>coherence</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculate the coherence of complex solution formulas
</h2>

<h3>Description</h3>

<p>Calculates the coherence measure of complex solution formulas (csf).
</p>


<h3>Usage</h3>

<pre><code class="language-R">coherence(x, ...)
## Default S3 method:
coherence(x, ct, type, ..., tt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Character vector specifying an asf or csf.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ct</code></td>
<td>
<p>Data frame or <code>configTable</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character vector specifying the type of <code>x</code>: <code>"auto"</code> (automatic detection; default), <code>"cs"</code> (crisp-set), <code>"mv"</code> (multi-value),  or <code>"fs"</code> (fuzzy-set).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments passed to methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tt</code></td>
<td>
<p>Argument <code>tt</code> is deprecated in <code>coherence()</code>; use <code>x</code> instead.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Coherence is a measure for model fit that is custom-built for complex solution formulas (csf). It measures the degree to which the atomic solution formulas (asf) combined in a csf cohere, i.e. are instantiated together in <code>x</code> rather than independently of one another. More concretely, coherence is the ratio of the number of cases satisfying all asf contained in a csf to the number of cases satisfying at least one asf in the csf. For example, if the csf contains the three asf asf1, asf2, asf3, coherence amounts to | asf1 * asf2 * asf3 | / | asf1 + asf2 + asf3 |, where |...| expresses the cardinality of the set of cases in <code>x</code> instantiating the corresponding expression. For asf, <code>coherence</code> returns 1. For boolean conditions (see <code>condition</code>), the coherence measure is not defined and <code>coherence</code> hence returns <code>NA</code>. For multiple csf that do not have a factor in common, <code>coherence</code> returns the minimum of the separate coherence scores. 
</p>


<h3>Value</h3>

<p>Numeric vector of coherence values to which <code>cond</code> is appended as a "names" attribute. If <code>cond</code> is a <em>csf</em> "asf1*asf2*asf3" composed of asf that do not have a factor in common, the <em>csf</em> is rendered with commas in the "names" attribute: "asf1, asf2, asf3".
</p>


<h3>See Also</h3>

<p><code>cna</code>, <code>condition</code>, <code>selectCases</code>, <code>allCombs</code>, <code>full.ct</code>, <code>condTbl</code></p>


<h3>Examples</h3>

<pre><code class="language-R"># Perfect coherence.
dat1 &lt;- selectCases("(A*b &lt;-&gt; C)*(C + D &lt;-&gt; E)")
coherence("(A*b &lt;-&gt; C)*(C + D &lt;-&gt; E)", dat1)
csf(cna(dat1, details = "coherence"))

# Non-perfect coherence.
dat2 &lt;- selectCases("(a*B &lt;-&gt; C)*(C + D &lt;-&gt; E)*(F*g &lt;-&gt; H)")
dat3 &lt;- rbind(ct2df(dat2), c(0,1,0,1,1,1,0,1))
coherence("(a*B &lt;-&gt; C)*(C + D &lt;-&gt; E)*(F*g &lt;-&gt; H)", dat3)
csf(cna(dat3, con = .88, details = "coherence")) 
</code></pre>


</div>