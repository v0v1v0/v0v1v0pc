<div class="container">

<table style="width: 100%;"><tr>
<td>nodesum</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Summarize contrast tree</h2>

<h3>Description</h3>

<p>Summarize contrast tree
</p>
<p>Show graphical terminal node summaries
</p>


<h3>Usage</h3>

<pre><code class="language-R">nodesum(tree, x, y, z, w = rep(1, nrow(x)), doplot = FALSE)

nodeplots(
  tree,
  x,
  y,
  z,
  w = rep(1, nrow(x)),
  nodes = NULL,
  xlim = NULL,
  ylim = NULL,
  pts = "FALSE",
  span = 0.15
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tree</code></td>
<td>
<p>model object output from contrast() or prune()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>training input predictor data matrix or data frame in same format as in contrast()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>vector, or matrix containing training data input outcome values or censoring intervals for each observation in same format as in contrast()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>vector containing values of a second contrasting quantity for each observation in same observation format as in contrast()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>observation weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doplot</code></td>
<td>
<p>a flag to display/not display plots of output quantities</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nodes</code></td>
<td>
<p>selected tree terminal node identifiers. Default is all terminal nodes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>x-axis limit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>y-axis limit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pts</code></td>
<td>
<p>logical flag indicating whether to show <code>y</code>-values as circles/points (<code>type = 'pp'</code> only)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>span</code></td>
<td>
<p>running median smoother span (<code>type = 'diff'</code> only)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The graphical representations of terminal node contrasts depend on the tree type
graphical representations of terminal node contrasts depending on tree type
-<code>type = 'dist'</code> implies CDFs of y and z in each terminal node. (Only top nine nodes are shown). Note that y can be censored (see above)
-<code>type = 'diff'</code> implies plot y versus z in each terminal node. (Only top nine nodes are shown).
-<code>type = 'class'</code> implies barplot of misclassification risk (upper) amd total weight (lower) in each terminal node
-<code>type = 'prob'</code> implies upper barplot contrasting empirical (blue) and predicted (red) <code class="reqn">p(y=1)</code> in each terminal node. Lower barplot showing total weight in each terminal node.
</p>

<ul>
<li>
<p> type = 'quant' =&gt; upper barplot of fraction of y-values greater than or equal to corresponding z-values (quantile prediction) in each terminal node. Horizontal line reflects specified target quantile. Lower barplot showing total  weight in each terminal node.
</p>
</li>
<li> <p><code>type = 'diffmean'</code> or <code>type = 'maxmean'</code> implies upper barplot contrasting y-mean (blue) and z-mean (red) in each terminal node. Lower barplot showing total weight in each terminal node.
</p>
</li>
</ul>
<h3>Value</h3>

<p>a named list of four items:
</p>

<ul>
<li> <p><code>nodes</code> the tree terminal node identifiers
</p>
</li>
<li> <p><code>cri</code> the terminal node criterion values (depends on contrast type see above)
</p>
</li>
<li> <p><code>wt</code> sum of weights in each terminal node
</p>
</li>
<li> <p><code>avecri</code> weighted criterion average over all terminal nodes
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>contrast()</code>
</p>


</div>