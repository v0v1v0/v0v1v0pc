<div class="container">

<table style="width: 100%;"><tr>
<td>cmsaf.mul</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Multiply the fields of two input NetCDF files.</h2>

<h3>Description</h3>

<p>The function multiplies the fields of infile1 and infile2. Infiles have to
have the same spatial and temporal dimension or one infile can contain only
one timestep. The outfile uses the meta data of infile1.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cmsaf.mul(
  var1,
  var2,
  infile1,
  infile2,
  outfile,
  nc34 = 4,
  overwrite = FALSE,
  verbose = FALSE,
  nc1 = NULL,
  nc2 = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>var1</code></td>
<td>
<p>Name of variable in infile1 (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var2</code></td>
<td>
<p>Name of variable in infile2 (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>infile1</code></td>
<td>
<p>Filename of first input NetCDF file. This may include the
directory (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>infile2</code></td>
<td>
<p>Filename of second input NetCDF file. This may include the
directory (character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfile</code></td>
<td>
<p>Filename of output NetCDF file. This may include the directory
(character).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nc34</code></td>
<td>
<p>NetCDF version of output file. If <code>nc34 = 3</code> the output file will be
in NetCDFv3 format (numeric). Default output is NetCDFv4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>logical; should existing output file be overwritten?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical; if TRUE, progress messages are shown</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nc1</code></td>
<td>
<p>Alternatively to <code>infile1</code> you can specify the input as an
object of class <code>ncdf4</code> (as returned from <code>ncdf4::nc_open</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nc2</code></td>
<td>
<p>Alternatively to <code>infile2</code> you can specify the input as an
object of class <code>ncdf4</code> (as returned from <code>ncdf4::nc_open</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A NetCDF file including the multiplied fields of infile1 and infile2
is written.
</p>


<h3>See Also</h3>

<p>Other mathematical operators: 
<code>cmsaf.abs()</code>,
<code>cmsaf.add()</code>,
<code>cmsaf.addc()</code>,
<code>cmsaf.div()</code>,
<code>cmsaf.divc()</code>,
<code>cmsaf.mulc()</code>,
<code>cmsaf.sub()</code>,
<code>cmsaf.subc()</code>,
<code>divdpm()</code>,
<code>muldpm()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Create an example NetCDF file with a similar structure as used by CM
## SAF. The file is created with the ncdf4 package.  Alternatively
## example data can be freely downloaded here: &lt;https://wui.cmsaf.eu/&gt;

library(ncdf4)

## create some (non-realistic) example data

lon &lt;- seq(5, 15, 0.5)
lat &lt;- seq(45, 55, 0.5)
time &lt;- c(as.Date("2000-01-01"), as.Date("2001-02-01"))
origin &lt;- as.Date("1983-01-01 00:00:00")
time &lt;- as.numeric(difftime(time, origin, units = "hour"))
data1 &lt;- array(250:350, dim = c(21, 21, 1))
data2 &lt;- array(230:320, dim = c(21, 21, 1))

## create two example NetCDF files

x &lt;- ncdim_def(name = "lon", units = "degrees_east", vals = lon)
y &lt;- ncdim_def(name = "lat", units = "degrees_north", vals = lat)
t &lt;- ncdim_def(name = "time", units = "hours since 1983-01-01 00:00:00",
 vals = time[1], unlim = TRUE)
var1 &lt;- ncvar_def("SIS", "W m-2", list(x, y, t), -1, prec = "short")
vars &lt;- list(var1)
ncnew &lt;- nc_create(file.path(tempdir(),"CMSAF_example_file_1.nc"), vars)
ncvar_put(ncnew, var1, data1)
ncatt_put(ncnew, "lon", "standard_name", "longitude", prec = "text")
ncatt_put(ncnew, "lat", "standard_name", "latitude", prec = "text")
nc_close(ncnew)

t &lt;- ncdim_def(name = "time", units = "hours since 1983-01-01 00:00:00",
 vals = time[2], unlim = TRUE)
ncnew &lt;- nc_create(file.path(tempdir(),"CMSAF_example_file_2.nc"), vars)
ncvar_put(ncnew, var1, data2)
ncatt_put(ncnew, "lon", "standard_name", "longitude", prec = "text")
ncatt_put(ncnew, "lat", "standard_name", "latitude", prec = "text")
nc_close(ncnew)

## Multiply the fields of both example CM SAF NetCDF files and write the
## result into one output file.
cmsaf.mul(var1 = "SIS", var2 = "SIS", infile1 = file.path(tempdir(),
 "CMSAF_example_file_1.nc"), infile2 = file.path(tempdir(),
 "CMSAF_example_file_2.nc"), outfile = file.path(tempdir(),
 "CMSAF_example_file_mul.nc"))

unlink(c(file.path(tempdir(),"CMSAF_example_file_1.nc"), 
 file.path(tempdir(),"CMSAF_example_file_2.nc"),
 file.path(tempdir(),"CMSAF_example_file_mul.nc")))
</code></pre>


</div>