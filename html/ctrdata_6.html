<div class="container">

<table style="width: 100%;"><tr>
<td>ctrGetQueryUrl</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get query details</h2>

<h3>Description</h3>

<p>Extracts query parameters and register name from parameter 'url' or
from the clipboard, into which the URL of a register search was copied.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ctrGetQueryUrl(url = "", register = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>URL such as from the browser address bar.
If not specified, clipboard contents will be checked for
a suitable URL.
For automatically copying the user's query of a register
in a web browser to the clipboard, see
<a href="https://rfhb.github.io/ctrdata/#id_2-script-to-automatically-copy-users-query-from-web-browser">here</a>.
Can also contain a query term such as from
dbQueryHistory()["query-term"].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>register</code></td>
<td>
<p>Optional name of register (one of "EUCTR", "CTGOV2"
"ISRCTN" or "CTIS") in case 'url' is a query term but not a full URL</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame (or tibble, if <code>tibble</code> is loaded)
with column names 'query-term' and 'query-register'.
The data frame (or tibble) can be passed as such as parameter
'query-term' to ctrLoadQueryIntoDb and as parameter
'url' to ctrOpenSearchPagesInBrowser.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# user copied into the clipboard the URL from
# the address bar of the browser that shows results
# from a query in one of the trial registers
if (interactive()) try(ctrGetQueryUrl(), silent = TRUE)

# extract query parameters from search result URL
# (URL was cut for the purpose of formatting only)
ctrGetQueryUrl(
    url = paste0(
        "https://classic.clinicaltrials.gov/ct2/results?",
        "cond=&amp;term=AREA%5BMaximumAge%5D+RANGE%5B0+days%2C+28+days%5D",
        "&amp;type=Intr&amp;rslt=&amp;age_v=&amp;gndr=&amp;intr=Drugs%2C+Investigational",
        "&amp;titles=&amp;outc=&amp;spons=&amp;lead=&amp;id=&amp;cntry=&amp;state=&amp;city=&amp;dist=",
        "&amp;locn=&amp;phase=2&amp;rsub=&amp;strd_s=01%2F01%2F2015&amp;strd_e=01%2F01%2F2016",
        "&amp;prcd_s=&amp;prcd_e=&amp;sfpd_s=&amp;sfpd_e=&amp;rfpd_s=&amp;rfpd_e=&amp;lupd_s=&amp;lupd_e=&amp;sort="
    )
)

ctrGetQueryUrl("https://www.clinicaltrialsregister.eu/ctr-search/trial/2007-000371-42/results")
ctrGetQueryUrl("https://euclinicaltrials.eu/ctis-public/view/2022-500041-24-00")
ctrGetQueryUrl("https://classic.clinicaltrials.gov/ct2/show/NCT01492673?cond=neuroblastoma")
ctrGetQueryUrl("https://clinicaltrials.gov/ct2/show/NCT01492673?cond=neuroblastoma")
ctrGetQueryUrl("https://clinicaltrials.gov/study/NCT01467986?aggFilters=ages:child")
ctrGetQueryUrl("https://www.isrctn.com/ISRCTN70039829")

</code></pre>


</div>