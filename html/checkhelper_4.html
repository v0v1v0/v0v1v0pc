<div class="container">

<table style="width: 100%;"><tr>
<td>check_as_cran</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check your package with real CRAN default environment variables and check strategy</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_as_cran(
  pkg = ".",
  check_output = tempfile("check_output"),
  scratch = tempfile("scratch_dir"),
  Ncpus = 1,
  as_command = FALSE,
  clean_before = TRUE,
  open = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pkg</code></td>
<td>
<p>pkg directory to check</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_output</code></td>
<td>
<p>Where to store check outputs. Default is a temporary directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scratch</code></td>
<td>
<p>Where to store temporary files (cleaned after). Default is another temporary directory</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ncpus</code></td>
<td>
<p>Number of CPU used to build the package</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_command</code></td>
<td>
<p>Whether to run the check as Linux command line, instead of directly in R</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clean_before</code></td>
<td>
<p>Whether to delete the previous check_output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>open</code></td>
<td>
<p>Whether to open the check dir at the end of the process</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When you send your package on CRAN, there are multiple options set before running the checks.
Here we use the CRAN settings and way of managing incoming packages used for Linux in this function <code>check_as_cran()</code>.
</p>
<p>Scripts and options used are directly issued from the GitHub mirror repository of the CRAN machines: <a href="https://github.com/r-devel/r-dev-web/tree/master/CRAN/">https://github.com/r-devel/r-dev-web/tree/master/CRAN/</a>.
Although <code>check_as_cran()</code> should run on any OS, it will run CRAN parameters originally set up for Linux machines.
</p>
<p>In the <code>check_output</code>, you will get the same outputs, in the same format as used by CRAN, for the pre-test of incoming packages.
</p>


<h3>Value</h3>

<p>An object containing errors, warnings, and notes.
</p>


<h3>References</h3>

<p>https://github.com/r-devel/r-dev-web/tree/master/CRAN/
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# This runs a check of the current package
# Directory to store the check outputs
check_output &lt;- tempfile("example")
# Check the current package
check_as_cran(check_output = check_output)
# Open directory with all outputs
utils::browseURL(check_output)

## End(Not run)
</code></pre>


</div>