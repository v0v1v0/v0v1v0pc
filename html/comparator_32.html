<div class="container">

<table style="width: 100%;"><tr>
<td>Jaro</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Jaro String/Sequence Comparator</h2>

<h3>Description</h3>

<p>Compares a pair of strings/sequences <code>x</code> and <code>y</code> based on the number of
greedily-aligned characters/sequence elements and the number of
transpositions. It was developed for comparing names at the U.S. Census
Bureau.
</p>


<h3>Usage</h3>

<pre><code class="language-R">Jaro(similarity = TRUE, ignore_case = FALSE, use_bytes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>similarity</code></td>
<td>
<p>a logical. If TRUE, similarity scores are returned
(default), otherwise distances are returned (see definition under Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_case</code></td>
<td>
<p>a logical. If TRUE, case is ignored when comparing
strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_bytes</code></td>
<td>
<p>a logical. If TRUE, strings are compared byte-by-byte
rather than character-by-character.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For simplicity we assume <code>x</code> and <code>y</code> are strings in this section,
however the comparator is also implemented for more general sequences.
</p>
<p>When <code>similarity = TRUE</code> (default), the Jaro similarity is computed as
</p>
<p style="text-align: center;"><code class="reqn">\mathrm{sim}(x, y) = \frac{1}{3}\left(\frac{m}{|x|} + \frac{m}{|y|} + \frac{m - \lfloor \frac{t}{2} \rfloor}{m}\right)</code>
</p>

<p>where <code class="reqn">m</code> is the number of "matching" characters (defined below),
<code class="reqn">t</code> is the number of "transpositions", and <code class="reqn">|x|,|y|</code> are the
lengths of the strings <code class="reqn">x</code> and <code class="reqn">y</code>. The similarity takes on values
in the range <code class="reqn">[0, 1]</code>, where 1 corresponds to a perfect match.
</p>
<p>The number of "matching" characters <code class="reqn">m</code> is computed using a greedy
alignment algorithm. The algorithm iterates over the characters in <code class="reqn">x</code>,
attempting to align the <code class="reqn">i</code>-th character <code class="reqn">x_i</code> with the first
matching character in <code class="reqn">y</code>. When looking for matching characters in
<code class="reqn">y</code>, the algorithm only considers previously un-matched characters
within a window
<code class="reqn">[\max(0, i - w), \min(|y|, i + w)]</code>
where <code class="reqn">w = \left\lfloor \frac{\max(|x|, |y|)}{2} \right\rfloor - 1</code>.
The alignment process yields a subsequence of matching characters from
<code class="reqn">x</code> and <code class="reqn">y</code>. The number of "transpositions" <code class="reqn">t</code> is defined to
be the number of positions in the subsequence of <code class="reqn">x</code> which are
misaligned with the corresponding position in <code class="reqn">y</code>.
</p>
<p>When <code>similarity = FALSE</code>, the Jaro distance is computed as
</p>
<p style="text-align: center;"><code class="reqn">\mathrm{dist}(x,y) = 1 - \mathrm{sim}(x,y).</code>
</p>



<h3>Value</h3>

<p>A <code>Jaro</code> instance is returned, which is an S4 class inheriting from
<code>StringComparator</code>.
</p>


<h3>Note</h3>

<p>The Jaro distance is not a metric, as it does not satisfy the
identity axiom <code class="reqn">\mathrm{dist}(x,y) = 0 \Leftrightarrow x = y.</code>
</p>


<h3>References</h3>

<p>Jaro, M. A. (1989), "Advances in Record-Linkage Methodology as Applied to
Matching the 1985 Census of Tampa, Florida", <em>Journal of the American
Statistical Association</em> <strong>84</strong>(406), 414-420.
</p>


<h3>See Also</h3>

<p>The <code>JaroWinkler</code> comparator modifies the <code>Jaro</code> comparator by
boosting the similarity score for strings/sequences that have matching
prefixes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Compare names
Jaro()("Martha", "Mathra")
Jaro()("Eileen", "Phyllis")

</code></pre>


</div>