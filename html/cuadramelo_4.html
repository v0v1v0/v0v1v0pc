<div class="container">

<table style="width: 100%;"><tr>
<td>balance_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Balance matrix</h2>

<h3>Description</h3>

<p>Balances a matrix so that the columns and/or rows add up
to a certain vector.
</p>


<h3>Usage</h3>

<pre><code class="language-R">balance_matrix(Y, col_totals = NULL, row_totals = NULL, allow_negative = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>Matrix to be balanced.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_totals</code></td>
<td>
<p>(optional) Desired sum of columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row_totals</code></td>
<td>
<p>(optional) Desired sum of rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_negative</code></td>
<td>
<p>Are negative entries in the balanced matrix allowed?</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Balancing is done according to the criteria of minimum sum
of squares.
</p>
<p>If neither <code>col_totals</code> nor <code>row_totals</code> is given, the same matrix will be
returned. If only one of them is given, only that axis will be
balanced.
</p>


<h3>Value</h3>

<p>The balanced matrix.
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(2)
Y &lt;- rnorm(3*5) |&gt; matrix(3,5) |&gt; round(3)
v &lt;- c( 0.876, -1.078, 3.452, 0.261, 1.349)
h &lt;- c(-1.851, 0.243, 6.468)
X1 &lt;- balance_matrix(Y, v, h)
Y
X1
h
rowSums(X1)
v
colSums(X1)
X3 &lt;- balance_matrix(Y, col_totals = v)
v
colSums(X3)
X4 &lt;- balance_matrix(Y, row_totals = h)
h
rowSums(X4)
</code></pre>


</div>