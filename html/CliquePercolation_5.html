<div class="container">

<table style="width: 100%;"><tr>
<td>cpCommunityGraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plotting Clique Percolation Community Network</h2>

<h3>Description</h3>

<p>Function for plotting a network with nodes representing communities from clique percolation
community detection and edges representing the number of shared nodes of the communities.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cpCommunityGraph(
  list.of.communities,
  node.size.method = c("proportional", "normal"),
  max.node.size = 10,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>list.of.communities</code></td>
<td>
<p>List object taken from results of cpAlgorithm
function; see also cpAlgorithm</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node.size.method</code></td>
<td>
<p>String indicating how node size is plotted (<code>"proportional"</code>
or <code>"normal"</code>); see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.node.size</code></td>
<td>
<p>Integer indicating size of the node representing the
largest community, if <code>node.size.method = "proportional"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>any additional argument from qgraph; see also qgraph</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function takes the results of cpAlgorithm (see also cpAlgorithm),
that is, either the <code>list.of.communities.numbers</code> or the
<code>list.of.communities.labels</code> and plots the community network. Each node represents
a community. Edges connecting two nodes represent the number of shared nodes between
the two communities.
</p>
<p>The nodes can be plotted proportional to the sizes of the communities
(<code>node.size.method = "proportional"</code>). The node representing the largest community
is then plotted with the size specified in <code>max.node.size</code>. All other nodes
are plotted relative to this largest node. Alternatively, all nodes can have the
same size (<code>node.size.method = "normal"</code>).
</p>
<p>For the plotting, all isolated nodes will be ignored. If there are less than two
communities in the list, plotting the network is useless. Therefore, an error
is printed in this case.
</p>


<h3>Value</h3>

<p>The function primarily plots the community network. Additionally, it returns a list with
the weights matrix (<code>community.weights.matrix</code>) of the community network.
</p>


<h3>Author(s)</h3>

<p>Jens Lange, <a href="mailto:lange.jens@outlook.com">lange.jens@outlook.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Example with fictitious data

# create qgraph object
W &lt;- matrix(c(0,1,1,0,0,0,0,
              0,0,1,0,0,0,0,
              0,0,0,1,1,1,0,
              0,0,0,0,1,1,0,
              0,0,0,0,0,1,0,
              0,0,0,0,0,0,1,
              0,0,0,0,0,0,0), nrow = 7, ncol = 7, byrow = TRUE)
W &lt;- Matrix::forceSymmetric(W)
W &lt;- qgraph::qgraph(W)

# run clique percolation for unweighted networks
cp.results &lt;- cpAlgorithm(W = W, k = 3, method = "unweighted")

# plot community network; proportional; maximum size is 7
cp.network1 &lt;- cpCommunityGraph(cp.results$list.of.communities.numbers,
                                node.size.method = "proportional",
                                max.node.size = 7)
                                       
# plot community network; proportional; maximum size is 7
# change shape of nodes to triangle via qgraph argument
cp.network2 &lt;- cpCommunityGraph(cp.results$list.of.communities.numbers,
                                node.size.method = "proportional",
                                max.node.size = 7,
                                shape = "triangle")
                                
## Example with Obama data set (see ?Obama)

# get data
data(Obama)

# estimate network
net &lt;- qgraph::EBICglasso(qgraph::cor_auto(Obama), n = nrow(Obama))

# run clique percolation algorithm with specific k and I
cpk3I.16 &lt;- cpAlgorithm(net, k = 3, I = 0.16, method = "weighted")

# plot community network; normal
Obama.network &lt;- cpCommunityGraph(cpk3I.16$list.of.communities.numbers,
                                  node.size.method = "proportional",
                                  theme = "colorblind")

</code></pre>


</div>