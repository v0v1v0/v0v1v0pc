<div class="container">

<table style="width: 100%;"><tr>
<td>cff_create</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a <code>cff</code> object from several sources</h2>

<h3>Description</h3>

<p>Create a full and possibly valid <code>cff</code> object from a given source. This
object can be written to a <code style="white-space: pre;">⁠*.cff ⁠</code> file with <code>cff_write()</code>,
see <strong>Examples</strong>.
</p>
<p>Most of the heavy lifting of <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> is done via this function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cff_create(
  x,
  keys = list(),
  cff_version = "1.2.0",
  gh_keywords = TRUE,
  dependencies = TRUE,
  authors_roles = c("aut", "cre")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The source that would be used for generating
the <code>cff</code> object. It could be:
</p>

<ul>
<li>
<p> A missing value. That would retrieve the <code>DESCRIPTION</code> file on your
in-development <strong>R</strong> package.
</p>
</li>
<li>
<p> An existing <code>cff</code> object.
</p>
</li>
<li>
<p> The name of an installed package (<code>"jsonlite"</code>).
</p>
</li>
<li>
<p> Path to a <code>DESCRIPTION</code> file (<code>"./DESCRIPTION"</code>).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keys</code></td>
<td>
<p>List of additional keys to add to the <code>cff</code> object. See
<code>cff_modify()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cff_version</code></td>
<td>
<p>The Citation File Format schema version that the
<code>CITATION.cff</code> file adheres to for providing the citation metadata.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gh_keywords</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. If the package is hosted on
GitHub, would you like to add the repo topics as keywords?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dependencies</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Would you like to add the
of your package to the <code>references</code> CFF key?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>authors_roles</code></td>
<td>
<p>Roles to be considered as authors of the package when
generating the <code>CITATION.cff</code> file. See <strong>Details</strong>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>x</code> is a path to a <code>DESCRIPTION</code> file or <code>inst/CITATION</code>, is not present
on your package, <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> would auto-generate a <code>preferred-citation</code>
key using the information provided on that file.
</p>
<p>By default, only persons whose role in the <code>DESCRIPTION</code> file of the package
is author (<code>"aut"</code>) or maintainer (<code>"cre"</code>) are considered to be authors
of the package. The default setting can be controlled via the <code>authors_roles</code>
parameter. See <strong>Details</strong> on <code>person()</code> to get additional insights
on person roles.
</p>


<h3>Value</h3>

<p>A <code>cff</code> object.
</p>


<h3>See Also</h3>

<p><a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Guide to Citation File Format schema version 1.2.0</a>.
</p>

<ul>
<li> <p><code>cff_modify()</code> as the recommended way to modify a <code>cff</code> object.
</p>
</li>
<li> <p><code>cff_write()</code> for creating a CFF file.
</p>
</li>
<li> <p><code>vignette("cffr", "cffr")</code> shows an introduction on how manipulate
<code>cff</code> objects.
</p>
</li>
<li> <p><code>vignette("crosswalk", package = "cffr")</code> provides details on how the
metadata of a package is mapped to produce a <code>cff</code> object.
</p>
</li>
</ul>
<p>Other core functions of <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code>cff()</code>,
<code>cff_modify()</code>,
<code>cff_validate()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Installed package
cff_create("jsonlite")

# Demo file
demo_file &lt;- system.file("examples/DESCRIPTION_basic", package = "cffr")
cff_create(demo_file)

# Add additional keys

newkeys &lt;- list(
  message = "This overwrites fields",
  abstract = "New abstract",
  keywords = c("A", "new", "list", "of", "keywords"),
  authors = as_cff_person("New author")
)

cff_create(demo_file, keys = newkeys)

# Update a field on a list - i,e: authors, contacts, etc.
# We are adding a new contact here

old &lt;- cff_create(demo_file)

new_contact &lt;- append(
  old$contact,
  as_cff_person(person(
    given = "I am",
    family = "New Contact"
  ))
)


cff_create(demo_file, keys = list("contact" = new_contact))

</code></pre>


</div>