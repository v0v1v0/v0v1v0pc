<div class="container">

<table style="width: 100%;"><tr>
<td>COMMA_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate Data to use in COMMA Functions</h2>

<h3>Description</h3>

<p>Generate Data to use in COMMA Functions
</p>


<h3>Usage</h3>

<pre><code class="language-R">COMMA_data(
  sample_size,
  x_mu,
  x_sigma,
  z_shape,
  c_shape,
  interaction_indicator,
  outcome_distribution,
  true_beta,
  true_gamma,
  true_theta
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sample_size</code></td>
<td>
<p>An integer specifying the sample size of the generated data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_mu</code></td>
<td>
<p>A numeric value specifying the mean of <code>x</code> predictors
generated from a Normal distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_sigma</code></td>
<td>
<p>A positive numeric value specifying the standard deviation of
<code>x</code> predictors generated from a Normal distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z_shape</code></td>
<td>
<p>A positive numeric value specifying the shape parameter of
<code>z</code> predictors generated from a Gamma distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c_shape</code></td>
<td>
<p>A positive numeric value specifying the shape parameter of
<code>c</code> covariates generated from a Gamma distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interaction_indicator</code></td>
<td>
<p>A logical value indicating if an interaction between
<code>x</code> and <code>m</code> should be used to generate the outcome variable, <code>y</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome_distribution</code></td>
<td>
<p>A character string specifying the distribution of
the outcome variable. Options are <code>"Bernoulli"</code>, <code>"Normal"</code>, or
<code>"Poisson"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_beta</code></td>
<td>
<p>A column matrix of <code class="reqn">\beta</code> parameter values (intercept, slope)
to generate data under in the true mediator mechanism.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_gamma</code></td>
<td>
<p>A numeric matrix of <code class="reqn">\gamma</code> parameters
to generate data in the observed mediator mechanisms.
In matrix form, the <code>gamma</code> matrix rows correspond to intercept (row 1)
and slope (row 2) terms. The gamma parameter matrix columns correspond to the true mediator categories
<code class="reqn">M \in \{1, 2\}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_theta</code></td>
<td>
<p>A column matrix of <code class="reqn">\theta</code> parameter values (intercept, slope
coefficient for <code>x</code>, slope coefficient for <code>m</code>, slope coefficient for <code>c</code>),
and, optionally, slope coefficient for <code>xm</code> if using) to generate data
in the outcome mechanism.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>COMMA_data</code> returns a list of generated data elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>obs_mediator</code></td>
<td>
<p>A vector of observed mediator values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>true_mediator</code></td>
<td>
<p>A vector of true mediator values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcome</code></td>
<td>
<p>A vector of outcome values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector of generated predictor values in the true mediator
mechanism, from the Normal distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>A vector of generated predictor values in the observed mediator
mechanism from the Gamma distribution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>A vector of generated covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_design_matrix</code></td>
<td>
<p>The design matrix for the <code>x</code> predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z_design_matrix</code></td>
<td>
<p>The design matrix for the <code>z</code> predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c_design_matrix</code></td>
<td>
<p>The design matrix for the <code>c</code> predictor.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">set.seed(20240709)
sample_size &lt;- 10000

n_cat &lt;- 2 # Number of categories in the binary mediator

# Data generation settings
x_mu &lt;- 0
x_sigma &lt;- 1
z_shape &lt;- 1
c_shape &lt;- 1

# True parameter values (gamma terms set the misclassification rate)
true_beta &lt;- matrix(c(1, -2, .5), ncol = 1)
true_gamma &lt;- matrix(c(1, 1, -.5, -1.5), nrow = 2, byrow = FALSE)
true_theta &lt;- matrix(c(1, 1.5, -2, -.2), ncol = 1)

example_data &lt;- COMMA_data(sample_size, x_mu, x_sigma, z_shape, c_shape,
                           interaction_indicator = FALSE,
                           outcome_distribution = "Bernoulli",
                           true_beta, true_gamma, true_theta)

head(example_data$obs_mediator)
head(example_data$true_mediator) 

</code></pre>


</div>