<div class="container">

<table style="width: 100%;"><tr>
<td>catpredi.survival</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to obtain optimal cut points to categorise a continuous predictor variable in a Cox proportional hazards regression model</h2>

<h3>Description</h3>

<p>Returns an object with the optimal cut points to categorise a continuous predictor variable in a Cox proportional hazards regression model</p>


<h3>Usage</h3>

<pre><code class="language-R">catpredi.survival(formula, cat.var, cat.points = 1, data, 
method = c("addfor", "genetic"), conc.index = c("cindex", "cpe"),
range = NULL, correct.index = TRUE, control = controlcatpredi.survival(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>An object of class <code>formula</code> giving the model to be fitted in addition to the continuous covariate
is aimed to categorise. The response must be a survival object as returned by the <code>Surv</code> function. This argument allows the user to specify whether the continuous predictor should be categorised in a univariable context, or in presence of other covariates or cofounders, i.e in
a multiple Cox proportional hazards regression model. For instance, Surv(SurvT,SurvS)~1 indicates that the categorisation should be done
in a univariable setting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cat.var</code></td>
<td>
<p>Name of the continuous variable to categorise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cat.points</code></td>
<td>
<p>Number of cut points to look for. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame containing all needed variables. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The algorithm selected to search for the optimal cut points. "addfor" if the AddFor algorithm is choosen and "genetic" otherwise. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conc.index</code></td>
<td>
<p>The concordance probability estimator selected for maximisation purposes. "cindex" if the c-index concordance probability is choosen and "cpe" otherwise. 
The c-index and CPE are estimated using the <code>rms</code> and <code>CPE</code> packages, respectively. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p> The range of the continuous variable in which to look for the cut points. By default NULL, i.e, all the range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct.index</code></td>
<td>
<p>A logical value. If TRUE the bias corrected concordance probability is estimated. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>Output of the controlcatpredi.survival() function. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments for passing on to the function <code>genoud</code> of the package <code>rgenoud</code>. </p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class "catpredi.survival" with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the algorithm selected in the call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class <code>formula</code> giving the model to be fitted in addition to the continuous covariate
is aimed to categorise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cat.var</code></td>
<td>
<p>name of the continuous variable to categorise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data frame with the variables used in the call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct.index</code></td>
<td>
<p>The logical value used in the call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results</code></td>
<td>
<p>a list with the estimated cut points, concordance probability and bias corrected concordance probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>the control parameters used in the call.</p>
</td>
</tr>
</table>
<p>When the c-index concordance probability is choosen, a list with the following components is obtained for each of the methods used in the call:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>"cutpoints"</code></td>
<td>
<p>Estimated optimal cut points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"Cindex"</code></td>
<td>
<p>Estimated c-index.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"Cindex.cor"</code></td>
<td>
<p>Estimated bias corrected c-index.</p>
</td>
</tr>
</table>
<p>When the CPE concordance probability is choosen, a list with the following components is obtained for each of the methods used in the call:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>"cutpoints"</code></td>
<td>
<p>Estimated optimal cut points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"CPE"</code></td>
<td>
<p>Estimated CPE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"CPE.cor"</code></td>
<td>
<p>Estimated bias corrected CPE.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Irantzu Barrio and Maria Xose Rodriguez-Alvarez
</p>


<h3>References</h3>

<p>I Barrio,  M.X Rodriguez-Alvarez, L Meira-Machado, C Esteban  and  I Arostegui (2017). Comparison of two discrimination indexes in the categorisation of continuous predictors in time-to-event studies. <em>SORT</em>, 41:73-92
</p>
<p>M Gonen and  G Heller (2005). Concordance probability and discriminatory power in  proportional hazards regression. <em>Biometrika</em>, 92:965-970.
</p>
<p>F Harrell (2001). Regression modeling strategies: with applications to linear models, logistic and ordinal regression, and survival analysis. Springer.
</p>


<h3>See Also</h3>

<p>See Also <code>controlcatpredi.survival</code>,  <code>comp.cutpoints.survival</code>, <code>plot.catpredi.survival</code>, <code>catpredi</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(CatPredi)
library(survival)
set.seed(123)
#Simulate data
  n = 500
  tauc = 1
  X &lt;- rnorm(n=n, mean=0, sd=2)
  SurvT &lt;- exp(2*X + rweibull(n = n, shape=1, scale = 1))   + rnorm(n, mean=0, sd=0.25)
  # Censoring time
  CensTime &lt;- runif(n=n, min=0, max=tauc)
  # Status
  SurvS &lt;- as.numeric(SurvT &lt;= CensTime)
  # Data frame
  dat &lt;- data.frame(X = X, SurvT = pmin(SurvT, CensTime), SurvS = SurvS)
  
  # Select optimal cut points using the AddFor algorithm
  res &lt;- catpredi.survival (formula= Surv(SurvT,SurvS)~1, cat.var="X", cat.points = 2,
   data = dat, method = "addfor", conc.index = "cindex", range = NULL, 
   correct.index = FALSE) 
</code></pre>


</div>