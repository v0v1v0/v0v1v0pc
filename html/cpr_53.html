<div class="container">

<table style="width: 100%;"><tr>
<td>update_bsplines</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Update bsplines or btensor calls</h2>

<h3>Description</h3>

<p>Update <code>cpr_bs</code> and <code>cpr_bt</code> objects alone or within <code>cpr_cp</code>
and <code>cpr_cn</code> objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">update_bsplines(object, ..., evaluate = TRUE)

update_btensor(object, ..., evaluate = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object to update.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to update, expected to be <code>iknots</code>, <code>df</code>,
<code>bknots</code>, or <code>order</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evaluate</code></td>
<td>
<p>whether or not to evaluate the updated call.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>evaluate = TRUE</code> then a <code>cpr_bs</code> or <code>cpr_bt</code>
object is returned, else, an unevaluated call is returned.
</p>


<h3>See Also</h3>

<p><code>update</code>, <code>bsplines</code>,
<code>btensor</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">################################################################################
##                          Updating a cpr_bs object                          ##
# construct a B-spline basis
bmat &lt;- bsplines(runif(10, 1, 10), df = 5, order = 3, bknots = c(1, 10))

# look at the structure of the basis
str(bmat)

# change the order
str(update_bsplines(bmat, order = 4))

# change the order and the degrees of freedom
str(update_bsplines(bmat, df = 12, order = 4))

################################################################################
##                          Updating a cpr_bt object                          ##
# construct a tensor product
tpmat &lt;- btensor(list(x1 = seq(0, 1, length = 10), x2 = seq(0, 1, length = 10)),
                 df = list(4, 5))
tpmat

# update the degrees of freedom
update_btensor(tpmat, df = list(6, 7))

################################################################################
##      Updating bsplines or btensor on the right and side of a formula       ##

f1 &lt;- y ~ bsplines(x, df = 14) + var1 + var2
f2 &lt;- y ~ btensor(x = list(x1, x2), df = list(50, 31), order = list(3, 5))  + var1 + var2

update_bsplines(f1, df = 13, order = 5)
update_btensor(f2, df = list(13, 24), order = list(3, 8))

################################################################################
##                          Updating a cpr_cp object                          ##
data(spdg, package = "cpr")
init_cp &lt;- cp(pdg ~ bsplines(day, df = 30) + age + ttm, data = spdg)
updt_cp &lt;- update_bsplines(init_cp, df = 5)

################################################################################
##                          Updating a cpr_cn object                          ##
init_cn &lt;- cn(pdg ~ btensor(list(day, age), df = list(30, 4)) + ttm, data = spdg)
updt_cn &lt;- update_btensor(init_cn, df = list(30, 2), order = list(3, 2))

</code></pre>


</div>