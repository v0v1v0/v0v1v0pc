<div class="container">

<table style="width: 100%;"><tr>
<td>add_ci.glmerMod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Confidence Intervals for Generalized Linear Mixed Model Predictions</h2>

<h3>Description</h3>

<p>This function is one of the methods for <code>add_ci</code>, and is
called automatically when <code>add_ci</code> is used on a <code>fit</code> of
class <code>glmerMod</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'glmerMod'
add_ci(
  df,
  fit,
  alpha = 0.05,
  names = NULL,
  yhatName = "pred",
  response = TRUE,
  type = "boot",
  includeRanef = TRUE,
  nSims = 500,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class <code>glmerMod</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A real number between 0 and 1. Controls the confidence
level of the interval estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p><code>NULL</code> or character vector of length two. If
<code>NULL</code>, confidence bounds automatically will be named by
<code>add_ci</code>, otherwise, the lower confidence bound will be
named <code>names[1]</code> and the upper confidence bound will be
named <code>names[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p><code>NULL</code> or a string. Name of the predictions
vector. If <code>NULL</code>, the predictions will be named
<code>pred</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>A logical. The default is <code>TRUE</code>. If
<code>TRUE</code>, the confidence intervals will be determined for the
expected response; if <code>FALSE</code>, confidence intervals will be
made on the scale of the linear predictor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string. If <code>type == "boot"</code> then bootstrap
intervals are formed. If <code>type == "parametric"</code> then
parametric intervals are formed. Currently only bootstrap
intervals are supported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeRanef</code></td>
<td>
<p>A logical. Default is <code>TRUE</code>. Set whether
the predictions and intervals should be made conditional on the
random effects. If <code>FALSE</code>, random effects will not be
included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSims</code></td>
<td>
<p>A positive integer.  Controls the number of bootstrap
replicates if <code>type = "boot"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default and recommended method is bootstrap. The bootstrap
method can handle many types of models and we find it to be
generally reliable and robust as it is built on the <code>bootMer</code>
function from <code>lme4</code>. This function is experimental.
</p>
<p>If <code>IncludeRanef</code> is False, random slopes and intercepts are set to 0. Unlike in
'lmer' fits, settings random effects to 0 does not mean they are marginalized out. Consider
generalized estimating equations if this is desired.
</p>


<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values, upper and lower
confidence bounds attached.
</p>


<h3>References</h3>

<p>For general information about GLMMs
http://bbolker.github.io/mixedmodels-misc/glmmFAQ.html
</p>


<h3>See Also</h3>

<p><code>add_pi.glmerMod</code> for prediction intervals
of <code>glmerMod</code> objects, <code>add_probs.glmerMod</code> for
conditional probabilities of <code>glmerMod</code> objects, and
<code>add_quantile.glmerMod</code> for response quantiles of
<code>glmerMod</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 300
x &lt;- runif(n)
f &lt;- factor(sample(1:5, size = n, replace = TRUE))
y &lt;- rpois(n, lambda = exp(1 - 0.05 * x * as.numeric(f) + 2 * as.numeric(f)))
df &lt;- data.frame(x = x, f = f, y = y)
fit &lt;- lme4::glmer(y ~ (1+x|f), data=df, family = "poisson")

## Not run: add_ci(df, fit, names = c("lcb", "ucb"), nSims = 300)

</code></pre>


</div>