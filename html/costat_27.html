<div class="container">

<table style="width: 100%;"><tr>
<td>prodcomb</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combine two time series using a time-varying linear combination.</h2>

<h3>Description</h3>

<p>This function takes the <code>cfs</code> vector and splits it
into two halves. The first half contains the wavelet coefficients
for the <code>alpha</code> linear combination function, and the second
half for the <code>beta</code> one. Then the functions themselves are
generated by using the <code>coeftofn</code> function. Then, the
coefficient functions are multiplied by the respective time
series (<code>tsx</code> by <code>alpha</code> and <code>tsy</code> by <code>beta</code>)
and the result returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prodcomb(cfs, tsx, tsy, filter.number = 1,
	family = c("DaubExPhase", "DaubLeAsymm"), all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cfs</code></td>
<td>
<p>Wavelet coefficients of the two combination functions.
The coefficients for alpha/beta combination functions
are stored in the first/last half of the vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tsx</code></td>
<td>
<p>The x time series to combine</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tsy</code></td>
<td>
<p>The y time series to combine</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter.number</code></td>
<td>
<p>The wavelet filter to use to obtain functions from
coefficients</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p> The wavelet family to do the same.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>all</code></td>
<td>
<p> If TRUE then a list containing the combined series
in the component <code>lcts</code> and the combination functions
in components <code>alpha</code> and <code>beta</code>. Although the 
combined series is the thing that is usually later tested for
stationarity, it is often useful to see, at some stage,
what the combination functions are, as these provide
interpretation as to what the combination might mean.
If FALSE then just the combined series is returned.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is called by <code>findstysols</code> and makes
use of <code>coeftofn</code> to turn coefficients into a 
function used in the combination.
</p>


<h3>Value</h3>

<p>If <code>all=TRUE</code> then a list with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>lcts</code></td>
<td>
<p>The combined series, <code class="reqn">\alpha_t X_t + \beta_t Y_t</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The <code class="reqn">\alpha_t</code> combination function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>The <code class="reqn">\beta_t</code> combination function.</p>
</td>
</tr>
</table>
<p>If <code>all=FALSE</code> then only <code>lcts</code> is returned.
</p>


<h3>Author(s)</h3>

<p>Guy Nason</p>


<h3>References</h3>

<p>Cardinali, A. and Nason, Guy P. (2013) Costationarity of
Locally Stationary Time Series Using costat.
<em>Journal of Statistical Software</em>, <b>55</b>, Issue 1.
</p>
<p>Cardinali, A. and Nason, G.P. (2010) Costationarity of locally stationary
time series. <em>J. Time Series Econometrics</em>, <b>2</b>, Issue 2, Article 1.
</p>


<h3>See Also</h3>

<p><code>findstysols</code>, <code>coeftofn</code></p>


<h3>Examples</h3>

<pre><code class="language-R">#
# Toy example
#
tmp.a &lt;- c(1, -1)
tmp.b &lt;- c(0.5, 0.5)
#
# Generate toy time series
#
xxx &lt;- rnorm(256)
yyy &lt;- rnorm(256)
#
# Combine xxx and yyy using the functions produced by inverse wavelet
# transform of tmp.a and tmp.b
#
## Not run: tmp &lt;- prodcomb(c(tmp.a, tmp.b), tsx=xxx, tsy=yyy)
#
# E.g. plot combination
#
## Not run: ts.plot(tmp)
#
# Potentially test its stationarity.... etc
#
</code></pre>


</div>