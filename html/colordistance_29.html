<div class="container">

<table style="width: 100%;"><tr>
<td>removeBackground</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Remove background pixels in image</h2>

<h3>Description</h3>

<p>Take an image array (from <code>readPNG</code> or
<code>jpeg{readJPEG}</code>) and remove the background pixels based on
transparency (if a PNG with transparency) or color boundaries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">removeBackground(
  img,
  lower = NULL,
  upper = NULL,
  quietly = FALSE,
  alpha.channel = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>img</code></td>
<td>
<p>Image array, either output from <code>readPNG</code> or
<code>jpeg{readJPEG}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower, upper</code></td>
<td>
<p>RGB or HSV triplets specifying the bounds for background
pixels. See <code>loadImage</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>Logical. Display a message if using transparency?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha.channel</code></td>
<td>
<p>Logical. If available, should alpha channel transparency be
used to mask background? See details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>alpha.channel = TRUE</code>, transparency takes precedence over
color masking. If you provide a PNG with any pixels with alpha &lt; 1,
<code>removeBackground</code> ignores any <code>lower</code> and <code>upper</code> color
boundaries and assumes transparent pixels are background. If all pixels are
opaque (alpha = 1), color masking will apply.
</p>


<h3>Value</h3>

<p>A list with a 3-dimensional RGB array and a 2-dimensional array of
non-background pixels with R, G, B columns.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# remove background by transparency
img_path &lt;- system.file("extdata/chrysochroa_NPL.png",
 package = "colordistance")
 
img_array &lt;- png::readPNG(img_path)

img_filtered &lt;- removeBackground(img_array)

# remove background by color
img_path &lt;- dir(system.file("extdata/Heliconius", 
package = "colordistance"), 
recursive = TRUE, full.names = TRUE)[1]

img_array &lt;- jpeg::readJPEG(img_path)

img_filtered &lt;- removeBackground(img_array,
lower = rep(0.8, 3), upper = rep(1, 3))

</code></pre>


</div>