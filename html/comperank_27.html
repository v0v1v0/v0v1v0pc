<div class="container">

<table style="width: 100%;"><tr>
<td>massey</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Massey method</h2>

<h3>Description</h3>

<p>Functions to compute rating and ranking
using Massey method.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rate_massey(cr_data)

rank_massey(cr_data, keep_rating = FALSE, ties = c("average", "first",
  "last", "random", "max", "min"), round_digits = 7)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cr_data</code></td>
<td>
<p>Competition results in format ready for
as_longcr().</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_rating</code></td>
<td>
<p>Whether to keep rating column in ranking output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ties</code></td>
<td>
<p>Value for <code>ties</code> in <code>round_rank()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>round_digits</code></td>
<td>
<p>Value for <code>round_digits</code> in <code>round_rank()</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This rating method was initially designed for games between two
players. There will be an error if in <code>cr_data</code> there is a game not between
two players. Convert input competition results manually or with
to_pairgames() from <code>comperes</code> package.
</p>
<p>It is assumed that score is numeric and higher values are better for the
player.
</p>
<p>Computation is done based only on the games between players of interest (see
Players). <strong>Note</strong> that all those players should be present in <code>cr_data</code>
because otherwise there will be an error during solving linear system
described below. Message is given if there are players absent in <code>cr_data</code>.
</p>
<p>The outline of Massey rating method is as follows:
</p>

<ol>
<li>
<p> Compute Massey matrix: diagonal elements are equal to number of games
played by certain player, off-diagonal are equal to minus number of common
games played. This matrix will be the matrix of system of linear equations
(SLE).
</p>
</li>
<li>
<p> Compute right-hand side of SLE as cumulative score differences of players,
i.e. sum of all scores <em>for</em> the player minus sum of all scores <em>against</em> the
player.
</p>
</li>
<li>
<p> Make adjustment for solvability of SLE. Modify the last row of Massey
matrix so that all its cells are equal to 1. Also change the last cell in
right-hand side to 0. This adjustment ensures that sum of all outcome ratings
will be 0.
</p>
</li>
<li>
<p> Solve the SLE. The solution is the Massey rating.
</p>
</li>
</ol>
<h3>Value</h3>

<p><code>rate_massey()</code> returns a tibble with columns
<code>player</code> (player identifier) and <code>rating_massey</code> (Massey
rating). The sum of all ratings should be equal to 0.
<strong>Bigger value indicates better player performance</strong>.
</p>
<p><code>rank_massey()</code> returns a <code>tibble</code> with columns <code>player</code>, <code>rating_massey</code> (if
<code>keep_rating = TRUE</code>) and <code>ranking_massey</code> (Massey ranking
computed with <code>round_rank()</code>).
</p>


<h3>Players</h3>

<p><code>comperank</code> offers a possibility to handle certain set of players. It is done
by having <code>player</code> column (in longcr format) as factor
with levels specifying all players of interest. In case of factor the result
is returned only for players from its levels. Otherwise - for all present
players.
</p>


<h3>References</h3>

<p>Kenneth Massey (1997) <em>Statistical models applied to the
rating of sports teams</em>. Bachelorâ€™s thesis, Bluefield College.
</p>


<h3>Examples</h3>

<pre><code class="language-R">rate_massey(ncaa2005)

rank_massey(ncaa2005)

rank_massey(ncaa2005, keep_rating = TRUE)

</code></pre>


</div>