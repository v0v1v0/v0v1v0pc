<div class="container">

<table style="width: 100%;"><tr>
<td>het_vimp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate Variable Importance Metrics for <code>cjbart</code> Object</h2>

<h3>Description</h3>

<p>Estimates random forest variable importance scores for multiple attribute-levels of a conjoint experiment.
</p>


<h3>Usage</h3>

<pre><code class="language-R">het_vimp(imces, levels = NULL, covars = NULL, cores = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>imces</code></td>
<td>
<p>Object of class <code>cjbart</code>, the result of running <code>IMCE()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>An optional vector of attribute-levels to generate importance metrics for. By default, all attribute-levels are analyzed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covars</code></td>
<td>
<p>An optional vector of covariates to include in the importance metric check. By default, all covariates are included in each importance model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>Number of CPU cores used during VIMP estimation. Each extra core will result in greater memory consumption. Assigning more cores than outcomes will not further boost performance.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Extra arguments (used to check for deprecated argument names)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Having generated a schedule of individual-level marginal component effect estimates, this function fits a random forest model for each attribute-level using the supplied covariates as predictors. It then calculates a variable importance measure (VIMP) for each covariate. The VIMP method assesses how important each covariate is in terms of partitioning the predicted individual-level effects distribution, and can thus be used as an indicator of which variables drive heterogeneity in the IMCEs.
</p>
<p>To recover a VIMP measure, we used permutation-based importance metrics recovered from random forest models estimated using <code>randomForestSRC::rfsrc()</code>. To permute the data, this function uses random node assignment, whereby cases are randomly assigned to a daughter node whenever a tree splits on the target variable (see Ishwaran et al. 2008). Importance is defined in terms of how random node assignment degrades the performance of the forest. Higher degradation indicates a variable is more important to prediction.
</p>
<p>Variance estimates of each variable's importance are subsequently recovered using the delete-d jackknife estimator developed by Ishwaran and Lu (2019). The jackknife method has inherent bias correction properties, making it particularly effective for variable selection exercises such as identifying drivers of heterogeneity.
</p>


<h3>Value</h3>

<p>A "long" data.frame of variable importance scores for each combination of covariates and attribute-levels, as well as the estimated 95% confidence intervals for each metric.
</p>


<h3>References</h3>

<p>Ishwaran H, Kogalur UB, Blackstone EH, Lauer MS (2008).
“Random survival forests.”
<em>The annals of applied statistics</em>, <b>2</b>(3), 841–860.<br><br> Ishwaran H, Lu M (2019).
“Standard errors and confidence intervals for variable importance in random forest regression, classification, and survival.”
<em>Statistics in medicine</em>, <b>38</b>(4), 558–582.
</p>


<h3>See Also</h3>

<p><code>randomForestSRC::rfsrc()</code> and <code>randomForestSRC::subsample()</code>
</p>


</div>