<div class="container">

<table style="width: 100%;"><tr>
<td>getGridLayer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a Regular Grid Layer</h2>

<h3>Description</h3>

<p>Build a regular grid based on an sf object or a SpatialPolygonsDataFrame.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getGridLayer(x, cellsize, type = "regular", var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an sf object, a simple feature collection or a SpatialPolygonsDataFrame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellsize</code></td>
<td>
<p>targeted area of the cell, in map units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>shape of the cell, "regular" for squares, "hexagonal" for hexagons.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>name of the numeric variable(s) in x to adapt to the grid (a vector).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A grid is returned as an sf object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package="cartography"))
# Plot dentsity of population
mtq$POPDENS &lt;- 1e6 * mtq$POP / st_area(mtq) 
bks &lt;- getBreaks(v = mtq$POPDENS, method = "geom", 5)
cols &lt;- carto.pal(pal1 = "taupe.pal", n1 = 5)
opar &lt;- par(mfrow = c(1,2), mar = c(0,0,0,0))
choroLayer(x = mtq, var = "POPDENS", breaks = bks,
           border = "burlywood3", col = cols,
           legend.pos = "topright", legend.values.rnd = 0,
           legend.title.txt = "Population density")

mygrid &lt;- getGridLayer(x = mtq, cellsize = 3e7,
                       type = "hexagonal", var = "POP")
## conversion from square meter to square kilometers
mygrid$POPDENSG &lt;- 1e6 * mygrid$POP / mygrid$gridarea 
choroLayer(x = mygrid, var = "POPDENSG", breaks = bks,
           border = "burlywood3", col = cols,
           legend.pos = "n", legend.values.rnd = 1,
           legend.title.txt = "Population density")
par(opar)
</code></pre>


</div>