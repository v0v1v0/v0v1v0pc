<div class="container">

<table style="width: 100%;"><tr>
<td>ctmaPower</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ctmaPower</h2>

<h3>Description</h3>

<p>Fits a full invariant model to a list of primary studies and performs analyses of expected (post hoc) power and required sample sizes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ctmaPower(
  ctmaInitFit = NULL,
  activeDirectory = NULL,
  statisticalPower = c(),
  failSafeN = NULL,
  failSafeP = NULL,
  timeRange = NULL,
  useMBESS = FALSE,
  coresToUse = 1,
  digits = 4,
  indVarying = FALSE,
  activateRPB = FALSE,
  silentOverwrite = FALSE,
  loadAllInvFit = c(),
  saveAllInvFit = c(),
  loadAllInvWOSingFit = c(),
  saveAllInvWOSingFit = c(),
  skipScaling = TRUE,
  useSampleFraction = NULL,
  optimize = TRUE,
  priors = FALSE,
  finishsamples = NULL,
  iter = NULL,
  chains = NULL,
  verbose = NULL,
  customPar = FALSE,
  scaleTime = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ctmaInitFit</code></td>
<td>
<p>object to which all single 'ctsem' fits of primary studies has been assigned to (i.e., what has been returned by <code>ctmaInit</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>activeDirectory</code></td>
<td>
<p>defines another active directory than the one used in <code>ctmaInit</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statisticalPower</code></td>
<td>
<p>vector of requested statistical power values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>failSafeN</code></td>
<td>
<p>sample size used to determine across which time intervals effects become non-significant</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>failSafeP</code></td>
<td>
<p>p-value used to determine across which time intervals effects become non-significant</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeRange</code></td>
<td>
<p>vector describing the time range for x-axis as sequence from/to/stepSize (e.g., c(1, 144, 1))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useMBESS</code></td>
<td>
<p>use 'MBESS' package to calculate statistical power (slower)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coresToUse</code></td>
<td>
<p>if negative, the value is subtracted from available cores, else value = cores to use</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>number of digits used for rounding (in outputs)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indVarying</code></td>
<td>
<p>Allows continuous time intercepts to vary at the individual level (random effects model, accounts for unobserved heterogeneity)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>activateRPB</code></td>
<td>
<p>set to TRUE to receive push messages with 'CoTiMA' notifications on your phone</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silentOverwrite</code></td>
<td>
<p>overwrite old files without asking</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loadAllInvFit</code></td>
<td>
<p>load the fit of fully constrained 'CoTiMA' model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveAllInvFit</code></td>
<td>
<p>save the fit of fully constrained 'CoTiMA' model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loadAllInvWOSingFit</code></td>
<td>
<p>load series of fits of fully constrained 'CoTiMA' model with single cross effects excluded, respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>saveAllInvWOSingFit</code></td>
<td>
<p>save series of fits of fully constrained 'CoTiMA' model with single cross effects excluded, respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skipScaling</code></td>
<td>
<p>does not (re-)scale raw data (re-scaling of imported pseudo raw data achieves correlations = 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>useSampleFraction</code></td>
<td>
<p>to speed up debugging. Provided as fraction (e.g., 1/10)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optimize</code></td>
<td>
<p>if set to FALSE, Stan’s Hamiltonian Monte Carlo sampler is used (default = TRUE = maximum a posteriori / importance sampling) .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priors</code></td>
<td>
<p>if FALSE, any priors are disabled – sometimes desirable for optimization</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>finishsamples</code></td>
<td>
<p>number of samples to draw (either from hessian based covariance or posterior distribution) for final results computation (default = 1000).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>number of iterations (defaul = 1000). Sometimes larger values could be required fom Bayesian estimation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>chains</code></td>
<td>
<p>number of chains to sample, during HMC or post-optimization importance sampling.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>integer from 0 to 2. Higher values print more information during model fit – for debugging</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>customPar</code></td>
<td>
<p>logical. If set TRUE (default) leverages the first pass using priors and ensure that the drift diagonal cannot easily go too negative (helps since ctsem &gt; 3.4)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scaleTime</code></td>
<td>
<p>scale time (interval) - sometimes desirable to improve fitting</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>ctmaPower returns a list containing some arguments supplied, a fitted model with all (!) parameters invariant across primary
studies, different elements summarizing the main results, model type, and the type of plot that could be performed with the returned object.
The arguments in the returned object are activeDirectory, coresToUse, n.latent, n.manifest, and primaryStudyList. A further result
returned is n.studies = 1 (required for proper plotting). Further arguments, which are just copied from the init-fit object supplied, are,
n.latent, studyList, and the statisticsList. The fitted model is found in studyFitList, which is a large list with many elements (e.g., the
ctsem model specified by CoTiMA, the rstan model created by ctsem, the fitted rstan model etc.). Further results returned are  a list with
modelResults (i.e., DRIFT=DRIFT, DIFFUSION=DIFFUSION, T0VAR=T0VAR, CINT=NULL) and the paramter names internally used. The summary list,
which is printed if the summary function is applied to the returned object, contains "estimates", which is itself a list comprising
"Estimates of Model with all Effects Invariant", "Requested Statistical Power" (which just returns the argument statisticalPower),
"Power (post hoc) for Drift Effects",  "Required Sample Sizes" "Effect Sizes (based on discrete-time calcs; used for power calcs.)", and
"Range of significant effects" (across which intervals effects were significant). Plot type is plot.type=c("power") and model.type="stanct"
("omx" was deprecated).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
CoTiMAInitFit_D_BO$activeDirectory &lt;- "/Users/tmp/" # adapt!
CoTiMAPower_D_BO &lt;- ctmaPower(ctmaInitFit=CoTiMAInitFit_D_BO,
                              statisticalPower = c(.50, .80, .95),
                              finishsamples = 10000)
summary(CoTiMAPower_D_BO)

## End(Not run)

</code></pre>


</div>