<div class="container">

<table style="width: 100%;"><tr>
<td>plot_climate_scenarios</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot multiple chilling scenario groups (or for other metrics)</h2>

<h3>Description</h3>

<p>For quantifying climate risks, it is useful to generate many version of plausible weather for
particular climate scenarios. This can, for example, be done with the temperature_generation function.
This function facilitates illustration of these results by providing various options to show them as
boxplots. The function can plot either a single panel of climate scenarios or multiple panels
side by side.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_climate_scenarios(
  climate_scenario_list,
  metric,
  metric_label,
  year_name = "End_year",
  label_sides = "both",
  ylim = c(0, NA),
  reference_line = NULL,
  col_rect = NA,
  col_line = NA,
  hist_col = NA,
  texcex = 2,
  caption_above = FALSE,
  family = "serif",
  no_scenario_numbers = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>climate_scenario_list</code></td>
<td>
<p>list of lists containing information about the chill scenarios.
These lists must have an element named 'data' which should contain a data.frame with a column
named the same as the 'metric' argument, which contains (numeric) information to be plotted.
Additional optional elements are 'time_series' (Boolean, indicating if a time series is to be plotted),
'labels' (vector of length 'length(data)' containing labels for the scenarios - if this is a time
series scenario, these must be numeric; if the data are not a time series, the labels aren't shown in the
plot, because there wouldn't normally be enough space - only numbers are shown there, and the legend
is provided in the value returned by this function), 'caption' (up to three character strings indicating
the caption to be displayed in the respective plot panel; the elements of this vector are displayed on
different lines. If caption_above==TRUE, only the first element is displayed) and 'historic_data'
(a data.frame containing at least two columns named the same as 'metric' and 'year_name').
documentation of 'make_chill_scenario_plot' for details on these.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>character string corresponding to the name of the column that contains the data of
interest in the climate_scenario_list data.frames (and if applicable the historic_data data.frame).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric_label</code></td>
<td>
<p>character string specifying the y-axis label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year_name</code></td>
<td>
<p>character string indicating the name of the time column in the historic_data data.frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_sides</code></td>
<td>
<p>indicates what sides of the plot y-axis labels are to be drawn. Can be "left', "right"
or "both". If label_sides assumes any other value, no labels are plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>numeric vector of length 2, specifying the lower and upper limits of the y-axis. If either of
these two values is NA, it is automatically selected based on the data range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference_line</code></td>
<td>
<p>numeric vector of length 1, 2 or 3, specifying a horizontal reference bar to be drawn
across the plot (e.g. to indicate exceedance of a threshold). A reference_line argument of length 1 is
interpreted by drawing a line across the plot at the specified value. If length(reference_line)==2, the
values are interpreted as lower and upper limit of a rectangular threshold area. If
length(reference_line)==3, the lowest and highest values are used to draw a rectangle and the median value
to draw a line (e.g. to show a best estimate and a confidence interval around it).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_rect</code></td>
<td>
<p>color code or name for the color of the reference_line rectangle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_line</code></td>
<td>
<p>color code or name for the color of the reference_line line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hist_col</code></td>
<td>
<p>color code or name for the color of the historic data points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>texcex</code></td>
<td>
<p>numeric variable indicating character size (cex for all text elements in the plot).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption_above</code></td>
<td>
<p>Boolean variable indicating whether the caption should be drawn above (TRUE) or
inside the figure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>character string specifying the font family ('serif', 'sans' or 'mono').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>no_scenario_numbers</code></td>
<td>
<p>Boolean variable indicating whether climate scenarios should be numbered
in the plot (this can clutter the figure).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List of legends for the different panels of the plot. This list reads 'time series labels'
for time series plot, 'no adequate labels provided' for unlabeled collections of boxplot, and a data.frame
explaining the number codes used as the legend in labeled collections of boxplots.
As a side effect, a plot of the climate scenarios is drawn.
</p>
<p>The function generates errors, when problems arise.
</p>


<h3>Author(s)</h3>

<p>Eike Luedeling
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  #making 3 identical objects as scenarios; let's assume these represent the
  #years 2000, 2005 and 2010. 
  
  models&lt;-list(Chilling_Hours=Chilling_Hours,Utah_Chill_Units=Utah_Model,Chill_Portions=
     Dynamic_Model,GDH=GDH)
  
  chill&lt;-tempResponse(stack_hourly_temps(
     fix_weather(KA_weather[which(KA_weather$Year&gt;2003),]),latitude=50.4),
     Start_JDay = 305,End_JDay = 60,models)
  scenario_results&lt;-list(chill,chill,chill)
  
  climate_scenario_list&lt;-list(list(data=scenario_results,
                                   caption=c("Historic","data"),
                                   time_series=TRUE,
                                   labels=c(2000,2005,2010),
                                   historic_data=chill),
                              list(data=scenario_results,
                                   caption=c("Scenario","1"),
                                   labels=c("Climate model 1",
                                            "Climate model 2",
                                            "Climate model 3")),
                              list(data=scenario_results,
                                   caption=c("Scenario","2")),
                              list(data=scenario_results,
                                   caption=c("Scenario","3")))
                                   
                                   
 plot_climate_scenarios(climate_scenario_list,metric="Chill_Portions",
                                 metric_label="Chill Portions",
                                 year_name="End_year",label_sides="both",
                                 reference_line=c(40,45,50),col_rect=NA,col_line=NA,
                                 texcex=2,caption_above=FALSE)
                                 
 plot_climate_scenarios(climate_scenario_list,"Chill_Portions","Chill Portions",
    texcex=1)

  
 
</code></pre>


</div>