<div class="container">

<table style="width: 100%;"><tr>
<td>predict.caretStack</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Make predictions from a caretStack</h2>

<h3>Description</h3>

<p>Make predictions from a caretStack. This function passes the data to each function in
turn to make a matrix of predictions, and then multiplies that matrix by the vector of
weights to get a single, combined vector of predictions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'caretStack'
predict(
  object,
  newdata = NULL,
  se = FALSE,
  level = 0.95,
  excluded_class_id = 0L,
  return_class_only = FALSE,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>a  <code>caretStack</code> to make predictions from.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>a new dataframe to make predictions on</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>logical, should prediction errors be produced? Default is false.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>tolerance/confidence level
should be returned</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excluded_class_id</code></td>
<td>
<p>Which class to exclude from predictions. Note that if the caretStack
was trained with an excluded_class_id, that class is ALWAYS excluded from the predictions from the
caretList of input models. excluded_class_id for predict.caretStack is for the final ensemble model.
So different classes could be excluded from the caretList models and the final ensemble model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_class_only</code></td>
<td>
<p>a logical indicating whether to return only the class predictions as a factor.
If TRUE, the return will be a factor rather than a data.table. This is a convenience function,
and should not be widely used. For example if you have a downstream process that consumes
the output of the model, you should have that process consume probabilities for each class.
This will make it easier to change prediction probability thresholds if needed in the future.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>a logical indicating whether to print progress</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments to pass to <code>predict.train</code> for the ensemble model.
Do not specify type here. For classification, type will always be prob, and for regression, type will always be raw.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Prediction weights are defined as variable importance in the stacked
caret model. This is not available for all cases such as where the library
model predictions are transformed before being passed to the stacking model.
</p>


<h3>Value</h3>

<p>a data.table of predictions
</p>


<h3>Examples</h3>

<pre><code class="language-R">models &lt;- caretList(
  x = iris[1:100, 1:2],
  y = iris[1:100, 3],
  methodList = c("rpart", "glm")
)
meta_model &lt;- caretStack(models, method = "lm")
RMSE(predict(meta_model, iris[101:150, 1:2]), iris[101:150, 3])
</code></pre>


</div>