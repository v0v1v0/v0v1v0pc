<div class="container">

<table style="width: 100%;"><tr>
<td>ARml</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Autoregressive forecasting using various Machine Learning models.</h2>

<h3>Description</h3>

<p>Autoregressive forecasting using various Machine Learning models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ARml(
  y,
  max_lag = 5,
  xreg = NULL,
  caret_method = "cubist",
  metric = "RMSE",
  pre_process = NULL,
  cv = TRUE,
  cv_horizon = 4,
  initial_window = NULL,
  fixed_window = FALSE,
  verbose = TRUE,
  seasonal = TRUE,
  K = frequency(y)/2,
  tune_grid = NULL,
  lambda = NULL,
  BoxCox_method = c("guerrero", "loglik"),
  BoxCox_lower = -1,
  BoxCox_upper = 2,
  BoxCox_biasadj = FALSE,
  BoxCox_fvar = NULL,
  allow_parallel = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A univariate time series object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_lag</code></td>
<td>
<p>Maximum value of lag.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xreg</code></td>
<td>
<p>Optional. A numerical vector or matrix of external regressors,
which must have the same number of rows as y.
(It should not be a data frame.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caret_method</code></td>
<td>
<p>A string specifying which classification or
regression model to use.
Possible values are found using names(getModelInfo()).
A list of functions can also be passed for a custom model function.
See <a href="http://topepo.github.io/caret/">http://topepo.github.io/caret/</a> for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>A string that specifies what summary metric will be used to
select the optimal model. See <code>?caret::train</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_process</code></td>
<td>
<p>A string vector that defines a pre-processing of the
predictor data.
Current possibilities are "BoxCox", "YeoJohnson", "expoTrans", "center",
"scale", "range",
"knnImpute", "bagImpute", "medianImpute", "pca", "ica" and "spatialSign".
The default is no pre-processing.
See preProcess and trainControl on the procedures and how to adjust them.
Pre-processing code is only designed to work when x is a simple matrix or
data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv</code></td>
<td>
<p>Logical, if <code>cv = TRUE</code> model selection will be done via
cross-validation. If <code>cv = FALSE</code> user need to provide a specific model
via <code>tune_grid</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv_horizon</code></td>
<td>
<p>The number of consecutive values in test set sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>initial_window</code></td>
<td>
<p>The initial number of consecutive values in each
training set sample.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed_window</code></td>
<td>
<p>Logical, if FALSE, all training samples start at 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>A logical for printing a training log.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seasonal</code></td>
<td>
<p>Boolean. If <code>seasonal = TRUE</code> the fourier terms will be
used for modeling seasonality.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>Maximum order(s) of Fourier terms</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tune_grid</code></td>
<td>
<p>A data frame with possible tuning values.
The columns are named the same as the tuning parameters.
Use getModelInfo to get a list of tuning parameters for each model or
see <a href="http://topepo.github.io/caret/available-models.html">http://topepo.github.io/caret/available-models.html</a>.
(NOTE: If given, this argument must be named.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda</code></td>
<td>
<p>BoxCox transformation parameter. If <code>lambda = NULL</code>
If <code>lambda = "auto"</code>, then the transformation parameter lambda is chosen
using <code>BoxCox.lambda</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxCox_method</code></td>
<td>
<p><code>BoxCox.lambda</code> argument.
Choose method to be used in calculating lambda.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxCox_lower</code></td>
<td>
<p><code>BoxCox.lambda</code> argument.
Lower limit for possible lambda values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxCox_upper</code></td>
<td>
<p><code>BoxCox.lambda</code> argument.
Upper limit for possible lambda values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxCox_biasadj</code></td>
<td>
<p><code>InvBoxCox</code> argument.
Use adjusted back-transformed mean for Box-Cox transformations.
If transformed data is used to produce forecasts and fitted values,
a regular back transformation will result in median forecasts.
If biasadj is TRUE, an adjustment will be made to produce mean
forecasts and fitted values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxCox_fvar</code></td>
<td>
<p><code>InvBoxCox</code> argument.
Optional parameter required if biasadj=TRUE.
Can either be the forecast variance, or a list containing the interval level,
and the corresponding upper and lower intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_parallel</code></td>
<td>
<p>If a parallel backend is loaded and available,
should the function use it?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list class of forecast containing the following elemets
</p>

<ul>
<li>
<p> x : The input time series
</p>
</li>
<li>
<p> method : The name of the forecasting method as a character string
</p>
</li>
<li>
<p> mean : Point forecasts as a time series
</p>
</li>
<li>
<p> lower : Lower limits for prediction intervals
</p>
</li>
<li>
<p> upper : Upper limits for prediction intervals
</p>
</li>
<li>
<p> level : The confidence values associated with the prediction intervals
</p>
</li>
<li>
<p> model : A list containing information about the fitted model
</p>
</li>
<li>
<p> newx : A matrix containing regressors
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Resul Akay
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(caretForecast)

train_data &lt;- window(AirPassengers, end = c(1959, 12))

test &lt;- window(AirPassengers, start = c(1960, 1))

ARml(train_data, caret_method = "lm", max_lag = 12) -&gt; fit

forecast(fit, h = length(test)) -&gt; fc

autoplot(fc) + autolayer(test)

accuracy(fc, test)

</code></pre>


</div>