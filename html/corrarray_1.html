<div class="container">

<table style="width: 100%;"><tr>
<td>corrarray</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Correlation Arrays and 2-Sample Correlation Matrices</h2>

<h3>Description</h3>

<p>This function creates a multi-sample correlation array
combining the correlation matrices for each level of the specified
grouping variable.
Given two levels of the grouping variable, this function creates a single
correlation matrix displaying the individual triangular matrices on
opposite sides of the principal diagonal.
</p>


<h3>Usage</h3>

<pre><code class="language-R">corrarray(x, group = NULL, lower = NULL, upper = NULL,
  output = c("matrix", "array", "sig.matrix", "sig.array"),
  use = c("complete.obs", "everything", "all.obs",
  "na.or.complete", "pairwise.complete.obs"),
  method = c("pearson", "kendall", "spearman"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a matrix or data frame. Variables can be quantitative or categorical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>the grouping variable name. If no group is specified (default),
then a single correlation matrix for the entire sample will be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>the level of the grouping variable to be placed in the
lower triangular matrix. If no level is specified (default), then
the first level in the data set is treated as the lower level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>the level of the grouping variable to be placed in the
upper triangular matrix. If no level is specified (default), then
the second level in the data set is treated as the lower level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>If a group that has 2 or more levels is specified,
then "<code>matrix</code>" (default) returns the corresponding 2-sample
correlation matrix, and "<code>array</code>" returns the
correlation array. "<code>sig.matrix</code>" and "<code>sig.array</code>" return
the significance values of the corresponding correlations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use</code></td>
<td>
<p>an optional character string giving a method for
computing correlations in the presence of missing values.
This must be one of the strings "<code>complete.obs</code>" (default),
"<code>everything</code>", "<code>all.obs</code>", "<code>na.or.complete</code>",
or "<code>pairwise.complete.obs</code>".
The default option removes rows with missing values from calculations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>a character string indicating which correlation coefficient
is to be computed: "<code>pearson</code>" (default), "<code>kendall</code>",
or "<code>spearman</code>".</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If multiple values are provided for <code>group</code>,
<code>lower</code>, or <code>upper</code>, then only the first value is used.
Apart from the grouping variable, all other variables whose values are
not numeric are removed from the correlation matrices. The grouping
variable's values, even if numeric, are automatically treated as
different levels.
</p>


<h3>Value</h3>

<p><code>corrarray</code> returns an array or matrix of correlations
as numeric values from <code>-1</code> to <code>1</code> (inclusive),
or of significance values of the corresponding correlations,
and with row and column names as the variable names.
</p>


<h3>See Also</h3>

<p><code>cor</code> for further descriptions of the <code>use</code>
and <code>method</code> parameters, and <code>rcorr</code> for significance
tests of correlations.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## All observations: 1-sample correlation matrix.
corrarray(iris)

## Stratify by the three species: 3-sample correlation array.
corrarray(iris, "Species", output = "array")

## Specify lower and upper samples: 2-sample correlation matrix.
corrarray(iris, "Species", lower = "setosa", upper = "virginica")

</code></pre>


</div>