<div class="container">

<table style="width: 100%;"><tr>
<td>diet_score_fun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diet score</h2>

<h3>Description</h3>

<p>This function creates a derived diet variable (diet_score)
based on consumption of fruit, salad, potatoes, carrots, other vegetables
and juice. 2 baseline points plus summation of total points for diet
attributes. Negative overall scores are recoded to 0, resulting in a range
from 0 to 10.
</p>

<ul>
<li>
<p> 1 point per daily fruit and vegetable consumption, excluding fruit 
juice (maximum 8 points).
</p>
</li>
<li>
<p> -2 points for high potato intake (&gt;=7 (males),
&gt;=5 (females) times/week)
</p>
</li>
<li>
<p> -2 points for no carrot intake
</p>
</li>
<li>
<p> -2 points per daily frequency of fruit juice consumption greater than 
once/day (maximum -10 points)
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">diet_score_fun(FVCDFRU, FVCDSAL, FVCDPOT, FVCDCAR, FVCDVEG, FVCDJUI, DHH_SEX)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>FVCDFRU</code></td>
<td>
<p>daily consumption of fruit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FVCDSAL</code></td>
<td>
<p>daily consumption of green salad</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FVCDPOT</code></td>
<td>
<p>daily consumption of potatoes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FVCDCAR</code></td>
<td>
<p>daily consumption of carrots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FVCDVEG</code></td>
<td>
<p>daily consumption of other vegetables</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FVCDJUI</code></td>
<td>
<p>daily consumption of fruit juice</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DHH_SEX</code></td>
<td>
<p>sex; 1 = male, 2 = female</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>While diet score can be calculated for all survey respondents, in
the 2005 CCHS survey cycle, fruit and vegetable consumption was an optional
section in which certain provinces had opted in to be asked to respondents.
In this survey cycle, fruit and vegetable consumption was asked to
respondents in British Columbia, Ontario, Alberta, and Prince Edward Island.
As such, diet score has a large number of missing respondents for this 
cycle.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Using the diet_score_fun function to create the derived diet variable  
# across CCHS cycles.
# diet_score_fun() is specified in the variable_details.csv.

# To create a harmonized diet_score variable across CCHS cycles, use 
# rec_with_table() for each CCHS cycle and specify diet_score_fun and the
# required base variables.
# Using merge_rec_data(), you can combine diet_score across cycles.

library(cchsflow)

diet_score2009_2010 &lt;- rec_with_table(
  cchs2009_2010_p, c(
    "FVCDFRU", "FVCDSAL", "FVCDPOT", "FVCDCAR", "FVCDVEG", "FVCDJUI", 
    "DHH_SEX", "diet_score"
  )
)

head(diet_score2009_2010)

diet_score2011_2012 &lt;- rec_with_table(
  cchs2011_2012_p,c(
    "FVCDFRU", "FVCDSAL", "FVCDPOT", "FVCDCAR", "FVCDVEG", "FVCDJUI", 
    "DHH_SEX", "diet_score"
  )
)

tail(diet_score2011_2012)

combined_diet_score &lt;- suppressWarnings(merge_rec_data(diet_score2009_2010,
 diet_score2011_2012))

head(combined_diet_score)
tail(combined_diet_score)
</code></pre>


</div>