<div class="container">

<table style="width: 100%;"><tr>
<td>prune_c2c</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pruning which could be useful after the mapping process</h2>

<h3>Description</h3>

<p>user could specify one of four methods to prune replications
created in the cat2cat procedure.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prune_c2c(
  df,
  index = "index_c2c",
  column = "wei_freq_c2c",
  method = "nonzero",
  percent = 50
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>'data.frame' like result of the 'cat2cat' function
for a specific period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>'character(1)' a column name with the 'cat2cat' identifier.
Should not be updated in most cases. Default 'index_c2c'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>'character(1)' a column name with weights,
default 'wei_freq_c2c'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>'character(1)' one of four available methods:
"nonzero" (default), "highest", "highest1" or "morethan".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>percent</code></td>
<td>
<p>'integer(1)' from 0 to 99</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>method - specify a method to reduce number of replications
</p>

<dl>
<dt>"nonzero"</dt>
<dd>
<p> remove nonzero probabilities</p>
</dd>
<dt>"highest"</dt>
<dd>
<p>leave only highest probabilities for each subject- accepting ties
</p>
</dd>
<dt>"highest1"</dt>
<dd>
<p>leave only highest probabilities for each subject -
not accepting ties so always one is returned
</p>
</dd>
<dt>"morethan"</dt>
<dd>
<p>leave rows where a probability is higher than value specify
by percent argument
</p>
</dd>
</dl>
<h3>Value</h3>

<p>'data.frame' with the same structure and possibly reduced
number of rows
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data("occup_small", package = "cat2cat")
data("occup", package = "cat2cat")
data("trans", package = "cat2cat")

occup_old &lt;- occup_small[occup_small$year == 2008, ]
occup_new &lt;- occup_small[occup_small$year == 2010, ]

occup_ml &lt;- cat2cat(
  data = list(
    old = occup_old, new = occup_new, cat_var = "code", time_var = "year"
  ),
  mappings = list(trans = trans, direction = "backward"),
  ml = list(
    data = occup_new,
    cat_var = "code",
    method = "knn",
    features = c("age", "sex", "edu", "exp", "parttime", "salary"),
    args = list(k = 10)
  )
)

prune_c2c(occup_ml$old, method = "nonzero")
prune_c2c(occup_ml$old, method = "highest")
prune_c2c(occup_ml$old, method = "highest1")
prune_c2c(occup_ml$old, method = "morethan", percent = 90)

prune_c2c(occup_ml$old, column = "wei_knn_c2c", method = "nonzero")

## End(Not run)

</code></pre>


</div>