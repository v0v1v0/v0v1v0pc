<div class="container">

<table style="width: 100%;"><tr>
<td>get_chirps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get CHIRPS precipitation data</h2>

<h3>Description</h3>

<p>Get daily precipitation data from the "Climate Hazards Group". Two server 
sources are available. The first, "CHC" (default) is recommended for 
multiple data-points, while "ClimateSERV" is recommended when 
few data-points are required (~ 50).
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_chirps(object, dates, server, ...)

## Default S3 method:
get_chirps(object, dates, server, as.matrix = FALSE, ...)

## S3 method for class 'SpatVector'
get_chirps(object, dates, server = "CHC", as.raster = TRUE, ...)

## S3 method for class 'SpatRaster'
get_chirps(
  object,
  dates,
  server = "CHC",
  as.matrix = TRUE,
  as.raster = FALSE,
  ...
)

## S3 method for class 'sf'
get_chirps(object, dates, server, as.sf = FALSE, ...)

## S3 method for class 'geojson'
get_chirps(object, dates, server, as.geojson = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>input, an object of class <code>data.frame</code> (or
any other object that can be coerced to data.frame), <code>SpatVector</code>, 
<code>SpatRaster</code>, <code>sf</code> or <code>geojson</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dates</code></td>
<td>
<p>a character of start and end dates in that order in the format
"YYYY-MM-DD"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>server</code></td>
<td>
<p>a character that represent the server source "CHC" or
"ClimateSERV"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments passed to <code>terra</code> 
or <code>sf</code> methods
See details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.matrix</code></td>
<td>
<p>logical, returns an object of class <code>matrix</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.raster</code></td>
<td>
<p>logical, returns an object of class <code>SpatRaster</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.sf</code></td>
<td>
<p>logical, returns an object of class <code>sf</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.geojson</code></td>
<td>
<p>logical, returns an object of class <code>geojson</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Data description at 
<a href="https://data.chc.ucsb.edu/products/CHIRPS-2.0/README-CHIRPS.txt">https://data.chc.ucsb.edu/products/CHIRPS-2.0/README-CHIRPS.txt</a>
</p>
<p><strong>Additional arguments when using server = "CHC"</strong>
</p>
<p><b>resolution</b>: numeric, resolution of CHIRPS tiles either 
0.05 (default) or 0.25 degrees
</p>
<p><strong>Additional arguments when using server = "ClimateSERV"</strong>
</p>
<p><b>dist</b>: numeric, buffer distance for each <code>object</code> coordinate
</p>
<p><b>nQuadSegs</b>: integer, number of segments per buffer quadrant
</p>
<p><b>operation</b>: supported operations for ClimateSERV are:
</p>

<table>
<tr>
<td style="text-align: right;">
 <b>operation</b>      </td>
<td style="text-align: left;">    </td>
<td style="text-align: left;"> <b>value</b>
</td>
</tr>
<tr>
<td style="text-align: right;">
 max                   </td>
<td style="text-align: left;"> =  </td>
<td style="text-align: left;"> 0</td>
</tr>
<tr>
<td style="text-align: right;">
 min                   </td>
<td style="text-align: left;"> =  </td>
<td style="text-align: left;"> 1</td>
</tr>
<tr>
<td style="text-align: right;">
 median                </td>
<td style="text-align: left;"> =  </td>
<td style="text-align: left;"> 2</td>
</tr>
<tr>
<td style="text-align: right;">
 sum                   </td>
<td style="text-align: left;"> =  </td>
<td style="text-align: left;"> 4</td>
</tr>
<tr>
<td style="text-align: right;">
 average               </td>
<td style="text-align: left;"> =  </td>
<td style="text-align: left;"> 5 (<em>default value</em>)</td>
</tr>
<tr>
<td style="text-align: right;">
 </td>
</tr>
</table>
<h3>Value</h3>

<p>A matrix, raster or a data frame of <abbr><span class="acronym">CHIRPS</span></abbr> data:
</p>

<dl>
<dt>id</dt>
<dd>
<p>the index for the rows in <code>object</code></p>
</dd>
<dt>dates</dt>
<dd>
<p>the dates from which <abbr><span class="acronym">CHIRPS</span></abbr> was requested</p>
</dd>
<dt>lon</dt>
<dd>
<p>the longitude as provided in <code>object</code></p>
</dd>
<dt>lat</dt>
<dd>
<p>the latitude as provided in <code>object</code></p>
</dd>
<dt>chirps</dt>
<dd>
<p>the <abbr><span class="acronym">CHIRPS</span></abbr> value in mm</p>
</dd>
</dl>
<h3>Note</h3>

<p>get_chirps may return some warning messages given by 
<code>sf</code>, please look sf documentation for 
possible issues.
</p>


<h3>References</h3>

<p>Funk C. et al. (2015). Scientific Data, 2, 150066.
<br>doi: <a href="https://doi.org/10.1038/sdata.2015.66">10.1038/sdata.2015.66</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library("chirps")
library("terra")

# Case 1: return as a data.frame
dates &lt;- c("2017-12-15","2017-12-31")
lonlat &lt;- data.frame(lon = c(-55.0281,-54.9857), lat = c(-2.8094, -2.8756))

r1 &lt;- get_chirps(lonlat, dates, server = "CHC")

# Case 2: return a matrix
r2 &lt;- get_chirps(lonlat, dates, server = "CHC", as.matrix = TRUE)

# Case 3: input SpatVector and return raster
f &lt;- system.file("ex/lux.shp", package = "terra")
v &lt;- vect(f)
r3 &lt;- get_chirps(v, dates, server = "CHC", as.raster = TRUE)

# Case 4: using the server "ClimateSERV"
r4 &lt;- get_chirps(lonlat, dates, server = "ClimateSERV")

# Case 5: from "ClimateSERV" and return as a matrix
r5 &lt;- get_chirps(lonlat, dates, server = "ClimateSERV", as.matrix = TRUE)


</code></pre>


</div>