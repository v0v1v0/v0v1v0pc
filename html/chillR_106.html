<div class="container">

<table style="width: 100%;"><tr>
<td>step_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculation of cumulative temperature metric according to a user-defined
stepwise weight function</h2>

<h3>Description</h3>

<p>This function calculates heat for temperate trees according to a stepwise
model provided by the user.
</p>


<h3>Usage</h3>

<pre><code class="language-R">step_model(
  HourTemp,
  df = data.frame(lower = c(-1000, 1.4, 2.4, 9.1, 12.4, 15.9, 18), upper = c(1.4, 2.4,
    9.1, 12.4, 15.9, 18, 1000), weight = c(0, 0.5, 1, 0.5, 0, -0.5, -1)),
  summ = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>HourTemp</code></td>
<td>
<p>Vector of hourly temperatures.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>data.frame with three columns: lower, upper and weight. lower
should contain the lower boundary of a chilling weight interval and upper
should contain the upper boundary. weight indicates the weighting to be
applied to the respective temperature interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summ</code></td>
<td>
<p>Boolean parameter indicating whether calculated metrics should
be provided as cumulative values over the entire record (TRUE) or as the
actual accumulation for each hour (FALSE).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Temperature-based metric calculated according to the user-defined model.
</p>


<h3>Value</h3>

<p>Vector of length length(HourTemp) containing the cumulative
temperature metric over the entire duration of HourTemp.
</p>


<h3>Author(s)</h3>

<p>Eike Luedeling
</p>


<h3>Examples</h3>

<pre><code class="language-R">

weather&lt;-fix_weather(KA_weather[which(KA_weather$Year&gt;2006),])

stack&lt;-stack_hourly_temps(weather,latitude=50.4)

df=data.frame(
  lower=c(-1000,1,2,3,4,5,6),
  upper=c(1,2,3,4,5,6,1000),
  weight=c(0,1,2,3,2,1,0))

custom&lt;-function(x) step_model(x,df)

custom(stack$Temp)

models&lt;-list(Chilling_Hours=Chilling_Hours,Utah_Chill_Units=Utah_Model,
Chill_Portions=Dynamic_Model,GDH=GDH,custom=custom)

tempResponse(stack,Start_JDay = 305,End_JDay = 60,models)

</code></pre>


</div>