<div class="container">

<table style="width: 100%;"><tr>
<td>tCorpus$get</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Access the data from a tCorpus</h2>

<h3>Description</h3>

<p>Get (a copy of) the token and meta data. For quick access recommend using tc$tokens and tc$meta to get the tokens and meta data.tables, which does not copy the data.
However, you should then make sure to not change the data.tables by reference, or you might break the tCorpus.
</p>
<p><strong>Usage:</strong>
</p>
<p>## R6 active method for class tCorpus. Use as tc$method (where tc is a tCorpus object).
</p>
<pre>get(columns=NULL, keep_df=F, as.df=F, subset=NULL, doc_id=NULL, token_id=NULL, safe_copy=T)</pre>
<pre>get_meta(columns=NULL, keep_df=F, as.df=F, subset=NULL, doc_id=NULL, safe_copy=T)</pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>columns</code></td>
<td>
<p>character vector with the names of the columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_df</code></td>
<td>
<p>if True, the output will be a data.table (or data.frame) even if it only contains 1 columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as.df</code></td>
<td>
<p>if True, the output will be a regular data.frame instead of a data.table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>Optionally, only get a subset of rows (see tCorpus$subset method)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doc_id</code></td>
<td>
<p>A vector with document ids to select rows. Faster than subset, because it uses binary search. Cannot be used in combination with subset. If duplicate doc_ids are given, duplicate rows are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token_id</code></td>
<td>
<p>A vector with token indices. Can only be used in pairs with doc_id. For example, if doc_id = c(1,1,1,2,2) and token_id = c(1,2,3,1,2), then the first three tokens of doc 1 and the first 2 tokens of doc 2 are returned. This is mainly usefull for fast (binary search) retrieval of specific tokens.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>safe_copy</code></td>
<td>
<p>for advanced use. The get methods always return a copy of the data, even if the full data is returned (i.e. use get without parameters). This is to prevent accidental changes within tCorpus data (which can break it) if the returned data is modified by reference (see data.table documentation). If safe_copy is set to FALSE and get is called without parameters—tc$get(safe_copy=F))—then no copy is made, which is much faster and more memory efficient. Use this if you need speed and efficiency, but make sure not to change the output data.table by reference.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">d = data.frame(text = c('Text one first sentence. Text one second sentence', 'Text two'),
               medium = c('A','B'),
               date = c('2010-01-01','2010-02-01'),
               doc_id = c('D1','D2'))
tc = create_tcorpus(d, split_sentences = TRUE)

## get token data
tc$tokens                     ## full data.table
tc$get(c('doc_id','token'))  ## data.table with selected columns
head(tc$get('doc_id'))       ## single column as vector
head(tc$get(as.df = TRUE))      ## return as regular data.frame

## get subset
tc$get(subset = token_id %in% 1:2)

## subset on keys using (fast) binary search
tc$get(doc_id = 'D1')              ## for doc_id
tc$get(doc_id = 'D1', token_id = 5) ## for doc_id / token pairs


##### use get for meta data with get_meta
tc$meta

## option to repeat meta data to match tokens
tc$get_meta(per_token = TRUE) ## (note that first doc is repeated, and rows match tc$n)

</code></pre>


</div>