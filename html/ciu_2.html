<div class="container">

<table style="width: 100%;"><tr>
<td>ciu</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create <code>ciu</code> object.</h2>

<h3>Description</h3>

<p>Sets up a <code>ciu</code> object with the given parameters. This is not the same as
a <code>CIU</code> object as returned by the function ciu.new! a <code>ciu</code> object is a
list with all the parameter values needed for Contextual Importance and
Utility calculations, whereas a <code>CIU</code> object only exposes a set of methods
that can be called using the <code>$</code> operator. <code>CIU</code> provides the method
<code style="white-space: pre;">⁠$as.ciu⁠</code> for retrieving a <code>ciu</code> object from a <code>CIU</code> object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ciu(
  model,
  formula = NULL,
  data = NULL,
  in.min.max.limits = NULL,
  abs.min.max = NULL,
  input.names = NULL,
  output.names = NULL,
  predict.function = NULL,
  vocabulary = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Model/"black-box" object (same parameter as <code>bb</code> for function
ciu.new).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Formula that describes input versus output values. Only to
be used together with <code>data</code> parameter.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The training data used for training the model. If this parameter
is provided, a <code>formula</code> MUST be given also.
<code>ciu.new</code> attempts to infer the other parameters from
<code>data</code> and <code>formula</code>. i.e. <code>in.min.max.limits</code>,
<code>abs.min.max</code>, <code>input.names</code>
and <code>output.names</code>. If those parameters are provided, then they
override the inferred ones.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>in.min.max.limits</code></td>
<td>
<p>matrix with one row per output and two columns,
where the first column indicates the minimal value and the second column
the maximal value for that input.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abs.min.max</code></td>
<td>
<p>data.frame or matrix of min-max values of
outputs, one row per output, two columns (min, max).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input.names</code></td>
<td>
<p>labels of inputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output.names</code></td>
<td>
<p>labels of outputs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict.function</code></td>
<td>
<p>can be supplied if a model that is not supported by
ciu should be used. As an example, this is the function for lda:</p>
<pre>
o.predict.function &lt;- function(model, inputs) {
    pred &lt;- predict(model,inputs)
        return(pred$posterior)
}</pre>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vocabulary</code></td>
<td>
<p>list of labels/concepts to be used when producing
explanations and what combination of inputs they correspond to. Example of
two intermediate concepts and a higher-level one that combines them:
<code>list(intermediate.concept1=c(1,2,3), intermediate.concept2=c(4,5), higher.level.concept=c(1,2,3,4,5))</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>ciu</code> object.
</p>


<h3>Author(s)</h3>

<p>Kary Främling
</p>


<h3>See Also</h3>

<p>ciu.new
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Explaining the classification of an Iris instance with lda model.
# We use a versicolor (instance 100).
library(MASS)
test.ind &lt;- 100
iris_test &lt;- iris[test.ind, 1:4]
iris_train &lt;- iris[-test.ind, 1:4]
iris_lab &lt;- iris[[5]][-test.ind]
model &lt;- lda(iris_train, iris_lab)

# Create CIU object
ciu &lt;- ciu(model, Species~., iris)

# This can be used with explain method for getting CIU values
# of one or several inputs. Here we get CIU for all three outputs
# with input feature "Petal.Length" that happens to be the most important.
ciu.explain(ciu, iris_test, 1)

# It is, however, more convenient to use one of the graphical visualizations.
# Here's one using ggplot.
ciu.ggplot.col(ciu, iris_test)

</code></pre>


</div>