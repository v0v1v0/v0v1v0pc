<div class="container">

<table style="width: 100%;"><tr>
<td>pnbd_CET</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Pareto/NBD: Conditional Expected Transactions</h2>

<h3>Description</h3>

<p>Calculates the expected number of transactions in a given time period based
on a customer's past transaction behavior and the Pareto/NBD model parameters.
</p>

<dl>
<dt><code>pnbd_nocov_CET</code></dt>
<dd>
<p> Conditional Expected Transactions without covariates</p>
</dd>
<dt><code>pnbd_staticcov_CET</code></dt>
<dd>
<p> Conditional Expected Transactions with static covariates</p>
</dd>
</dl>
<h3>Usage</h3>

<pre><code class="language-R">pnbd_nocov_CET(r, alpha_0, s, beta_0, dPeriods, vX, vT_x, vT_cal)

pnbd_staticcov_CET(
  r,
  alpha_0,
  s,
  beta_0,
  dPeriods,
  vX,
  vT_x,
  vT_cal,
  vCovParams_trans,
  vCovParams_life,
  mCov_trans,
  mCov_life
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>shape parameter of the Gamma distribution of the purchase process. The smaller r, the stronger the heterogeneity of the purchase process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_0</code></td>
<td>
<p>rate parameter of the Gamma distribution of the purchase process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>shape parameter of the Gamma distribution for the lifetime process. The smaller s, the stronger the heterogeneity of customer lifetimes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta_0</code></td>
<td>
<p>rate parameter for the Gamma distribution for the lifetime process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dPeriods</code></td>
<td>
<p>number of periods to predict</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vX</code></td>
<td>
<p>Frequency vector of length n counting the numbers of purchases.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vT_x</code></td>
<td>
<p>Recency vector of length n.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vT_cal</code></td>
<td>
<p>Vector of length n indicating the total number of periods of observation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovParams_trans</code></td>
<td>
<p>Vector of estimated parameters for the transaction covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vCovParams_life</code></td>
<td>
<p>Vector of estimated parameters for the lifetime covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mCov_trans</code></td>
<td>
<p>Matrix containing the covariates data affecting the transaction process. One column for each covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mCov_life</code></td>
<td>
<p>Matrix containing the covariates data affecting the lifetime process. One column for each covariate.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>mCov_trans</code> is a matrix containing the covariates data of
the time-invariant covariates that affect the transaction process.
Each column represents a different covariate. For every column a gamma parameter
needs to added to <code>vCovParams_trans</code> at the respective position.
</p>
<p><code>mCov_life</code> is a matrix containing the covariates data of
the time-invariant covariates that affect the lifetime process.
Each column represents a different covariate. For every column a gamma parameter
needs to added to <code>vCovParams_life</code> at the respective position.
</p>


<h3>Value</h3>

<p>Returns a vector containing the conditional expected transactions for the existing
customers in the Pareto/NBD model.
</p>


<h3>References</h3>

<p>Schmittlein DC, Morrison DG, Colombo R (1987). “Counting Your Customers:
Who-Are They and What Will They Do Next?” Management Science, 33(1), 1-24.
</p>
<p>Bachmann P, Meierer M, Naef, J (2021). “The Role of Time-Varying Contextual Factors
in Latent Attrition Models for Customer Base Analysis” Marketing Science 40(4). 783-809.
</p>
<p>Fader PS, Hardie BGS (2005). “A Note on Deriving the Pareto/NBD Model and
Related Expressions.”
URL <a href="http://www.brucehardie.com/notes/009/pareto_nbd_derivations_2005-11-05.pdf">http://www.brucehardie.com/notes/009/pareto_nbd_derivations_2005-11-05.pdf</a>.
</p>
<p>Fader PS, Hardie BGS (2007). “Incorporating time-invariant covariates into the
Pareto/NBD and BG/NBD models.”
URL <a href="http://www.brucehardie.com/notes/019/time_invariant_covariates.pdf">http://www.brucehardie.com/notes/019/time_invariant_covariates.pdf</a>.
</p>
<p>Fader PS, Hardie BGS (2020). “Deriving an Expression for P(X(t)=x) Under
the Pareto/NBD Model.”
URL <a href="https://www.brucehardie.com/notes/012/pareto_NBD_pmf_derivation_rev.pdf">https://www.brucehardie.com/notes/012/pareto_NBD_pmf_derivation_rev.pdf</a>
</p>


</div>