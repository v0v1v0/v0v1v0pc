<div class="container">

<table style="width: 100%;"><tr>
<td>cheem_ls</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Preprocessing for use in shiny app</h2>

<h3>Description</h3>

<p>Performs the preprocessing steps needs to supply the plot functions
<code>global_view()</code> and <code>radial_cheem_tour()</code> used in the shiny app.
The user need to supply the attributions and predictions. For help getting
started with this see <code>vignette("getting-started-with-cheem")</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cheem_ls(
  x,
  y = NULL,
  attr_df,
  pred = NULL,
  class = NULL,
  label = "label",
  verbose = getOption("verbose")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The explanatory variables of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The target variable of the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attr_df</code></td>
<td>
<p>A data frame or matrix of (n, p) local explanation
attributions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pred</code></td>
<td>
<p>A (n, 1) vector, the predictions from the associated model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>Optional, (n, 1) vector, a variable to group points by.
This can be the same as or different from <code>y</code>, the target variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label</code></td>
<td>
<p>Optionally provide a character label to store reminder
text for the type of model and local explanation used.
Defaults to "label".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical, if start time and run duration should be printed.
Defaults to getOption("verbose").</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of data.frames needed for the <code>shiny</code> application.
</p>


<h3>See Also</h3>

<p><code>global_view()</code> <code>radial_cheem_tour()</code> <code>radial_cheem_tour()</code>
</p>
<p>Other cheem preprocessing: 
<code>subset_cheem()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cheem)

## Classification setup
X    &lt;- spinifex::penguins_na.rm[, 1:4]
Y    &lt;- spinifex::penguins_na.rm$species
clas &lt;- spinifex::penguins_na.rm$species

## Bring your own attributions and predictions, 
## for help review the vignette or package down site;
if(FALSE){
  vignette("getting-started-with-cheem")
  browseURL("https://nspyrison.github.io/cheem/articles/getting-started-with-cheem.html")
}

## Cheem
peng_chm &lt;- cheem_ls(X, Y, penguin_xgb_shap, penguin_xgb_pred, clas,
                     label = "Penguins, xgb, shapviz")

## Save for use with shiny app (expects an rds file)
if(FALSE){ ## Don't accidentally save.
  saveRDS(peng_chm, "./chm_peng_xgb_shapviz.rds")
  run_app() ## Select the saved rds file from the data dropdown.
}

## Cheem visuals
if(interactive()){
  prim &lt;- 1
  comp &lt;- 2
  global_view(peng_chm, primary_obs = prim, comparison_obs = comp)
  bas &lt;- sug_basis(penguin_xgb_shap, prim, comp)
  mv  &lt;- sug_manip_var(penguin_xgb_shap, primary_obs = prim, comp)
  ggt &lt;- radial_cheem_tour(peng_chm, basis = bas, manip_var = mv)
  animate_plotly(ggt)
}

## Regression example
library(cheem)

## Regression setup
dat  &lt;- amesHousing2018_NorthAmes
X    &lt;- dat[, 1:9]
Y    &lt;- dat$SalePrice
clas &lt;- dat$SubclassMS

#' ## Bring your own attributions and predictions, 
## for help review the vignette or package down site;
if(FALSE){
  vignette("getting-started-with-cheem")
  browseURL("https://nspyrison.github.io/cheem/articles/getting-started-with-cheem.html")
}

## Cheem list
ames_rf_chm &lt;- cheem_ls(X, Y, ames_rf_shap, ames_rf_pred, clas,
                        label = "North Ames, RF, treeshap")

## Save for use with shiny app (expects an rds file)
if(FALSE){ ## Don't accidentally save.
  saveRDS(ames_rf_chm, "./chm_NAmes_rf_tshap.rds")
  run_app() ## Select the saved rds file from the data drop down.
}

## Cheem visuals
if(interactive()){
  prim &lt;- 1
  comp &lt;- 2
  global_view(ames_rf_chm, primary_obs = prim, comparison_obs = comp)
  bas &lt;- sug_basis(ames_rf_shap, prim, comp)
  mv  &lt;- sug_manip_var(ames_rf_shap, primary_obs = prim, comp)
  ggt &lt;- radial_cheem_tour(ames_rf_chm, basis = bas, manip_var = mv)
  animate_plotly(ggt)
}
</code></pre>


</div>