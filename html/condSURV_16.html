<div class="container">

<table style="width: 100%;"><tr>
<td>survCOND</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Conditional survival probabilities based on the Kaplan-Meier weights,
Landmark approaches and Inverse probability of censoring weighted.</h2>

<h3>Description</h3>

<p>Provides estimates for the conditional survival probabilities based on
Kaplan-Meier weighted estimators, the Landmark approaches and Inverse
probability of censoring weighted.
</p>


<h3>Usage</h3>

<pre><code class="language-R">survCOND(
  formula,
  x,
  y,
  lower.tail = FALSE,
  method = "LDM",
  presmooth = FALSE,
  conf = TRUE,
  n.boot = 200,
  data,
  conf.level = 0.95,
  z.value,
  bw = "dpik",
  window = "gaussian",
  method.weights = "NW",
  cluster = FALSE,
  ncores = NULL,
  na.rm = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula object, which must have a <code>survCS</code> object as
the response on the left of the <code>~</code> operator and, if desired, a term on
the right. The term may be a qualitative or quantitative variable.  For a
single survival curve the right hand side should be ~ 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Time or vector of times for the condional event(s).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The total time for obtaining estimates for the conditional survival
probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower.tail</code></td>
<td>
<p>vector of logical values with the same size as 'x'. If 'x'
has dimension one and if <code>lower.tail = FALSE</code> (default), probabilities are <code class="reqn">P(T
&gt; y|T1 &gt; x)</code> otherwise, <code class="reqn">P(T &gt; y|T1 &lt;= x)</code>.  If the conditional event is
2-dimensional, then, for example, given <code class="reqn">x = c(x1, x2)</code> and <code>lower.tail =
c(TRUE, FALSE)</code> must be used to obtain probabilities <code class="reqn">P(T &gt; y|T1 &lt;= x1, T2 &gt;
x2)</code>. Multi-dimensional conditional events are introduced similarly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The method used to compute the conditional survival function.
Possible options are "LDM" and "KMW". Defaults to "LDM".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>presmooth</code></td>
<td>
<p>A logical value. If <code>TRUE</code>, the presmoothed landmark
estimator of the conditional survival function is computed. Only valid for
method = "LDM".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>Provides pointwise confidence bands. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>The number of bootstrap samples. Defaults to 200 samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame in which to interpret the variables named in the
<code>formula</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Level of confidence. Defaults to 0.95 (corresponding to
95%).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z.value</code></td>
<td>
<p>The value of the covariate on the right hand side of formula
at which the conditional survival probabilities are computed. For
quantitative covariates, i.e. of class integer and numeric.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bw</code></td>
<td>
<p>A single numeric value to compute a kernel density bandwidth.  Use
"dpik" for the KernSmooth package based selector or "np" for the 'npudensbw'
function of the np package.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>A character string specifying the desired kernel.  See details
below for possible options. Defaults to "gaussian" where the gaussian
density kernel will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.weights</code></td>
<td>
<p>A character string specifying the desired weights
method. Possible options are "NW" for the Nadaraya-Watson weights and "LL"
for local linear weights. Defaults to "NW".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>A logical value. If <code>TRUE</code> (default), the bootstrap
procedure for the confidence intervals is parallelized.  Note that there are
cases (e.g., a low number of bootstrap repetitions) that R will gain in
performance through serial computation. R takes time to distribute tasks
across the processors also it will need time for binding them all together
later on. Therefore, if the time for distributing and gathering pieces
together is greater than the time need for single-thread computing, it does
not worth parallelize.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncores</code></td>
<td>
<p>An integer value specifying the number of cores to be used in
the parallelized procedure. If <code>NULL</code> (default), the number of cores to
be used is equal to the number of cores of the machine - 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>A logical value indicating whether NA values should be stripped
in the computation.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Possible options for argument window are "gaussian", "epanechnikov",
"tricube", "boxcar", "triangular", "quartic" or "cosine".
</p>


<h3>Value</h3>

<p>An object of class "survCS" and one of the following four classes:
"KMW", "LMD", "PLDM" and "IPCW". Objects are implemented as a list with
elements: </p>
<table>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>
<p>data.frame with estimates of the conditional
probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimate</code></td>
<td>
<p>Estimates of the conditional survival
probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LCI</code></td>
<td>
<p>The lower conditional survival probabilities of the
interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>UCI</code></td>
<td>
<p>The upper conditional survival probabilities of the
interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Level of confidence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The total time
for obtaining the estimates of the conditional survival probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The first time for obtaining the estimates of the conditional
survival probabilities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nlevels</code></td>
<td>
<p>The number of levels of the
covariate. Provides important information when the covariate at the right
hand side of formula is of class factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>logical; if FALSE
(default) the pointwise confidence bands are not given.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>callp</code></td>
<td>
<p>The
expression of the estimated probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>The levels of the
qualitative covariate (if it is of class factor) on the right hand side of
formula.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Luis Meira-Machado and Marta Sestelo
</p>


<h3>References</h3>

<p>L. Meira-Machado, M. Sestelo, and A. Goncalves (2016).
Nonparametric estimation of the survival function for ordered multivariate
failure time data: a comparative study. Biometrical Journal, 58(3),
623â€“634.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

   fit &lt;- survCOND(survCS(time1, event1, Stime, event) ~ 1, x = 365, y = 730,
   data = colonCS, method = "KMW", conf = FALSE)

   fit1 &lt;- survCOND(survCS(time1, event1, Stime, event) ~ 1, x = 365,
   data = colonCS, method = "LDM", conf = FALSE)

   fit2 &lt;- survCOND(survCS(time1, event1, Stime, event) ~ 1, x = 365,
   data = colonCS, method = "LDM", lower.tail = TRUE, conf = FALSE)

   fit3 &lt;- survCOND(survCS(time1, event1, Stime, event) ~ 1, x = 365,
   y = c(730, 1095, 1460), data = colonCS, method = "LDM", presmooth = TRUE,
   lower.tail = TRUE, conf = TRUE, n.boot = 100, conf.level = 0.95,
   cluster = FALSE)

   fit4 &lt;- survCOND(survCS(time1, event1, Stime, event) ~ rx, x = 365,
   data = colonCS, method = "LDM", conf = FALSE)

   fit5 &lt;- survCOND(survCS(time1, event1, Stime, event) ~ factor(sex),
   x = 365, data = colonCS, method = "LDM", conf = FALSE)

  ## Not run: 
   fit6 &lt;- survCOND(survCS(time1, event1, Stime, event) ~ age,
   x = 365, y = 730, z.value = 48, data = colonCS, conf = TRUE)
   
## End(Not run)





</code></pre>


</div>