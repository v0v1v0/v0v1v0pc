<div class="container">

<table style="width: 100%;"><tr>
<td>rmse</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Calculate the root mean squared error
</h2>

<h3>Description</h3>

<p>Program <code>rmse</code> calculates the RMSE for a matrix approximation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rmse(R, Rhat, W = matrix(1, nrow(R), ncol(R)) - diag(nrow(R)),
     verbose = FALSE, per.variable = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>R</code></td>
<td>
<p>The original matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rhat</code></td>
<td>
<p>The approximating matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>A symmetric matrix of weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print output (<code>verbose=TRUE</code>) or not (<code>verbose=FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per.variable</code></td>
<td>
<p>Calculate the RMSE for the whole matrix (<code>per.variable=FALSE</code>) or
for each variable seperately (<code>per.variable=TRUE</code>)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>By default, function <code>rmse</code> assumes a symmetric correlation matrix as input, together with its approximation. The approximation does not need to be symmetric.
Weight matrix W has to be symmetric. By default, the diagonal is excluded from RMSE calcuations (W = J - I). To include it, specify W = J, that is set W = matrix(1, nrow(R), ncol(R))
</p>


<h3>Value</h3>

<p>the calculated rmse</p>


<h3>Author(s)</h3>

<p> Jan Graffelman (jan.graffelman@upc.edu) </p>


<h3>References</h3>

<p>Graffelman, J. and De Leeuw, J. (2023) Improved approximation and visualization of the correlation matrix. The American Statistician pp. 1â€“20. <a href="https://doi.org/10.1080/00031305.2023.2186952">doi:10.1080/00031305.2023.2186952</a></p>


<h3>Examples</h3>

<pre><code class="language-R">data(banknotes)
X &lt;- as.matrix(banknotes[,1:6])
p &lt;- ncol(X)
J &lt;- matrix(1,p,p)
R &lt;- cor(X)
out.sd &lt;- eigen(R)
V &lt;- out.sd$vectors
Dl &lt;- diag(out.sd$values)
V2 &lt;- V[,1:2]
D2 &lt;- Dl[1:2,1:2]
Rhat &lt;- V2%*%D2%*%t(V2)
rmse(R,Rhat,W=J)
</code></pre>


</div>