<div class="container">

<table style="width: 100%;"><tr>
<td>check_source</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check R-scripts, folders or R-code strings for globals and imports</h2>

<h3>Description</h3>

<p>Approximately detect global and imported functions or variables from R-scripts, folders or
R-code strings by static code analysis. For inspection of individual R-scripts use the 'file' argument,
for R-code strings use the 'text' argument, and for folders containing R-scripts use the 'dir' argument.
This function does not require executing the code under inspection.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_source(file, text, dir, include_compiled = FALSE, skip_globals = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>character path to R-script to analyze, can be either a file on the local filesystem or a
remote file location (e.g. a server or the web).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>text</code></td>
<td>
<p>character R-code string to analyze.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character path to folder with R-scripts to analyze.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_compiled</code></td>
<td>
<p>logical value indicating if compiled functions called with <code>.Call</code>,
<code>.C</code>, <code>.External</code>, <code>.Fortran</code> should be included as global variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_globals</code></td>
<td>
<p>optional character vector of names to skip/exclude as (unrecognized) global variables.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list S3-object of class <code>"checkglobals"</code> with three components:
</p>

<ul>
<li> <p><code>globals</code>, list of class <code>"checkglobalsg"</code>
</p>
</li>
<li> <p><code>imports</code>, list of class <code>"checkglobalsi"</code>
</p>
</li>
<li> <p><code>missing_packages</code>, character vector with missing packages
</p>
</li>
</ul>
<p>for programmatic use, cast the returned S3-object with <code>as.data.frame</code>, <code>as.matrix</code>,
<code>as.character</code> or <code>as_vector</code>.
</p>


<h3>See Also</h3>

<p><code>checkglobals</code>, <code>check_pkg</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## local R-script
check_source(
  file = system.file(
    "unit_tests", "pkg", "testpkg", "R", "functions1.R",
    package = "checkglobals"
  )
)

## local R-folder
check_source(
  dir = system.file(
    "unit_tests", "pkg", "testpkg", "R",
    package = "checkglobals"
  )
)

## R-code string
check_source(text = "cc &lt;- function(m) stats::coef(m)")

## R-script from remote location

  check_source(
    file = "https://raw.githubusercontent.com/rstudio/shiny-examples/main/004-mpg/app.R"
  )

</code></pre>


</div>