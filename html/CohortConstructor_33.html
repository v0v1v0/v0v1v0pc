<div class="container">

<table style="width: 100%;"><tr>
<td>requireCohortIntersect</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Require cohort subjects are present (or absence) in another cohort</h2>

<h3>Description</h3>

<p><code>requireCohortIntersect()</code> filters a cohort table based on a requirement
that an individual is seen (or not seen) in another cohort in some time
window around an index date.
</p>


<h3>Usage</h3>

<pre><code class="language-R">requireCohortIntersect(
  cohort,
  targetCohortTable,
  window,
  intersections = c(1, Inf),
  cohortId = NULL,
  targetCohortId = NULL,
  indexDate = "cohort_start_date",
  targetStartDate = "cohort_start_date",
  targetEndDate = "cohort_end_date",
  censorDate = NULL,
  name = tableName(cohort)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cohort</code></td>
<td>
<p>A cohort table in a cdm reference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetCohortTable</code></td>
<td>
<p>Name of the cohort that we want to check for
intersect.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>A list of vectors specifying minimum and maximum days from
<code>indexDate</code> to consider events over.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intersections</code></td>
<td>
<p>A range indicating number of intersections for
criteria to be fulfilled. If a single number is passed, the number of
intersections must match this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohortId</code></td>
<td>
<p>Vector identifying which cohorts to modify
(cohort_definition_id or cohort_name). If NULL, all cohorts will be
used; otherwise, only the specified cohorts will be modified, and the
rest will remain unchanged.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetCohortId</code></td>
<td>
<p>Vector of cohort definition ids to include.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indexDate</code></td>
<td>
<p>Name of the column in the cohort that contains the date to
compute the intersection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetStartDate</code></td>
<td>
<p>Start date of reference in cohort table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetEndDate</code></td>
<td>
<p>End date of reference in cohort table. If NULL,
incidence of target event in the window will be considered as intersection,
otherwise prevalence of that event will be used as intersection (overlap
between cohort and event).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censorDate</code></td>
<td>
<p>Whether to censor overlap events at a specific date or a
column date of the cohort.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name of the new cohort table created in the cdm object.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Cohort table with only those isatisfying the criteria kept
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(CohortConstructor)
cdm &lt;- mockCohortConstructor()
cdm$cohort1 |&gt;
  requireCohortIntersect(targetCohortTable = "cohort2",
                             targetCohortId = 1,
                             indexDate = "cohort_start_date",
                             window = c(-Inf, 0))

</code></pre>


</div>