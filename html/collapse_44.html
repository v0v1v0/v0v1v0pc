<div class="container">

<table style="width: 100%;"><tr>
<td>list-processing</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>List Processing</h2>

<h3>Description</h3>

<p><em>collapse</em> provides the following set of functions to efficiently work with lists of R objects:
</p>

<ul>
<li> <p><b>Search and Identification</b></p>

<ul>
<li> <p><code>is_unlistable</code> checks whether a (nested) list is composed of atomic objects in all final nodes, and thus unlistable to an atomic vector using <code>unlist</code>.
</p>
</li>
<li> <p><code>ldepth</code> determines the level of nesting of the list (i.e. the maximum number of nodes of the list-tree).
</p>
</li>
<li> <p><code>has_elem</code> searches elements in a list using element names, regular expressions applied to element names, or a function applied to the elements, and returns <code>TRUE</code> if any matches were found.
</p>
</li>
</ul>
</li>
<li> <p><b>Subsetting</b> </p>

<ul>
<li> <p><code>atomic_elem</code> examines the top-level of a list and returns a sublist with the atomic elements. Conversely <code>list_elem</code> returns the sublist of elements which are themselves lists or list-like objects.
</p>
</li>
<li> <p><code>reg_elem</code> and <code>irreg_elem</code> are recursive versions of the former. <code>reg_elem</code> extracts the 'regular' part of the list-tree leading to atomic elements in the final nodes, while <code>irreg_elem</code> extracts the 'irregular' part of the list tree leading to non-atomic elements in the final nodes. (<em>Tip</em>: try calling both on an <code>lm</code> object). Naturally for all lists <code>l</code>, <code>is_unlistable(reg_elem(l))</code> evaluates to <code>TRUE</code>.
</p>
</li>
<li> <p><code>get_elem</code> extracts elements from a list using element names, regular expressions applied to element names, a function applied to the elements, or element-indices used to subset the lowest-level sub-lists. by default the result is presented as a simplified list containing all matching elements. With the <code>keep.tree</code> option however <code>get_elem</code> can also be used to subset lists i.e. maintain the full tree but cut off non-matching branches.
</p>
</li>
</ul>
</li>
<li> <p><b>Splitting and Transposition</b> </p>

<ul>
<li> <p><code>rsplit</code> recursively splits a vector or data frame into subsets according to combinations of (multiple) vectors / factors - by default returning a (nested) list. If <code>flatten = TRUE</code>, the list is flattened yielding the same result as <code>split</code>. <code>rsplit</code> is also faster than <code>split</code>, particularly for data frames.
</p>
</li>
<li> <p><code>t_list</code> efficiently transposes nested lists of lists, such as those obtained from splitting a data frame by multiple variables using <code>rsplit</code>.
</p>
</li>
</ul>
</li>
<li> <p><b>Apply Functions</b> </p>

<ul><li> <p><code>rapply2d</code> is a recursive version of <code>lapply</code> with two key differences to <code>rapply</code> to apply a function to nested lists of data frames or other list-based objects.
</p>
</li></ul>
</li>
<li> <p><b>Unlisting / Row-Binding</b> </p>

<ul><li> <p><code>unlist2d</code> efficiently unlists unlistable lists in 2-dimensions and creates a data frame (or <em>data.table</em>) representation of the list. This is done by recursively flattening and row-binding R objects in the list while creating identifier columns for each level of the list-tree and (optionally) saving the row-names of the objects in a separate column. <code>unlist2d</code> can thus also be understood as a recursive generalization of <code>do.call(rbind, l)</code>, for lists of vectors, data frames, arrays or heterogeneous objects. A simpler version for non-recursive row-binding lists of lists / data.frames, is also available by <code>rowbind</code>.
</p>
</li></ul>
</li>
</ul>
<h3>Table of Functions</h3>


<table>
<tr>
<td style="text-align: left;">
<em> Function </em>  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <em> Description </em>  </td>
</tr>
<tr>
<td style="text-align: left;">
  
  <code>is_unlistable</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Checks if list is unlistable </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>ldepth</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Level of nesting / maximum depth of list-tree </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>has_elem</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Checks if list contains a certain element </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>get_elem</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Subset list / extract certain elements </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>atomic_elem</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Top-level subset atomic elements </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>list_elem</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Top-level subset list/list-like elements </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>reg_elem</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Recursive version of <code>atomic_elem</code>: Subset / extract 'regular' part of list </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>irreg_elem</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Subset / extract non-regular part of list </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>rsplit</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Recursively split vectors or data frames / lists </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>t_list</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Transpose lists of lists </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>rapply2d</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Recursively apply functions to lists of data objects </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>unlist2d</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Recursively unlist/row-bind lists of data objects in 2D, to data frame or <em>data.table</em> </td>
</tr>
<tr>
<td style="text-align: left;">
  <code>rowbind</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Non-recursive binding of lists of lists / data.frames. </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Collapse Overview
</p>


</div>