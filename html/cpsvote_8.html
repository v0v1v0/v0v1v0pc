<div class="container">

<table style="width: 100%;"><tr>
<td>cps_label</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply factor levels to raw CPS data</h2>

<h3>Description</h3>

<p>The CPS publishes their data in a numeric format, with a separate
PDF codebook (not machine readable) describing factor values. This function
labels the raw numeric CPS data according to a supplied factor key. Codes
that appear in a given year and are not included in <code>factors</code> will be
recoded as <code>NA</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cps_label(
  data,
  factors = cpsvote::cps_factors,
  names_col = "new_name",
  na_vals = c("-1", "BLANK", "NOT IN UNIVERSE"),
  expand_year = TRUE,
  rescale_weight = TRUE,
  toupper = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The raw CPS data that factors should be applied to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>factors</code></td>
<td>
<p>A data frame containing the label codes to be applied</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names_col</code></td>
<td>
<p>Which column of <code>factors</code> contains the column names of <code>data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_vals</code></td>
<td>
<p>Which character values should be considered "missing" across
the dataset and be set to NA after labelling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>expand_year</code></td>
<td>
<p>Whether to change the two-digit year listed in earlier surveys
(94, 96) into a four-digit year (1994, 1996)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rescale_weight</code></td>
<td>
<p>Whether to rescale the weight, dividing by 10,000. The
CPS describes the given weight as having "four implied decimals", so this
rescaling adjusts the weight to produce sensible population totals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toupper</code></td>
<td>
<p>Whether to convert all factor levels to uppercase</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>CPS data with factor labels in place of the raw numeric data
</p>


<h3>Examples</h3>

<pre><code class="language-R">cps_label(cps_2016_10k)

</code></pre>


</div>