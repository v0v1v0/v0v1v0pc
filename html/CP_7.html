<div class="container">

<table style="width: 100%;"><tr>
<td>ConPwrExpAndersen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Conditional Power (Exponential (Andersen))
</h2>

<h3>Description</h3>

<p>Calculates the conditional power within the exponential model
with the original formulae of the Andersen paper.
</p>


<h3>Usage</h3>

<pre><code class="language-R"> ConPwrExpAndersen(data, cont.time, new.pat = c(0, 0),
                   theta.0 = 1, alpha = 0.05,
                   disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the exponential model should be plotted
with default at FALSE.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function calculates the conditional power within
the exponential model, i. e.
</p>
<p style="text-align: center;"><code class="reqn">S(t) = e^(- \lambda t)</code>
</p>

<p>for all <code class="reqn">t \ge 0</code> and <code class="reqn">\lambda &gt; 0</code>,
and plots the conditional power curve.
The original formulae of the Andersen paper are used.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the exponential model.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>lambda1.hat</code></td>
<td>

<p>estimated hazard of group 1
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda2.hat</code></td>
<td>

<p>estimated hazard of group 2
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.hat</code></td>
<td>

<p>estimated hazard ratio
= estimated hazard of group 2 / estimated hazard of group 1
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma.theta.0</code></td>
<td>

<p>conditional power
</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Andersen, P. K. (1987).
Conditional power calculations as an aid in the decision
whether to continue a clinical trial.
Controlled Clinical Trials 8, 67-74.
</p>


<h3>See Also</h3>

<p><code>CP</code> <br><code>GenerateDataFrame</code> <br><code>test</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the exponential model
 # with the original formulae of the Andersen paper
 ConPwrExpAndersen(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
                   theta.0 = 0.75, alpha = 0.05,
                   disp.data = TRUE, plot.km = TRUE)
</code></pre>


</div>