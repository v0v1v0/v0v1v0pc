<div class="container">

<table style="width: 100%;"><tr>
<td>ClusMB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform a cluster analysis of rows in a Multi-block context with the ClusMB method</h2>

<h3>Description</h3>

<p>Clustering of rows (products in sensory analysis) in a Multi-block context.
The hierarchical clustering is followed by a partitioning algorithm (consolidation).
</p>


<h3>Usage</h3>

<pre><code class="language-R">ClusMB(Data, Blocks, NameBlocks=NULL, scale=FALSE, center=TRUE,
nclust=NULL, gpmax=6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Data</code></td>
<td>
<p>data frame or matrix. Correspond to all the blocks of variables merged horizontally</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Blocks</code></td>
<td>
<p>numerical vector. The number of variables of each block. The sum must be equal to the number of columns of Data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NameBlocks</code></td>
<td>
<p>string vector. Name of each block. Length must be equal to the length of Blocks vector. If NULL, the names are B1,...Bm. Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>logical. Should the data variables be scaled? Default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p>logical. Should the data variables be centered? Default: TRUE. Please set to FALSE for a CATA experiment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nclust</code></td>
<td>
<p>numerical. Number of clusters to consider. If NULL, the Hartigan index advice is taken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gpmax</code></td>
<td>
<p>logical. What is maximum number of clusters to consider? Default: min(6, number of blocks -2)</p>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li>
<p> group: the clustering partition after consolidation.
</p>
</li>
<li>
<p> nbgH: Advised number of clusters per Hartigan index
</p>
</li>
<li>
<p> nbgCH: Advised number of clusters per Calinski-Harabasz index
</p>
</li>
<li>
<p> cutree_k: the partition obtained by cutting the dendrogram in K clusters (before consolidation).
</p>
</li>
<li>
<p> dend: The ClusMB dendrogram
</p>
</li>
<li>
<p> param: parameters called
</p>
</li>
<li>
<p> type: parameter passed to other functions
</p>
</li>
</ul>
<h3>References</h3>

<p>Llobell, F., Qannari, E.M. (June 10, 2022). Cluster analysis in a multi-bloc setting. SMTDA, Athens, Greece.<br>
Llobell, F., Giacalone, D., Qannari, E. M. (Pangborn 2021). Cluster Analysis of products in CATA experiments.<br>
Paper submitted
</p>


<h3>See Also</h3>

<p><code>indicesClusters</code>, <code>summary.clusRows</code> , <code>clustRowsOnStatisAxes</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
#####projective mapping####
library(ClustBlock)
data(smoo)
res1=ClusMB(smoo, rep(2,24))
summary(res1)
indicesClusters(smoo, rep(2,24), res1$group)

####CATA####
data(fish)
Data=fish[1:66,2:30]
chang2=change_cata_format2(Data, nprod= 6, nattr= 27, nsub = 11, nsess= 1)
res2=ClusMB(Data= chang2$Datafinal, Blocks= rep(27, 11), center=FALSE)
indicesClusters(Data= chang2$Datafinal, Blocks= rep(27, 11),cut = res2$group, center=FALSE)

</code></pre>


</div>