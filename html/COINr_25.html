<div class="container">

<table style="width: 100%;"><tr>
<td>compare_coins_corr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compare two coins by correlation</h2>

<h3>Description</h3>

<p>Given two coins, this function returns the correlation between the two coins,
for target datset <code>dset</code> and target indicator code(s) <code>iCodes</code>. Correlation
is calculated as the Pearson correlation coefficient, but if <code>compare_by = "Ranks"</code>
then this is the correlation coefficient of the ranks, which amounts to the
Spearman rank correlation. Set <code>compare_by = "Scores"</code> to return the Pearson
correlation between scores.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compare_coins_corr(coin1, coin2, dset, iCodes, compare_by = "ranks")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>coin1</code></td>
<td>
<p>A coin</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coin2</code></td>
<td>
<p>A coin, with possibly alternative methodology. This should share at
least two units in common with <code>coin1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dset</code></td>
<td>
<p>Target data set, must be present in both <code>coin1</code> and <code>coin2</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iCodes</code></td>
<td>
<p>Character vector of indicator codes to correlate between the two
coins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compare_by</code></td>
<td>
<p>Either <code>"Ranks"</code> or <code>"Scores"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing a correlation table and a list of comparison data frames.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># build example
coin &lt;- build_example_coin()

# copy coin
coin2 &lt;- coin

# change to prank function (percentile ranks)
# we don't need to specify any additional parameters (f_n_para) here
coin2$Log$Normalise$global_specs &lt;- list(f_n = "n_prank")

# regenerate
coin2 &lt;- Regen(coin2)

# iCodes to compare: all at level 3 and 4
iCodes &lt;- coin$Meta$Ind$iCode[which(coin$Meta$Ind$Level &gt; 2)]

# compare index, sort by absolute rank difference
l_comp &lt;- compare_coins_corr(coin, coin2, dset = "Aggregated", iCodes = iCodes)

# see df
l_comp$df_corr

</code></pre>


</div>