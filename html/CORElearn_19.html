<div class="container">

<table style="width: 100%;"><tr>
<td>cvGen</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Cross-validation and stratified cross-validation</h2>

<h3>Description</h3>

<p>Generate indices for cross-validation and stratified cross-validation </p>


<h3>Usage</h3>

<pre><code class="language-R">cvGen(n, k) 
cvGenStratified(classVal,k) 
gatherFromList(lst)

</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p> The number of instances in a data set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p> The number of folds in cross-validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classVal</code></td>
<td>
<p> A vector of factors representing class values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lst</code></td>
<td>
<p>A list of lists from which we collect results of the same components.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The functions <code>cvGen</code> and <code>cvGenStratified</code> generate indices of instances from a data set which can be used in cross-validation. 
The function <code>cvGenStratified</code> generates the same distribution of class values in each fold.
The function <code>gatherFromList</code> is an auxiliary function helping in collection of results, see the example below.
</p>


<h3>Value</h3>

<p>The functions <code>cvGen</code> and <code>cvGenStratified</code> return a vector of indices indicating fold membership i.e. from 1:k.
The function codegatherFromList returns a list with components containing elements of the same name.
</p>


<h3>Author(s)</h3>

<p> Marko Robnik-Sikonja</p>


<h3>See Also</h3>

<p><code>CORElearn</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data &lt;- iris
folds &lt;- 10
foldIdx &lt;- cvGen(nrow(data), k=folds)
evalCore&lt;-list()
for (j in 1:folds) {
	dTrain &lt;- data[foldIdx!=j,]
	dTest  &lt;- data[foldIdx==j,]
	modelCore &lt;- CoreModel(Species~., dTrain, model="rf") 
	predCore &lt;- predict(modelCore, dTest)
	evalCore[[j]] &lt;- modelEval(modelCore, correctClass=dTest$Species,
	          predictedClass=predCore$class, predictedProb=predCore$prob ) 
	destroyModels(modelCore)
}
results &lt;- gatherFromList(evalCore)
sapply(results, mean)
</code></pre>


</div>