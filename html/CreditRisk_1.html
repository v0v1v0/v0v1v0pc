<div class="container">

<table style="width: 100%;"><tr>
<td>at1p</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Analytically - Tractable First Passage (AT1P) model</h2>

<h3>Description</h3>

<p><code>at1p</code> calculates the survival probability <code class="reqn">Q(\tau &gt; t)</code> and default intensity
for each maturity according to the structural Analytically - Tractable First Passage model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">at1p(V0, H0, B, sigma, r, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>V0</code></td>
<td>
<p>firm value at time <code>t = 0</code> (it is a constant value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H0</code></td>
<td>
<p>value of the safety level at time <code>t = 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>free positive parameter used for shaping the barrier <code>Ht</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>a vector of constant stepwise volatility <code class="reqn">\sigma_t</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>a vector of constant stepwise risk-free rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>a vector of debt maturity structure (it is a numeric vector).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In this function the safety level <code>Ht</code> is calculated using the formula:
</p>
<p style="text-align: center;"><code class="reqn">H(t) = \frac{H0}{V0} * E_0[V_t] * \exp^{- B \int_0^t \sigma_u du}</code>
</p>

<p>The backbone of the default barrier at <code class="reqn">t</code> is a proportion, controlled by the parameter
<code>H0</code>, of the expected value of the company assets at <code class="reqn">t</code>. <code>H0</code> may depend on the
level of the liabilities, on safety covenants, and in general on the characteristics of the capital
structure of the company. Also, depending on the value of the parameter <code>B</code>, it is possible
that this backbone is modified by accounting for the volatility of the company assets. For
example, if <code>B &gt; 0</code> corresponds to the interpretation that when volatility increases - which
can be independed of credit quality - the barrier is slightly lowered to cut some more slack
to the company before going bankrupt. When <code>B = 0</code> the barrier does not depend on the
volatility and the "distance to default" is simply modelled through the barrier parameter <code>H0</code>.
</p>


<h3>Value</h3>

<p><code>at1p</code> returns an object of class <code>data.frame</code> containing the firm value, safety level <code class="reqn">H(t)</code>
and the survival probability for each maturity. The last column is the default intensity calculated
among each interval <code class="reqn">\Delta t</code>.
</p>


<h3>References</h3>

<p>Damiano Brigo, Massimo Morini, Andrea Pallavicini (2013)
Counterparty Credit Risk, Collateral and Funding.
With Pricing Cases for All Asset Classes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mod &lt;- at1p(V0 = 1, H0 = 0.7, B = 0.4, sigma = rep(0.1, 10), r = cdsdata$ED.Zero.Curve,
t = cdsdata$Maturity)
mod

plot(cdsdata$Maturity, mod$Ht, type = 'b', xlab = 'Maturity', ylab = 'Safety Level H(t)',
main = 'Safety level for different maturities', ylim = c(min(mod$Ht), 1.5),
col = 'red')
lines(cdsdata$Maturity, mod$Vt, xlab = 'Maturity', ylab = 'V(t)',
main = 'Value of the Firm \n at time t', type = 's')

plot(cdsdata$Maturity, mod$Survival, type = 'b',
main = 'Survival Probability for different Maturity \n (AT1P model)',
xlab = 'Maturity', ylab = 'Survival Probability')

matplot(cdsdata$Maturity, mod$Default.Intensity, type = 'l', xlab = 'Maturity',
ylab = 'Default Intensity')

</code></pre>


</div>