<div class="container">

<table style="width: 100%;"><tr>
<td>kmeansvar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>k-means clustering of variables</h2>

<h3>Description</h3>

<p>Iterative relocation algorithm of k-means type which performs a
partitionning of a set of variables.  Variables can be quantitative,
qualitative or a mixture of both. The center of a cluster of variables is a
synthetic variable but is not a 'mean' as for classical k-means. This
synthetic variable is the first principal component calculated by PCAmix.
PCAmix is defined for a mixture of qualitative and quantitative variables
and includes ordinary principal component analysis (PCA) and multiple
correspondence analysis (MCA) as special cases. The homogeneity of a
cluster of variables is defined as the sum of the correlation ratio (for
qualitative variables) and the squared correlation (for quantitative
variables) between the variables and the center of the cluster, which is in
all cases a numerical variable. Missing values are replaced by means for
quantitative variables and by zeros in the indicator matrix for qualitative
variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">kmeansvar(X.quanti = NULL, X.quali = NULL, init, iter.max = 150,
  nstart = 1, matsim = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X.quanti</code></td>
<td>
<p>a numeric matrix of data, or an object that can be coerced to such a matrix
(such as a numeric vector or a data frame with all numeric columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X.quali</code></td>
<td>
<p>a categorical matrix of data, or an object that can be coerced to such a matrix
(such as a character vector, a factor or a data frame with all factor columns).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>either the number of clusters or an initial partition (a vector
of integers indicating the cluster to which each variable is allocated).
If <code>init</code> is a number, a random set of (distinct) columns in
<code>X.quali</code> and <code>X.quanti</code> is chosen as the initial cluster
centers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter.max</code></td>
<td>
<p>the maximum number of iterations allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstart</code></td>
<td>
<p>if <code>init</code> is a number, <code>nstart</code> corresponds with
the number of random sets used in the process.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matsim</code></td>
<td>
<p>boolean, if 'TRUE', the matrices of similarities between
variables in same cluster are calculated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If the quantitative and qualitative data are in a same dataframe, the function
<code>splitmix</code> can be used to extract automatically the qualitative and the quantitative
data in two separated dataframes.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>a list of matrices of squared loadings i.e. for each
cluster of variables, the squared loadings on first principal component of
PCAmix. For quantitative variables (resp. qualitative), squared loadings
are the squared correlations (resp. the correlation ratios) with the first
PC (the cluster center).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>a list of matrices of similarities
i.e. for each cluster, similarities between their variables.  The
similarity between two variables is defined as a square cosine: the square
of the Pearson correlation when the two variables are quantitative; the
correlation ratio when one variable is quantitative and the other one is
qualitative; the square of the canonical correlation between two sets of
dummy variables, when the two variables are qualitative. <code>sim</code> is
'NULL if <code>matsim</code> is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>a vector of integers
indicating the cluster to which each variable is allocated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wss</code></td>
<td>
<p>the within-cluster sum of squares for each cluster: the sum of the correlation
ratio (for qualitative variables) and the squared correlation (for
quantitative variables) between the variables and the center of the
cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>E</code></td>
<td>
<p>the pourcentage of homogeneity which is accounted by the
partition in k clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>the number of variables in each
cluster.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scores</code></td>
<td>
<p>a n by k numerical matrix which contains the k
cluster centers. The center of a cluster is a synthetic variable: the first
principal component calculated by PCAmix.  The k columns of <code>scores</code>
contain the scores of the n observations units on the first PCs of the k
clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef</code></td>
<td>
<p>a list of the coefficients of the linear
combinations defining the synthetic variable of each cluster.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Chavent, M., Liquet, B., Kuentz, V., Saracco, J. (2012),
ClustOfVar: An R Package for the Clustering of Variables. Journal of
Statistical Software, Vol. 50, pp. 1-16.
</p>


<h3>See Also</h3>

<p><code>splitmix</code>, <code>summary.clustvar</code>,<code>predict.clustvar</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(decathlon)
#choice of the number of clusters
tree &lt;- hclustvar(X.quanti=decathlon[,1:10])
stab &lt;- stability(tree,B=60)
#a random set of variables is chosen as the initial cluster centers, nstart=10 times
part1 &lt;- kmeansvar(X.quanti=decathlon[,1:10],init=5,nstart=10)
summary(part1)
#the partition from the hierarchical clustering is chosen as initial partition
part_init&lt;-cutreevar(tree,5)$cluster
part2&lt;-kmeansvar(X.quanti=decathlon[,1:10],init=part_init,matsim=TRUE)
summary(part2)
part2$sim

</code></pre>


</div>