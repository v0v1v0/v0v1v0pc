<div class="container">

<table style="width: 100%;"><tr>
<td>multivariate_difference</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Using dissimilarity-based measures to calculate differences in
composition and dispersion between pairs of treatments at a single time
point</h2>

<h3>Description</h3>

<p>Calculates the difference in composition and dispersion between
treatments based off a Bray-Curtis dissimilarity matrix at a single point
in time. Composition difference is the pairwise distance between centroids
of compared treatments and ranges from 0-1, where identical communities
give 0 and completely different communities give 1. Dispersion difference
is the difference between treatments in the dispersion of replicates, i.e.
the average distance between a replicate and its centroid.
</p>


<h3>Usage</h3>

<pre><code class="language-R">multivariate_difference(
  df,
  time.var = NULL,
  species.var,
  abundance.var,
  replicate.var,
  treatment.var,
  reference.treatment = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame containing a species, abundance, replicate, and
treatment columns and optional time column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.var</code></td>
<td>
<p>The name of the optional time column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species.var</code></td>
<td>
<p>The name of the species column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abundance.var</code></td>
<td>
<p>The name of the abundance column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicate.var</code></td>
<td>
<p>The name of the replicate column. Replicate identifiers
must be unique within the dataset and cannot be nested within treatments or
blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment.var</code></td>
<td>
<p>The name of the treatment column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference.treatment</code></td>
<td>
<p>The name of the optional treatment that all other
treatments will be compared to (e.g. only controls will be compared to all
other treatments). If not specified all pairwise treatment comparisons will
be made.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The multivariate_difference function returns a data frame with the
following attributes:
</p>

<ul>
<li>
<p>treatment.var: A column that has same name and type as the
treatment.var column, if treatment.var is specified.
</p>
</li>
<li>
<p>treatment.var2: A column that has the same type as the treatment.var
column, and is named treatment.var with a 2 appended to it.
</p>
</li>
<li>
<p>composition_diff: A numeric column that is the euclidean distance
between the centroids of two treatments at a single point in time.
</p>
</li>
<li>
<p>abs_dispersion_diff: A numeric column that is the absolute value of
the difference in the average dispersion of the replicates around the
centroid for the two treatments.
</p>
</li>
<li>
<p>trt_greater_disp: A column that has same type as the treatment.var
column, and specifies which of the two  treatments has greater dispersion.
</p>
</li>
<li>
<p>time.var: A characteristic column that has the same name and type as
the time.var column, if specified.
</p>
</li>
</ul>
<h3>References</h3>

<p>Avolio et al. Submitted, Avolio et al. 2015, Marti Anderson et al. 2006
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(pplots)
# Without time
df &lt;- subset(pplots, year == 2002)
multivariate_difference(df,
                        replicate.var = "plot",
                        treatment.var = "treatment",
                        species.var = "species",
                        abundance.var = "relative_cover")
# There are 6 replicates for each of three treatments, thus 18 total
# observations.

# Without time and with reference treatment
df &lt;- subset(pplots, year == 2002)
multivariate_difference(df,
                        replicate.var = "plot",
                        treatment.var = "treatment",
                        species.var = "species",
                        abundance.var = "relative_cover",
                        reference.treatment = "N1P0")
# There are 6 replicates for each of three treatments, thus 18 total
# observations.

# With time
multivariate_difference(pplots,
                        time.var = "year",
                        replicate.var = "plot",
                        species.var = "species",
                        abundance.var = "relative_cover",
                        treatment.var = "treatment")
# In each year there are 6 replicates for each of three treatments, for a
# total of 18 observations.
</code></pre>


</div>