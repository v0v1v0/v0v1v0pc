<div class="container">

<table style="width: 100%;"><tr>
<td>add_quantile.glm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Quantiles for the Response of a Generalized Linear Model</h2>

<h3>Description</h3>

<p>This function is one of the methods of
<code>add_quantile</code>. Currently, you can only use this function to
compute the quantiles of the response of Poisson, Quasipoisson,
Gamma, or Gaussian regression models.  Quantile estimates for
Bernoulli response variables (i.e., logistic regression) are not
supported.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'glm'
add_quantile(df, fit, p, name = NULL, yhatName = "pred", nSims = 2000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class <code>glm</code>. Predictions are made with
this object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A real number between 0 and 1. Sets the probability level
of the quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p><code>NULL</code> or a string. If <code>NULL</code>,
quantiles automatically will be named by <code>add_quantile</code>,
otherwise, they will be named <code>name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p>A string. Name of the vector of predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSims</code></td>
<td>
<p>A positive integer. Set the number of simulated draws
to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Quantiles of generalized linear models are determined by
<code>add_quantile</code> through a simulation using <code>arm::sim</code>. If
a Quasipoisson regression model is fit, simulation using the
Negative Binomial distribution is performed, see Gelman and Hill
(2007).
</p>
<p>If <code>add_quantile.glm</code> is called on a Gaussian GLM with
identity link function, the returned quantiles are identical to
those of <code>add_quantile.lm</code>. If a different link function is
used, the appropriate inverse transformation is applied.
</p>


<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values and level
<em>p</em> quantiles attached.
</p>


<h3>See Also</h3>

<p><code>add_ci.glm</code> for confidence intervals for
<code>glm</code> objects, <code>add_pi.glm</code> for prediction
intervals of <code>glm</code> objects, and <code>add_probs.glm</code>
for response probabilities of <code>glm</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Fit a Poisson GLM
fit &lt;- glm(dist ~ speed, data = cars, family = "poisson")

# What is the 0.3-quantile (or 30th percentile) of new distances,
# given the Poisson model?
add_quantile(cars, fit, p = 0.3)

# As above, but now find the 0.5-quantile (50th percentile), change
# the number of simulations to run, and give the vector of
# quantiles a custom name.
add_quantile(cars, fit, p = 0.5, name = "my_quantile", nSims = 300)


</code></pre>


</div>