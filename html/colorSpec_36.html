<div class="container">

<table style="width: 100%;"><tr>
<td>computeCRI</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Color Rendering Index (CRI) of Light Spectra</h2>

<h3>Description</h3>

<p>Compute the CIE 1974 color rendering index (CRI) of a light spectrum, 
called the <em>the test illuminant</em>.<br>
From the given spectrum a <em>reference illuminant</em> is selected with the same CCT 
(Correlated Color Temperature).
A selected set of 8 color samples is rendered in XYZ (1931) with both illuminants
and 8 color differences are computed in a special <b>CIEUVW</b> color space.
For each color difference a CRI is computed, where 100 is a perfect color match.
The final CRI is the average of these 8 CRI values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'colorSpec'
computeCRI( x, adapt=TRUE, attach=FALSE, tol=5.4e-3 )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an <b>colorSpec</b> <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object with <code>type</code> equal to <code>'light'</code>, and exactly 1 spectrum </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adapt</code></td>
<td>
<p>if <code>TRUE</code>, then a special chromatic adaption is performed, see <b>Details</b> </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>attach</code></td>
<td>
<p>if <code>TRUE</code>, then a large list of intermediate calculations
is attached to the returned number, as attribute <code>data</code>. 
This attached list includes data for all special 14 color samples, although
the last 6 do not affect the returned CRI.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>for the CRI to be meaningful the chromaticities of the test and reference illuminants must be sufficiently close in the CIE
1960 uniform chromaticity space.
If the tolerance is exceeded, the function returns <code>NA</code>.
The default <code>tol=5.4e-3</code> is the one recommended by the CIE, 
but the argument allows the user to override it.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The CCT of <code>x</code> is computed by <code>computeCCT()</code> with default options.
<br>
If <code>adapt</code> is <code>TRUE</code> the 8 test <code>uv</code> points
are chromatically adapted from the test illuminant to the reference illuminant
using a special von Kries type transformation; see <cite>Oleari</cite> and
<cite>Wikipedia</cite>.
The test UVW values are computed relative to the reference illuminant.
<br>
If <code>adapt</code> is <code>FALSE</code> the 8 test <code>uv</code> points
are <em>not</em> chromatically adapted,
and the test UVW values are computed relative to the test illuminant.
</p>


<h3>Value</h3>

<p><code>computeCRI()</code> returns a single number <code class="reqn">\le</code> 100.
In case of ERROR it returns <code>NA</code>. 
If <code>attach</code> is <code>TRUE</code> a large list
of intermediate calculations is attached to the returned number.
</p>


<h3>Source</h3>

<p>The test color reflectance spectra are taken from:<br>
http://www.lrc.rpi.edu/programs/nlpip/lightinganswers/lightsources/scripts/NLPIP_LightSourceColor_Script.m
</p>


<h3>References</h3>

<p>Oleari, Claudio, Gabriele Simone.
<b>Standard Colorimetry: Definitions, Algorithms and Software</b>.
John Wiley. 2016.
pp. 465-470.
</p>
<p>GÃ¼nther Wyszecki and W. S. Stiles.
<b>Color Science: Concepts and Methods, Quantitative Data and Formulae, Second Edition</b>.
John Wiley &amp; Sons, 1982.
Table 1(3.11). p. 828.
</p>
<p>Wikipedia.
<b>Color rendering index</b>.
<a href="https://en.wikipedia.org/wiki/Color_rendering_index">https://en.wikipedia.org/wiki/Color_rendering_index</a>
</p>
<p>Hunt, R. W. G. and M. R. Pointer.
<b>Measuring Colour</b>.  4th edition.
John Wiley &amp; Sons.
2011.
Appendix 7.
</p>


<h3>See Also</h3>

<p><code>type</code>, 
<code>xyz1931</code>,  
<code>computeCCT</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">computeCRI( subset(Fs.5nm,'F2') )       # returns 64.15195
computeCRI( subset(Fs.5nm,'F4') )       # returns 51.36348
</code></pre>


</div>