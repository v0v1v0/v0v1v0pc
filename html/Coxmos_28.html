<div class="container">

<table style="width: 100%;"><tr>
<td>getAutoKM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>getAutoKM</h2>

<h3>Description</h3>

<p>Generates a Kaplan-Meier plot for the specified Coxmos model. The plot can be
constructed based on the model's Linear Predictor value, the PLS-COX component, or the original
variable level.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getAutoKM(
  type = "LP",
  model,
  comp = 1:2,
  top = 10,
  ori_data = TRUE,
  BREAKTIME = NULL,
  n.breaks = 20,
  only_sig = FALSE,
  alpha = 0.05,
  title = NULL,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Character. Kaplan Meier for complete model linear predictor ("LP"), for PLS components
("COMP") or for original variables ("VAR") (default: LP).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Coxmos model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comp</code></td>
<td>
<p>Numeric vector. Vector of length two. Select which components to plot (default: c(1,2)).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>Numeric. Show "top" first variables. If top = NULL, all variables are shown (default: 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ori_data</code></td>
<td>
<p>Logical. Compute the Kaplan-Meier plot with the raw-data or the normalize-data to
compute the best cut-point for splitting the data into two groups. Only used when type = "VAR"
(default: TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BREAKTIME</code></td>
<td>
<p>Numeric. Size of time to split the data into "total_time / BREAKTIME + 1" points.
If BREAKTIME = NULL, "n.breaks" is used (default: NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.breaks</code></td>
<td>
<p>Numeric. If BREAKTIME is NULL, "n.breaks" is the number of time-break points to
compute (default: 20).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>only_sig</code></td>
<td>
<p>Logical. If "only_sig" = TRUE, then only significant log-rank test variables are
returned (default: FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric. Numerical values are regarded as significant if they fall below the
threshold (default: 0.05).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>Character. Kaplan-Meier plot title (default: NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical. If verbose = TRUE, extra messages could be displayed (default: FALSE).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>getAutoKM</code> function offers a flexible approach to visualize survival analysis
results using the Kaplan-Meier method. Depending on the <code>type</code> parameter, the function can
generate plots based on different aspects of the Coxmos model:
</p>

<ul>
<li>
<p> "LP": Uses the Linear Predictor value of the model.
</p>
</li>
<li>
<p> "COMP": Utilizes the PLS-COX component.
</p>
</li>
<li>
<p> "VAR": Operates at the original variable level.
</p>
</li>
</ul>
<p>The function provides options to customize the number of components (<code>comp</code>), the number of top
variables (<code>top</code>), and whether to use raw or normalized data (<code>ori_data</code>). Additionally, users can
specify the time intervals (<code>BREAKTIME</code> and <code>n.breaks</code>) for the Kaplan-Meier plot. If significance
testing is desired, the function can filter out non-significant variables based on the log-rank
test (<code>only_sig</code> and <code>alpha</code> parameters).
</p>
<p>It's essential to ensure that the provided <code>model</code> is of the correct class (<code>Coxmos</code>). The function
will return an error message if an incompatible model is supplied.
</p>


<h3>Value</h3>

<p>A list of two elements per each model in the list:
<code>info_logrank_num</code>: A list of two data.frames with the numerical variables categorize as
qualitative and the cutpoint to divide the data into two groups.
<code>LST_PLOTS</code>: A list with the Kaplan-Meier Plots.
</p>


<h3>Author(s)</h3>

<p>Pedro Salguero Garcia. Maintainer: pedsalga@upv.edu.es
</p>


<h3>References</h3>

<p>Kaplan EL, Kaplan EL, Meier P (1958).
“Nonparametric Estimation from Incomplete Observations.”
<em>Journal of the American Statistical Association</em>.
<a href="https://doi.org/10.1007/978-1-4612-4380-9_25">doi:10.1007/978-1-4612-4380-9_25</a>, <a href="https://link.springer.com/chapter/10.1007/978-1-4612-4380-9_25">https://link.springer.com/chapter/10.1007/978-1-4612-4380-9_25</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("X_proteomic")
data("Y_proteomic")
set.seed(123)
index_train &lt;- caret::createDataPartition(Y_proteomic$event, p = .5, list = FALSE, times = 1)
X_train &lt;- X_proteomic[index_train,1:50]
Y_train &lt;- Y_proteomic[index_train,]
X_test &lt;- X_proteomic[-index_train,1:50]
Y_test &lt;- Y_proteomic[-index_train,]
splsicox.model &lt;- splsicox(X_train, Y_train, n.comp = 2, penalty = 0.5, x.center = TRUE,
x.scale = TRUE)
getAutoKM(type = "LP", model = splsicox.model)
</code></pre>


</div>