<div class="container">

<table style="width: 100%;"><tr>
<td>ApplyByClass</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Apply by class</h2>

<h3>Description</h3>

<p>Apply functions to a group of values given by a node property.</p>


<h3>Usage</h3>

<pre><code class="language-R">ApplyByClass(community, property, class, fn, ...)
SumMByClass(community, class, na.rm=FALSE)
SumNByClass(community, class, na.rm=FALSE)
SumBiomassByClass(community, class, na.rm=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>property</code></td>
<td>
<p>the property to which <code>fn</code> is applied.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>the property over which <code>fn</code> is applied. Defaults to 
'category' if the community has a node property with that name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn</code></td>
<td>
<p>a function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>logical - if <code>TRUE</code> then <code>NA</code> values are removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters to <code>fn</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>ApplyByClass</code> applies <code>fn</code> to <code>property</code> by class. 
<code>property</code> and <code>class</code> should both be names that meet the criteria 
of the <code>properties</code> argument of <code>NPS</code>.
</p>
<p><code>SumMByClass</code>, <code>SumNByClass</code> and <code>SumBiomassByClass</code> are 
convenient wrapper around <code>ApplyByClass</code>.
</p>


<h3>Value</h3>

<p>A vector or list of values, named by unique values of <code>class</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code>Community</code>, 
<code>NPS</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(TL84)

# Sum body mass by category
ApplyByClass(TL84, 'M', 'category', sum)

# A more convenient way to sum body mass by category
SumMByClass(TL84)

# Sum body mass by kingdom. The 'Unclassified flagellates' node does not have a 
# kingdom, so we get a value labelled '&lt;unnamed&gt;'.
SumMByClass(TL84, 'kingdom')

# Maximum body mass by category
ApplyByClass(TL84, 'M', 'category', max)

# A list of min and max M
ApplyByClass(TL84, 'M', 'category', range)

# A list of min and max M by kingom
ApplyByClass(TL84, 'M', 'kingdom', range)

# The same values as a matrix
do.call('rbind', ApplyByClass(TL84, 'M', 'kingdom', range))

# Broadstone Stream has some nodes in every category without M so all returned 
# values are NA.
data(BroadstoneStream)
SumMByClass(BroadstoneStream)

# Get rid of the NA values
SumMByClass(BroadstoneStream, na.rm=TRUE)
</code></pre>


</div>