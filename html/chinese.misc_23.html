<div class="container">

<table style="width: 100%;"><tr>
<td>seg_file</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convenient Tool to Segment Chinese Texts</h2>

<h3>Description</h3>

<p>The function first collects filenames or text vectors, then it 
calls <code>jiebaR::segment</code> to segment texts. In 
this process, it allows users to do additional modification. 
File encoding is detected automatically. 
After segmenting, segmented words that belong to a text will be pasted 
together into a single character with words split by " ".
The segmented result will be returned or written 
on the disk.
</p>


<h3>Usage</h3>

<pre><code class="language-R">seg_file(
  ...,
  from = "dir",
  folder = NULL,
  mycutter = DEFAULT_cutter,
  enc = "auto",
  myfun1 = NULL,
  myfun2 = NULL,
  special = "",
  ext = "txt"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>names of folders, files, or the mixture of the two kinds. It can also be a character 
vector of text to be processed when setting <code>from</code> to "v", see below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>should only be "dir" or "v". 
If your inputs are filenames, it should be "dir" (default), 
If the inputs is a character vector of texts, it should be "v". However, if it is set to "v", 
make sure each element of the vector is not identical to filename in your working
directory; if they are identical, an error will be raised. 
To do this check is because if they are identical, the function 
<code>segment</code> will take the input as a file to read!</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folder</code></td>
<td>
<p>a length 1 character indicating the folder to put the segmented text. 
Set it to <code>NULL</code> if you want the result to be a character vector rather than to be written 
on your disk. Otherwise, it should be a valid directory path, each segmented 
text will be written into a .txt/.rtf file. If the specified folder does not exist, the function 
will try to create it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mycutter</code></td>
<td>
<p>the jiebar cutter to segment text. A default cutter is used. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enc</code></td>
<td>
<p>the file encoding used to read files. If files have different encodings or you do not 
know their encodings, set it to "auto" (default) to let encodings be detected automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>myfun1</code></td>
<td>
<p>a function used to modify each text after being read by <code>scancn</code> 
and before being segmented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>myfun2</code></td>
<td>
<p>a function used to modify each text after they are segmented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>special</code></td>
<td>
<p>a length 1 character or regular expression to be passed to <code>dir_or_file</code> 
to specify what pattern should be met by filenames. The default is to read all files.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ext</code></td>
<td>
<p>the extension of written files. Should be "txt", "rtf" or "". If it is not one of the 
three, it is set to "". This is only used when your input is a text vector rather than 
filenames and you want to write the outcome into your disk.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Users should provide their jiebar cutter by <code>mycutter</code>. Otherwise, the function 
uses <code>DEFAULT_cutter</code> which is created when the package is loaded. 
The <code>DEFAULT_cutter</code> is simply <code>worker(write = FALSE)</code>. 
See <code>jiebaR::worker</code>. 
</p>
<p>As long as 
you have not manually created another variable called "DEFAULT_cutter", 
you can directly use <code>jiebaR::new_user_word(DEFAULT_cutter...)</code> 
to add new words. By the way, whether you manually create an object 
called "DEFAULT_cutter", the original loaded DEFAULT_cutter which is 
used by default by functions in this package will not be removed by you.
So, whenever you want to use this default value, either you do not set 
<code>mycutter</code>, or 
set it to <code>mycutter = chinese.misc::DEFAULT_cutter</code>.
</p>
<p>The encoding for writing files (if <code>folder</code> is not NULL) is always "UTF-8".
</p>


<h3>Value</h3>

<p>a character vector, each element is a segmented text, with words split by " ". 
If <code>folder</code> is a folder name, the result will be written into your disk and 
nothing returns.
</p>


<h3>Examples</h3>

<pre><code class="language-R">require(jiebaR)
# No Chinese word is allowed, so we use English here.
x &lt;- c("drink a bottle of milk", 
  "drink a cup of coffee", 
 "DRINK SOME WATER")
seg_file(x, from = "v", myfun1 = tolower)
</code></pre>


</div>