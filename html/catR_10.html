<div class="container">

<table style="width: 100%;"><tr>
<td>genDichoMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Item bank generation (dichotomous models)</h2>

<h3>Description</h3>

<p>This command generates an item bank from prespecified parent distributions for use with dichotomous IRT models. Subgroups of items can also be specified for content balancing purposes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">genDichoMatrix(items = 100, cbControl = NULL, model = "4PL", 
  aPrior = c("norm", 1, 0.2), bPrior = c("norm", 0, 1), 
  cPrior = c("unif", 0, 0.25), dPrior = c("unif", 0.75, 1), seed = 1)
 </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>items</code></td>
<td>
<p>integer: the number of items to include in the generated item bank.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cbControl</code></td>
<td>
<p>either a list to define subgroups for content balancing or <code>NULL</code> (default). See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>character: the name of the logistic IRT model, with possible values <code>"1PL"</code>, <code>"2PL"</code>, <code>"3PL"</code> or <code>"4PL"</code> (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aPrior</code></td>
<td>
<p>vector of three components, specifying the prior distribution and item parameters for generating the item discrimination levels. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bPrior</code></td>
<td>
<p>vector of three components, specifying the prior distribution and item parameters for generating the item difficulty levels. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cPrior</code></td>
<td>
<p>vector of three components, specifying the prior distribution and item parameters for generating the item lower asymptote levels. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dPrior</code></td>
<td>
<p>vector of three components, specifying the prior distribution and item parameters for generating the item upper asymptote levels. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>numeric: the random seed number for the generation of item parameters (default is 1). See <code>set.seed</code> for further details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function permits to generate an item bank under dichotomous IRT models that is compatible for use with <code>randomCAT</code>. 
</p>
<p>The number of items to be included in the bank is specified by the <code>items</code> argument. Corresponding item parameters are drawn from distributions to be specified by arguments <code>aPrior</code>, <code>bPrior</code>, <code>cPrior</code> and <code>dPrior</code> for respective parameters <code class="reqn">a_i</code>, <code class="reqn">b_i</code>, <code class="reqn">c_i</code> and <code class="reqn">d_i</code> (Barton and Lord, 1981). Each of these arguments is of length 3, the first component containing the name of the distribution and the last two components coding the distribution parameters. 
</p>
<p>Possible distributions are:
</p>

<ul>
<li>
<p>the <em>normal distribution</em> <code class="reqn">N(\mu, \sigma^2)</code>, available for parameters <code class="reqn">a_i</code> and <code class="reqn">b_i</code>. It is specified by <code>"norm"</code> as first argument while the latter two arguments contain the values of <code class="reqn">\mu</code> and <code class="reqn">\sigma</code> respectively.
</p>
</li>
<li>
<p>the <em>log-normal distribution</em> <code class="reqn">\log N(\mu, \sigma^2)</code>, available for parameter <code class="reqn">a_i</code> only. It is specified by <code>"lnorm"</code> as first argument while the latter two arguments contain the values of <code class="reqn">\mu</code> and <code class="reqn">\sigma</code> respectively.
</p>
</li>
<li>
<p>the <em>uniform distribution</em> <code class="reqn">U([a,b])</code>, available for all parameters. It is specified by <code>"unif"</code> as first argument while the latter two arguments contain the values of <code class="reqn">a</code> and <code class="reqn">b</code> respectively. Note that taking <code class="reqn">a</code> and <code class="reqn">b</code> equal to a common value, say <code class="reqn">t</code>, makes all parameters to be equal to <code class="reqn">t</code>.
</p>
</li>
<li>
<p>the <em>Beta distribution</em> <code class="reqn">Beta(\alpha, \beta)</code>, available for parameters <code class="reqn">c_i</code> and <code class="reqn">d_i</code>. It is specified by <code>"beta"</code> as first argument while the latter two arguments contain the values of <code class="reqn">\alpha</code> and <code class="reqn">\beta</code> respectively.
</p>
</li>
</ul>
<p>Inattention parameters <code class="reqn">d_i</code> are fixed to 1 if <code>model</code> is not <code>"4PL"</code>; pseudo-guessing parameters <code class="reqn">c_i</code> are fixed to zero if <code>model</code> is either <code>"1PL"</code> or <code>"2PL"</code>; and discrimination parameters <code class="reqn">a_i</code> are
fixed to 1 if <code>model="1PL"</code>. The random generation of item parameters can be controlled by the <code>seed</code> argument.
</p>
<p>If required, the distribution of the items across subgroups with specified names can be performed. To do so, the <code>cbControl</code> argument must be supplied with a list of two arguments: (a) the first argument is called <code>$names</code> and contains the different names of the subgroups of items; (b) the second argument is called <code>$props</code> and contains a vector of numeric values, of the same length of <code>names</code> element, with only positive numbers but not necessarily summing to one. For instance, if <code>props</code> is set as <code>c(1, 2, 2)</code> and <code>items</code> to <code>100</code>, then the three subgroups will hold respectively 20, 40 and 40 items.
</p>
<p>Several constraints apply to the arguments of the <code>cbControl</code> list. First, both arguments of <code>cbControl</code> must be of the same length. Second, as already explained, <code>cbControl$props</code> must either sum to 1 (in case of proportions) or to <code>items</code> (in case of integer values). Finally, if proportions are provided to <code>cbControl$props</code>, one can ensure that when multiplied by <code>items</code> they return integer values (so that they can sum up to <code>items</code>).
</p>
<p>The random generation of item parameters and the random allocation of items to subgroups of items are both under control by the <code>seed</code> argument.
</p>
<p>The output is a data frame with at least four arguments, with names <code>a</code>, <code>b</code>, <code>c</code> and <code>d</code> for respectively the discrimination <code class="reqn">a_i</code>, the difficulty <code class="reqn">b_i</code>, the lower asymptote <code class="reqn">c_i</code> and the upper asymptote <code class="reqn">d_i</code> parameters. A fifth argument contains optionally the subgroup names that have been randomly assigned to the generated items, in the proportions specified by the <code>$props</code> argument of the <code>cbControl</code> list. 
</p>


<h3>Value</h3>

<p>A data frame with four or five arguments:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>the generated item discrimination parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b</code></td>
<td>
<p>the generated item difficulty parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>the generated item lower asymptote parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>the generated item upper asymptote parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Group</code></td>
<td>
<p>(optional) the distribution of subgroup names across items. Ignored if <code>cbControl</code> is <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>The current version of <code>genItemBank</code> is only designed for dichotomous IRT models. Future extensions will hopefully provide the same tool for polytomous IRT models.
</p>


<h3>Author(s)</h3>

<p>David Magis <br>
Department of Psychology, University of Liege, Belgium <br><a href="mailto:david.magis@uliege.be">david.magis@uliege.be</a>
</p>


<h3>References</h3>

<p>Barton, M.A., and Lord, F.M. (1981). <em>An upper asymptote for the three-parameter logistic item-response model</em>. Research Bulletin 81-20. Princeton, NJ: Educational Testing Service.
</p>
<p>Magis, D. and Barrada, J. R. (2017). Computerized Adaptive Testing with R: Recent Updates of the Package <em>catR</em>. <em>Journal of Statistical Software</em>, <em>Code Snippets</em>, <em>76(1)</em>, 1-18. doi: <a href="https://doi.org/10.18637/jss.v076.c01">10.18637/jss.v076.c01</a>
</p>
<p>Magis, D., and Raiche, G. (2012). Random Generation of Response Patterns under Computerized Adaptive Testing with the R Package <em>catR</em>. <em>Journal of Statistical Software</em>, <em>48 (8)</em>, 1-31. doi: <a href="https://doi.org/10.18637/jss.v048.i08">10.18637/jss.v048.i08</a>
</p>


<h3>See Also</h3>

<p><code>nextItem</code>, <code>randomCAT</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 # Item bank generation with 500 items
 genDichoMatrix(items = 500)

 # Item bank generation with 100 items, 2PL model and log-normal distribution with 
 # parameters (0, 0.1225) for discriminations
 genDichoMatrix(items = 100, model = "2PL", aPrior = c("lnorm", 0, 0.1225))

 # A completely identical method as for previous example
 genDichoMatrix(items = 100, aPrior = c("lnorm", 0, 0.1225), 
  cPrior = c("unif", 0, 0), dPrior = c("unif", 1, 1))

 # Item bank generation with prespecified content balancing control options 
 cbList &lt;- list(names = c("Group1", "Group2", "Group3", "Group4"), 
        props = c(0.2,0.4,0.3,0.1))
 genDichoMatrix(items = 100, cbControl = cbList)

 # With proportions that do not sum to one
 cbList &lt;- list(names = c("Group1", "Group2", "Group3", "Group4"), props=c(2, 4, 3, 1))
 genDichoMatrix(items = 100, cbControl = cbList)

 </code></pre>


</div>