<div class="container">

<table style="width: 100%;"><tr>
<td>valid_cfuser</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Validation Functions For The <code>cfUser</code> Class</h2>

<h3>Description</h3>

<p>These internal functions are used by the <code>cf_user</code> constructor
function to ensure the user has a valid subscription to CliFlo.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cf_login(object, ...)

cf_logout(object, msg = TRUE, ...)

valid_cfuser(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>S4 object which inherits the <code>cfUser</code> class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other options passed to the <code>GET</code> or <code>POST</code> functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msg</code></td>
<td>
<p>Display a 'successful logout' message, defaults to
<code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>cf_login</code> initiates a curl handle storing the cookies in the current
<span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> session's temporary directory. It then POSTs the user credentials to the
CliFlo login page and stores the resultant <code>h1</code> heading to check for the
string 'Info'. The cookies are kept for future (immediate) use.
</p>
<p><code>cf_logout</code> points the curl handle to the existing cookie session
initiated with <code>cf_login</code>. It reads the header information from the
cliflo logout page to ensure no HTTP error and logs the user out on
cliflo and deletes the cookies. This should be (is) called immediately after
<code>cf_login</code> in any function requiring a login, using
<code>on.exit</code> to ensure the user isn't still logged in on the server,
after the function call, for any reason.
</p>
<p><code>valid_cfuser</code> is the validation function for the <code>cfUser</code> class
and uses  <code>cf_login</code> to ensure the credentials are authenticated on the
CliFlo server and then (<code>cf_</code>)logs out immediately afterwards. It also
ensures the user provides exactly one username and password - except for
'public' users.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
cf_user("public")                    # Returns a valid object
cf_user("bad_name", "bad_password")    # Bad Login

## End(Not run)
</code></pre>


</div>