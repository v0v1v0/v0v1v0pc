<div class="container">

<table style="width: 100%;"><tr>
<td>generateCohortSet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a cohort set on a cdm object</h2>

<h3>Description</h3>

<p>A "chort_table" object consists of four components
</p>

<ul>
<li>
<p>A remote table reference to an OHDSI cohort table with at least
the columns: cohort_definition_id, subject_id, cohort_start_date,
cohort_end_date. Additional columns are optional and some analytic
packages define additional columns specific to certain analytic
cohorts.
</p>
</li>
<li>
<p>A <strong>settings attribute</strong> which points to a remote table containing
cohort settings including the names of the cohorts.
</p>
</li>
<li>
<p>An <strong>attrition attribute</strong> which points to a remote table with
attrition information recorded during generation. This attribute is
optional. Since calculating attrition takes additional compute it
can be skipped resulting in a NULL attrition attribute.
</p>
</li>
<li>
<p>A <strong>cohortCounts attribute</strong> which points to a remote table
containing cohort counts
</p>
</li>
</ul>
<p>Each of the three attributes are tidy tables. The implementation of this
object is experimental and user feedback is welcome.
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>One key design principle is that cohort_table objects are created once
and can persist across analysis execution but should not be modified after
creation. While it is possible to modify a cohort_table object doing
so will invalidate it and it's attributes may no longer be accurate.
</p>


<h3>Usage</h3>

<pre><code class="language-R">generateCohortSet(
  cdm,
  cohortSet,
  name,
  computeAttrition = TRUE,
  overwrite = TRUE
)

generate_cohort_set(
  cdm,
  cohort_set,
  name = "cohort",
  compute_attrition = TRUE,
  overwrite = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cdm</code></td>
<td>
<p>A cdm reference created by CDMConnector. write_schema must be
specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>Name of the cohort table to be created. This will also be used
as a prefix for the cohort attribute tables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>Should the cohort table be overwritten if it already
exists? TRUE (default) or FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohort_set, cohortSet</code></td>
<td>
<p>Can be a cohortSet object created with <code>readCohortSet()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compute_attrition, computeAttrition</code></td>
<td>
<p>Should attrition be computed? TRUE (default) or FALSE</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(CDMConnector)
con &lt;- DBI::dbConnect(duckdb::duckdb(), eunomia_dir())
cdm &lt;- cdm_from_con(con,
                    cdm_schema = "main",
                    write_schema = "main")

cohortSet &lt;- readCohortSet(system.file("cohorts2", package = "CDMConnector"))
cdm &lt;- generateCohortSet(cdm, cohortSet, name = "cohort")

print(cdm$cohort)

attrition(cdm$cohort)
settings(cdm$cohort)
cohortCount(cdm$cohort)

## End(Not run)
</code></pre>


</div>