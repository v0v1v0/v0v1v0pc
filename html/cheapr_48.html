<div class="container">

<table style="width: 100%;"><tr>
<td>val_count</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Efficient functions for counting, finding, replacing and removing scalars</h2>

<h3>Description</h3>

<p>These are primarily intended as very fast scalar-based functions
for developers.
They are particularly useful for working with <code>NA</code> values in a fast
and efficient manner.
</p>


<h3>Usage</h3>

<pre><code class="language-R">val_count(x, value, recursive = TRUE)

count_val(x, value, recursive = TRUE)

val_find(x, value, invert = FALSE)

which_val(x, value, invert = FALSE)

val_replace(x, value, replace, recursive = TRUE)

na_replace(x, replace, recursive = TRUE)

val_rm(x, value)

na_count(x, recursive = TRUE)

na_find(x, invert = FALSE)

na_rm(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A vector, list, data frame or matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>A scalar value to count, find, replace or remove.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recursive</code></td>
<td>
<p>Should values in a list be counted or replaced recursively?
Default is <code>TRUE</code> and very useful for data frames.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>invert</code></td>
<td>
<p>Should <code>which_val</code> find locations of
everything except specified value? Default is <code>FALSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replace</code></td>
<td>
<p>Replacement scalar value.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>val_</code> functions allow you to very efficiently work with
scalars, i.e length 1 vectors. Many common common operations like
counting the occurrence of <code>NA</code> or zeros, e.g. <code>sum(x == 0)</code> or
<code>sum(is.na(x))</code> can be replaced more efficiently with
<code>val_count(x, 0)</code> and <code>na_count(x)</code> respectively.
</p>
<p>At the moment these functions only work for
integer, double and character vectors with the exception of the <code>NA</code>
functions.
They are intended mainly for developers who wish to write cheaper code
and reduce expensive vector operations.
</p>

<ul>
<li> <p><code>val_count()</code> - Counts occurrences of a value
</p>
</li>
<li> <p><code>val_find()</code> Finds locations (indices) of a value
</p>
</li>
<li> <p><code>val_replace()</code> - Replaces value with another value
</p>
</li>
<li> <p><code>val_rm()</code> - Removes occurrences of value from an object
</p>
</li>
</ul>
<p>There are <code>NA</code> equivalent convenience functions.
</p>

<ul>
<li> <p><code>na_count()</code> == <code>val_count(x, NA)</code>
</p>
</li>
<li> <p><code>na_find()</code> == <code>val_find(x, NA)</code>
</p>
</li>
<li> <p><code>na_replace()</code> == <code>val_replace(x, NA)</code>
</p>
</li>
<li> <p><code>na_rm()</code> == <code>val_rm(x, NA)</code>
</p>
</li>
</ul>
<p><code>val_count()</code> and <code>val_replace()</code> can work recursively. For example,
when applied to a data frame, <code>na_replace</code> will replace <code>NA</code> values across
the entire data frame with the specified replacement value.
</p>
<p>In 'cheapr' function-naming conventions have not been consistent but
going forward
all scalar functions (including the <code>NA</code> convenience functions) will be
prefixed with 'val_' and 'na_' respectively.
Functions named with the older naming scheme like <code>which_na</code> may be
removed at some point in the future.
</p>


<h3>Value</h3>

<p><code>val_count()</code> returns the number of times a scalar value appears in a vector
or list. <br><code>val_find()</code> returns the index locations of that scalar value. <br><code>val_replace()</code> replaces a specified scalar value with a replacement scalar
value. If no instances of said value are found then the input x is returned
as is. <br><code>na_replace()</code> is a convenience function
equivalent to <code>val_replace(x, NA, ...)</code>. <br><code>val_rm()</code> removes all instances of a specified scalar value.
If no instances are found, the original input x is returned as is.
</p>


</div>