<div class="container">

<table style="width: 100%;"><tr>
<td>distance.split</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>distance.split</h2>

<h3>Description</h3>

<p>Split interaction data into subsets that are large enough for the chicane model to be fit (see Details), 
based on distance. This step allows the distance term in the model to be fit in a piecewise linear fashion.
</p>


<h3>Usage</h3>

<pre><code class="language-R">distance.split(
  interaction.data,
  distance.bins = NULL,
  min.rows.bin = 50,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>interaction.data</code></td>
<td>
<p>Data table of interaction data, typically from <code>prepare.data</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distance.bins</code></td>
<td>
<p>Number of distance bins desired. If NULL, a number is chosen to ensure that the negative binomial can be fit in all bins.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.rows.bin</code></td>
<td>
<p>The minimum number of expected rows in a distance bin. Ignored if distance.bins is set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical indicating whether to print progress reports</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Fitting <code>glm.nb</code> fails when there is a lack of overdispersion in the data. The chicane method
contains logic to catch these errors and instead fit a Poisson model. However, to avoid this happening
more than necessary, an attempt is made to avoid distance splits that will clearly result in numerical errors.
This includes bins of data where the count is the same for all rows, 
or a covariate is a perfect predictor of count.
</p>


<h3>Value</h3>

<p>List where each element corresponds to a specified distance bin, and the final one corresponding to trans-interactions (if present)
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(bre80);
distance.split(bre80);

</code></pre>


</div>