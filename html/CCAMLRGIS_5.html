<div class="container">

<table style="width: 100%;"><tr>
<td>add_Legend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Legend</h2>

<h3>Description</h3>

<p>Add a legend to you map. Give the bounding box of your plot and lists of parameters as inputs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_Legend(bb, LegOpt, Items)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bb</code></td>
<td>
<p>bounding box of your plot area. for example, 
<code>bb=st_bbox(SmallBathy())</code> or <code>bb=st_bbox(MyPolys)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LegOpt</code></td>
<td>
<p>list of general legend options. for example:
</p>
<p><code>LegOpt=list(Title="Speed",Subtitle="(km/h)")</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Items</code></td>
<td>
<p>list, or list of lists containing options for each item to be displayed in the legend. for example:
</p>
<p><code>item1=list(Text="one",Shape="rectangle")</code>
</p>
<p><code>item2=list(Text="two",Shape="circle")</code>
</p>
<p><code>Items=list(item1,item2)</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Legend added to current plot.
</p>


<h3>LegOpt options</h3>


<ul>
<li>
<p> Title: character, title of the legend, set to NULL for no title.
</p>
</li>
<li>
<p> Subtitle: character, subtitle of the legend, set to NULL for no subtitle.
</p>
</li>
<li>
<p> Pos: character, general position of the legend. One of "bottomright" (default),
"bottom", "bottomleft", "left", "topleft", "top", "topright", "right" or "center".
</p>
</li>
<li>
<p> BoxW: numeric, legend box width (see figure below).
</p>
</li>
<li>
<p> BoxH: numeric, legend box height (see figure below).
</p>
</li>
<li>
<p> PosX: numeric, horizontal adjustment of legend (see figure below).
</p>
</li>
<li>
<p> PosY: numeric, vertical adjustment of legend (see figure below). 
</p>
</li>
<li>
<p> Boxexp: numeric, vector of length 4 controlling the expansion of the legend box, 
given as c(xmin,xmax,ymin,ymax), see figure below.
</p>
</li>
<li>
<p> Boxbd: character, color of the background of the legend box. set to NA for no background.
</p>
</li>
<li>
<p> Boxcol: character, color of the border of the legend box. Set to NA for no box.
</p>
</li>
<li>
<p> Boxlwd: numeric, line thickness of the legend box. Set Boxcol to NA for no box.
</p>
</li>
<li>
<p> Titlefontsize: numeric, size of the legend title.
</p>
</li>
<li>
<p> Subtitlefontsize: numeric, size of the legend subtitle.
</p>
</li>
<li>
<p> TitleAdj: numeric vector of length 2, as c(x,y) to adjust title location (see figure below).
</p>
</li>
<li>
<p> SubtitleAdj: numeric vector of length 2, as c(x,y) to adjust subtitle location.
</p>
</li>
</ul>
<h3>Items options that are common to all items</h3>


<ul>
<li>
<p> Text: character, text of the item.
</p>
</li>
<li>
<p> Shape: character, shape description, one of "rectangle", "circle", "ellipse", "line", 
"arrow" or "none". Using "none" will leave a blank space that can be filled by a user-defined shape.
</p>
</li>
<li>
<p> ShpFill: character, fill color of shape, set to NA for no fill.
</p>
</li>
<li>
<p> ShpBord: character, border color of shape, set to NA for no border.
</p>
</li>
<li>
<p> ShpHash: logical (TRUE/FALSE) to add hashed lines to the shape (see create_Hashes).
</p>
</li>
<li>
<p> Shplwd: numeric, line thickness of the shape's border, set ShpBord to NA for no border.
</p>
</li>
<li>
<p> fontsize: numeric, size of the text.
</p>
</li>
<li>
<p> STSpace: numeric, space between the Shape and its Text (see figure below).
</p>
</li>
<li>
<p> ShiftX: numeric, shift Shape and Text left or right (see figure below).
</p>
</li>
<li>
<p> ShiftY: numeric, shift Shape and Text up or down (see figure below).
</p>
</li>
<li>
<p> Hashcol: character, color of hashes (if ShpHash is TRUE), see create_Hashes for details.
</p>
</li>
<li>
<p> Hashangle: numeric, angle of hashes (if ShpHash is TRUE), see create_Hashes for details.
</p>
</li>
<li>
<p> Hashspacing: numeric, spacing between hashes (if ShpHash is TRUE), see create_Hashes for details.
</p>
</li>
<li>
<p> Hashwidth: numeric, width of hashes (if ShpHash is TRUE), see see create_Hashes for details.
</p>
</li>
</ul>
<h3>Items options that are specific to the item's Shape</h3>


<ul>
<li>
<p> RectW: numeric, width of rectangle shape.
</p>
</li>
<li>
<p> RectH: numeric, height of rectangle shape.
</p>
</li>
<li>
<p> CircD: numeric, diameter of circle shape.
</p>
</li>
<li>
<p> EllW: numeric, width of ellipse shape.
</p>
</li>
<li>
<p> EllH: numeric, height of ellipse shape.
</p>
</li>
<li>
<p> EllA: numeric, angle of ellipse shape.
</p>
</li>
<li>
<p> LineTyp: numeric, type of line shape (0=blank, 1=solid, 2=dashed, 3=dotted, 4=dotdash, 5=longdash, 6=twodash).
</p>
</li>
<li>
<p> LineL: numeric, length of the line shape.
</p>
</li>
<li>
<p> ArrL: numeric, length of the arrow shape.
</p>
</li>
<li>
<p> ArrPwidth: numeric, width of arrow's path. see create_Arrow for details.
</p>
</li>
<li>
<p> ArrHlength: numeric, length of arrow's head. see create_Arrow for details.
</p>
</li>
<li>
<p> ArrHwidth: numeric, width of arrow's head. see create_Arrow for details.
</p>
</li>
<li>
<p> Arrdlength: numeric, length of dashes for dashed arrows. see create_Arrow for details.
</p>
</li>
<li>
<p> Arrtype: character, arrow type either "normal" or "dashed". see create_Arrow for details. 
</p>
</li>
<li>
<p> Arrcol: character, color of the arrow. see create_Arrow for details.
</p>
</li>
<li>
<p> Arrtrans: numeric, transparency of the arrow. see create_Arrow for details.
</p>
</li>
</ul>
<p>The figure below shows some of the options used to customize the legend box and its items. 
Blue arrows represent location options and black arrows represent sizing options:
</p>
<p><img src="../help/figures/Addlegenddetails.png" width="800" alt="Addlegenddetails.png"></p>


<h3>See Also</h3>

<p><code>create_Hashes</code>, <code>create_Arrow</code>, <code>create_Ellipse</code>,
<code>add_labels</code>, <code>add_Cscale</code>, <code>add_PieLegend</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# For more examples, see:
# https://github.com/ccamlr/CCAMLRGIS#53-adding-legends

# Set general options:

LegOpt=list( 
Title= "Title",
Subtitle="(Subtitle)",
Pos = "bottomright",
BoxW= 80,
BoxH= 170,
Boxexp = c(5,-2,-4,-4),
Titlefontsize = 2
)


#Create separate items, each with their own options:


Rectangle1=list(
  Text="Rectangle 1", 
  Shape="rectangle",
  ShpFill="cyan",
  ShpBord="blue",
  Shplwd=2,
  fontsize=1.2,
  STSpace=3,
  RectW=10,
  RectH=7
)

Rectangle2=list(
  Text="Rectangle 2", 
  Shape="rectangle",
  ShpFill="red",
  ShpBord="orange",
  ShpHash=TRUE,
  Shplwd=2,
  fontsize=1.2,
  STSpace=3,
  RectW=10,
  RectH=7,
  Hashcol="white",
  Hashangle=45,
  Hashspacing=1,
  Hashwidth=1
)

Circle1=list(
  Text="Circle 1", 
  Shape="circle",
  ShpFill="grey",
  ShpBord="yellow",
  Shplwd=2,
  fontsize=1.2,
  STSpace=3,
  CircD=10
)

Circle2=list(
  Text="Circle 2", 
  Shape="circle",
  ShpFill="white",
  ShpBord="red",
  ShpHash=TRUE,
  Shplwd=2,
  fontsize=1.2,
  STSpace=3,
  CircD=10,
  Hashcol="black",
  Hashangle=0,
  Hashspacing=2,
  Hashwidth=2
)

Ellipse1=list(
  Text="Ellipse 1", 
  Shape="ellipse",
  ShpFill="white",
  ShpBord="darkblue",
  Shplwd=2,
  fontsize=1.2,
  STSpace=3,
  EllW=10,
  EllH=6,
  EllA=35
)

Ellipse2=list(
  Text="Ellipse 2", 
  Shape="ellipse",
  ShpFill="red",
  ShpBord="green",
  ShpHash=TRUE,
  Shplwd=2,
  fontsize=1.2,
  STSpace=3,
  EllW=10,
  EllH=7,
  EllA=0,
  Hashcol="black",
  Hashangle=-45,
  Hashspacing=1.5,
  Hashwidth=1.5
)

Line1=list(
  Text="Line 1", 
  Shape="line",
  ShpFill="black",
  Shplwd=5,
  fontsize=1.2,
  STSpace=3,
  LineL=10
)

Line2=list(
  Text="Line 2", 
  Shape="line",
  Shplwd=5,
  ShpFill="green",
  Shplwd=5,
  fontsize=1.2,
  STSpace=3,
  LineTyp=6, 
  LineL=10
)

Arrow1=list(
  Text="Arrow 1", 
  Shape="arrow",
  ShpBord="green",
  Shplwd=1,
  ArrL=10,
  ArrPwidth=5,
  ArrHlength=15, 
  ArrHwidth=10, 
  Arrcol="orange",
  fontsize=1.2,
  STSpace=3
)

Arrow2=list(
  Text="Arrow 2", 
  Shape="arrow",
  ShpBord=NA,
  ArrL=10,
  ArrPwidth=5,
  ArrHlength=15, 
  ArrHwidth=10, 
  Arrdlength=0, 
  Arrtype="dashed",
  Arrcol=c("red","green","blue"),
  fontsize=1.2,
  STSpace=3
)

Arrow3=list(
  Text="Arrow 3", 
  Shape="arrow",
  ShpBord=NA,
  ArrL=10,
  ArrPwidth=5,
  ArrHlength=15, 
  ArrHwidth=10, 
  Arrdlength=5, 
  Arrtype="dashed",
  Arrcol="darkgreen",
  fontsize=1.2,
  STSpace=3
)

Arrow4=list(
  Text="Arrow 4", 
  Shape="arrow",
  ShpBord="black",
  Shplwd=0.1,
  ArrL=10,
  ArrPwidth=5,
  ArrHlength=15, 
  ArrHwidth=10, 
  Arrcol="pink",
  ShpHash=TRUE,
  Hashcol="blue",
  Hashangle=-45,
  Hashspacing=1,
  Hashwidth=1,
  fontsize=1.2,
  STSpace=3
)

None=list(
  Text="None", 
  Shape="none",
  fontsize=1.2,
  STSpace=3,
  ShiftX=10
)


#Combine all items into a single list:

Items=list(Rectangle1,Rectangle2,Circle1,Circle2,
Ellipse1,Ellipse2,Line1,Line2,Arrow1,Arrow2,Arrow3,Arrow4,None)

#manually build a bounding box (same as st_bbox(load_ASDs())):

bb=st_bbox(c(xmin=-3348556,xmax=4815055,ymax=4371127,ymin=-3329339),
           crs = st_crs(6932))
bx=st_as_sfc(bb) #Convert to polygon to plot it

#Plot and add legend

plot(bx,col="grey")
add_Legend(bb,LegOpt,Items)

</code></pre>


</div>