<div class="container">

<table style="width: 100%;"><tr>
<td>build_for_cran</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Build a Source Package for Submission to CRAN</h2>

<h3>Description</h3>

<p>This function builds a source package in preparation for submission to
<a href="https://cran.r-project.org/">The Comprehensive R Archive Network (CRAN)</a>.
and saved it in the root of a package.
In particular, Rust crates upon which the package depends are “vendored”
within the source package in the archive file <code>src/rust/vendor.tar.xz</code>, so
that lacking internet access will not give a check warning nor error on CRAN.
The package's <code>configure</code> script tests for the existence of this archive
file and, when present, runs Cargo (Rust's package manager) in compliance with the
<a href="https://cran.r-project.org/web/packages/policies.html">CRAN Repository Policies</a>
in that Cargo will only use two CPU cores and will clean-up cached values (i.e.,
remove detritus).
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_for_cran(...)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Options passed to <code>R CMD build</code>.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>Since depending crates are vendored, the authorship and copyright must be
declared in the <code>DESCRIPTION</code> file prior to building the source package
for CRAN. See the <code>authors</code> function for help in attribution.
</p>
<p>This function will rebuild <span class="pkg">roxygen2</span> documentation if the DESCRIPTION
file indicates that <span class="pkg">roxygen2</span> is used and the package is installed.
</p>
<p>This function does not test the package. The developer is strongly encouraged
to both inspect and test the package before submitting to CRAN.
</p>


<h3>Value</h3>

<p>The exit status codeR CMD build, invisibly.
</p>


</div>