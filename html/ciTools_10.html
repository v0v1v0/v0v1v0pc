<div class="container">

<table style="width: 100%;"><tr>
<td>add_pi.glmerMod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prediction Intervals for Generalized Linear Mixed Model Predictions</h2>

<h3>Description</h3>

<p>This function is one of the methods for <code>add_pi</code>, and is
called automatically when <code>add_pi</code> is used on a <code>fit</code> of
class <code>glmerMod</code>. This function is experimental.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'glmerMod'
add_pi(
  df,
  fit,
  alpha = 0.05,
  names = NULL,
  yhatName = "pred",
  type = "boot",
  includeRanef = TRUE,
  nSims = 10000,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class <code>glmerMod</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A real number between 0 and 1. Controls the confidence
level of the interval estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p><code>NULL</code> or character vector of length two. If
<code>NULL</code>, prediction bounds automatically will be named by
<code>add_pi</code>, otherwise, the lower prediction bound will be
named <code>names[1]</code> and the upper prediction bound will be
named <code>names[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p><code>NULL</code> or a string. The name of the
predictions vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string. Must be <code>"boot"</code>, If <code>type =
"boot"</code>, then <code>add_ci</code> calls <code>lme4::bootMer</code> to
calculate the confidence intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeRanef</code></td>
<td>
<p>A logical. Default is <code>TRUE</code>. Set whether
the predictions and intervals should be made conditional on the
random effects. If <code>FALSE</code>, random effects will not be
included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSims</code></td>
<td>
<p>A positive integer.  Controls the number of bootstrap
replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Prediction intervals are approximate and determined by simulation
through the <code>simulate</code> function distributed with <code>lme4</code>.
</p>
<p>If <code>IncludeRanef</code> is False, random slopes and intercepts are set to 0. Unlike in
'lmer' fits, settings random effects to 0 does not mean they are marginalized out. Consider
generalized estimating equations if this is desired.
</p>


<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values, upper and lower
prediction bounds attached.
</p>


<h3>See Also</h3>

<p><code>add_ci.glmerMod</code> for confidence intervals
of <code>glmerMod</code> objects, <code>add_probs.glmerMod</code> for
conditional probabilities of <code>glmerMod</code> objects, and
<code>add_quantile.glmerMod</code> for response quantiles of
<code>glmerMod</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 300
x &lt;- runif(n)
f &lt;- factor(sample(1:5, size = n, replace = TRUE))
y &lt;- rpois(n, lambda = exp(1 - 0.05 * x * as.numeric(f) + 2 * as.numeric(f)))
df &lt;- data.frame(x = x, f = f, y = y)
fit &lt;- lme4::glmer(y ~ (1+x|f), data=df, family = "poisson")

add_pi(df, fit, names = c("LPB", "UPB"), nSims = 500)

</code></pre>


</div>