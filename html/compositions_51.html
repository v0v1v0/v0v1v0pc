<div class="container">

<table style="width: 100%;"><tr>
<td>aplus</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Amounts analysed in log-scale</h2>

<h3>Description</h3>

<p>A class to analyse positive amounts in a logistic framework.
</p>


<h3>Usage</h3>

<pre><code class="language-R">  aplus(X,parts=1:NCOL(oneOrDataset(X)),total=NA,warn.na=FALSE,
          detectionlimit=NULL,BDL=NULL,MAR=NULL,MNAR=NULL,SZ=NULL)
          </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>vector or dataset of positive numbers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parts</code></td>
<td>
<p>vector containing the indices  xor names of the columns to be used</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total</code></td>
<td>
<p>a numeric vectors giving the total amounts of each
dataset. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>warn.na</code></td>
<td>
<p>should the user be warned in case of NA,NaN or 0
coding different types of missing values?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>detectionlimit</code></td>
<td>
<p>a number, vector or matrix of positive
numbers giving the detection limit of all values, all columns or
each value, respectively</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BDL</code></td>
<td>
<p>the code for 'Below Detection Limit' in X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SZ</code></td>
<td>
<p>the code for 'Structural Zero' in X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MAR</code></td>
<td>
<p>the code for 'Missing At Random' in X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MNAR</code></td>
<td>
<p>the code for 'Missing Not At Random' in X</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Many multivariate datasets essentially describe amounts of D different
parts in a whole. When the whole is large in relation to the
considered parts, such that they do not exclude each other, or when
the total amount of each componenten is indeed determined by the
phenomenon under investigation and not by sampling artifacts (such as dilution
or sample preparation), then the parts can be treated as amounts rather
than as a composition (cf. <code>acomp</code>, <code>rcomp</code>).
<br>
Like compositions, amounts have some important properties. Amounts are
always positive. An amount of exactly zero essentially means that we have a
substance of another quality. Different amounts - spanning different
orders of magnitude  -  are often given in
different units (ppm, ppb, g/l, vol.%, mass %, molar
fraction). Often, these amounts are also taken as indicators of
other non-measured components (e.g. K as indicator for potassium feldspar),
which might be proportional to the measured amount. 
However, in contrast to compositions, amounts
themselves do matter. Amounts are typically heavily
skewed and in many practical cases a log-transform makes their
distribution roughly symmetric, even normal.
<br>
In full analogy to Aitchison's compositions, vector
space operations are introduced for amounts: the perturbation
<code>perturbe.aplus</code> as a vector space addition (corresponding
to change of units), the power transformation
<code>power.aplus</code> as scalar multiplication describing the law
of mass action, and a distance <code>dist</code> which is
independent of the chosen units. The induced vector space is mapped
isometrically to a classical <code class="reqn">R^D</code> by a simple log-transformation called
<code>ilt</code>, resembling classical log transform approaches.  
<br>
The general approach in analysing aplus objects is thus to perform
classical multivariate analysis on ilt-transformed coordinates (i.e., logs)
and to backtransform or display the results in such a way that they
can be interpreted in terms of the original amounts.   
<br>
The class aplus is complemented by the <code>rplus</code>, allowing to
analyse amounts directly as real numbers, and by the classes
<code>acomp</code> and <code>rcomp</code> to analyse the same data
as compositions disregarding the total amounts, focusing on relative
weights only.
<br>
The classes rcomp, acomp, aplus, and rplus are designed as similar as
possible in order to allow direct comparison between results achieved  
by the different approaches. Especially the acomp simplex transforms
<code>clr</code>, <code>alr</code>, <code>ilr</code> are mirrored
in the aplus class by the single bijective isometric transform <code>ilt</code>
</p>


<h3>Value</h3>

<p>a vector of class <code>"aplus"</code> representing a vector of amounts
or a matrix of class <code>"aplus"</code> representing
multiple vectors of amounts, each vector in one row.  
</p>


<h3>Missing Policy</h3>

<p>The policy of treatment of zeroes, missing values and values 
below detecion limit is explained in depth in compositions.missing. 
</p>


<h3>Author(s)</h3>

<p>Raimon Tolosana-Delgado, K.Gerald v.d. Boogaart <a href="http://www.stat.boogaart.de">http://www.stat.boogaart.de</a></p>


<h3>References</h3>

<p>van den Boogaart, K.G. and R. Tolosana-Delgado (2008) "compositions": a unified 
R package to analyze Compositional Data, <em>Computers &amp;
Geosciences</em>, 34 (4), pages 320-338, doi: <a href="https://doi.org/10.1016/j.cageo.2006.11.017">10.1016/j.cageo.2006.11.017</a>.
</p>


<h3>See Also</h3>

<p><code>ilt</code>,<code>acomp</code>, <code>rplus</code>,
<code>princomp.aplus</code>, 
<code>plot.aplus</code>, <code>boxplot.aplus</code>,
<code>barplot.aplus</code>, <code>mean.aplus</code>,
<code>var.aplus</code>, <code>variation.aplus</code>,
<code>cov.aplus</code>, <code>msd</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(SimulatedAmounts)
plot(aplus(sa.lognormals))
</code></pre>


</div>