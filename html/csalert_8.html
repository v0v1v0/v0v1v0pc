<div class="container">

<table style="width: 100%;"><tr>
<td>signal_detection_hlm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine the short term trend of a timeseries</h2>

<h3>Description</h3>

<p>The method is based upon a published analytics strategy by Benedetti (2019) &lt;doi:10.5588/pha.19.0002&gt;.
</p>


<h3>Usage</h3>

<pre><code class="language-R">signal_detection_hlm(x, ...)

## S3 method for class 'csfmt_rts_data_v1'
signal_detection_hlm(
  x,
  value,
  baseline_isoyears = 5,
  remove_last_isoyearweeks = 0,
  forecast_isoyearweeks = 2,
  value_naming_prefix = "from_numerator",
  remove_training_data = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Data object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not in use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>Character of name of value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>baseline_isoyears</code></td>
<td>
<p>Number of years in the past you want to include as baseline</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_last_isoyearweeks</code></td>
<td>
<p>Number of isoyearweeks you want to remove at the end (due to unreliable data)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forecast_isoyearweeks</code></td>
<td>
<p>Number of isoyearweeks you want to forecast into the future</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value_naming_prefix</code></td>
<td>
<p>"from_numerator", "generic", or a custom prefix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_training_data</code></td>
<td>
<p>Boolean. If TRUE, removes the training data (i.e. 1:(trend_isoyearweeks-1)) from the returned dataset.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The original csfmt_rts_data_v1 dataset with extra columns. *_trend*_status contains a factor with levels c("training", "forecast", "decreasing", "null", "increasing"), while *_doublingdays* contains the expected number of days before the numerator doubles.
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- cstidy::nor_covid19_icu_and_hospitalization_csfmt_rts_v1
d &lt;- d[granularity_time=="isoyearweek"]
res &lt;- csalert::signal_detection_hlm(
  d,
  value = "hospitalization_with_covid19_as_primary_cause_n",
  baseline_isoyears = 1
)
print(res[, .(
  isoyearweek,
  hospitalization_with_covid19_as_primary_cause_n,
  hospitalization_with_covid19_as_primary_cause_forecasted_n,
  hospitalization_with_covid19_as_primary_cause_forecasted_n_forecast,
  hospitalization_with_covid19_as_primary_cause_baseline_predinterval_q50x0_n,
  hospitalization_with_covid19_as_primary_cause_baseline_predinterval_q99x5_n,
  hospitalization_with_covid19_as_primary_cause_n_status
)])
</code></pre>


</div>