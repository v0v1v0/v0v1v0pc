<div class="container">

<table style="width: 100%;"><tr>
<td>comm.sampling</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Converting simulation results into site-by-species matrix</h2>

<h3>Description</h3>

<p>Converts simulation result into site-by-species matrix of abundances,
and optionally in the same step simulates random sampling with fixed number of individuals.
</p>


<h3>Usage</h3>

<pre><code class="language-R">comm.sampling(x, type = c("full", "random"), size)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>community and trait data matrix produced by <code>comm.simul</code>
function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>Type of sampling. If <code>type=="full"</code> sample size equals to community size.
It simply converts <code>x</code> into a site-by-species matrix
If <code>type=="random"</code>, it applies random sampling by calling (<code>rrarefy</code>) function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>Number of individuals in the random samples. It should be smaller
than number of individuals in simulated (sub)communities. Otherwise,
<code>x</code> is converted into a site-by-species matrix without (re)sampling</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>type=="full"</code> it simply converts simulation results from long to wide format.
If <code>type=="random"</code> it randomly selects <code>size</code> individuals in each (sub)community
and abundances in these samples are converted into site-by-species matrix format.
</p>


<h3>Value</h3>

<p>A site-by-species matrix containing abundances.
</p>


<h3>Examples</h3>

<pre><code class="language-R">x&lt;-comm.simul(S=20, J=30)
str(x$final.community)

w&lt;-comm.sampling(x$final.community,type="full")
str(w)

w.rarefied&lt;-comm.sampling(x$final.community,type="random",size=10)
rowSums(w)
rowSums(w.rarefied)

</code></pre>


</div>