<div class="container">

<table style="width: 100%;"><tr>
<td>conf.design</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Construct symmetric confounded factorial designs.
</h2>

<h3>Description</h3>

<p>Construct designs with specified treatment contrasts confounded with
blocks.  All treatment factors must have the sampe (prime) number of
levels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">conf.design(G, p, block.name = "Blocks",  treatment.names = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>G</code></td>
<td>

<p>Matrix whose rows define the contrasts to be confounded.
</p>
<p>The number of columns of <code>G</code> defines the number of
factors.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>

<p>The common number of levels for each factor.  Must be a prime number.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>block.name</code></td>
<td>

<p>Name to be given to the factor defining the blocks of the design.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treatment.names</code></td>
<td>

<p>Name to be given to the treatment factors of the design.  If
<code>NULL</code> and if <code>G</code> has a <code>dimnames</code> attribute, then
<code>dimnames[[2]]</code> is the default, otherwise T1, T2, ...
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For example in a <code>3^4</code> experiment with <code>AB^2C</code> and
<code>BCD</code> confounded with blocks (together with their generalized
interactions), the matrix <code>G</code> could be given by
</p>
<p><code>rbind(c(A = 1, B = 2, C = 1, D = 0), c(A = 0, B = 1, C = 1, D =
  1))</code>
</p>
<p>For this example, <code>p = 3</code>
</p>
<p>Having column names for the <code>G</code> matrix implicitly supplies the
treatment factor names.
</p>
<p>For a single replicate of treatments, blocks are calculated using the
confounded contrasts in the standard textbook way.  The method is
related to that of Collings (1989).
</p>


<h3>Value</h3>

<p>A design with a <code>Blocks</code> factor defining the blocks and treatment
factors defining the way treatments are allocated to each plot.  (Not
in randomised order!)
</p>


<h3>Side Effects</h3>

<p>None.
</p>


<h3>References</h3>

<p>Collings, B. J. (1989) Quick confounding.  Technometrics, v31, pp107-110.
</p>


<h3>See Also</h3>

<p><code>conf.set</code>, <code>direct.sum</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">###
### Generate a 3^4 factorial with A B^2 C and B C D confounded with blocks.
###
d34 &lt;- conf.design(rbind(c(A = 1, B = 2, C = 1, D = 0),
                         c(A = 0, B = 1, C = 1, D = 1)), p = 3)
head(d34)
###   Blocks A B C D
### 1     00 0 0 0 0
### 2     00 1 2 1 0
### 3     00 2 1 2 0
### 4     00 2 2 0 1
### 5     00 0 1 1 1
### 6     00 1 0 2 1

as.matrix(replications(~ .^2, d34))
###           [,1]
###  Blocks      9
###  A          27
###  B          27
###  C          27
###  D          27
###  Blocks:A    3
###  Blocks:B    3
###  Blocks:C    3
###  Blocks:D    3
###  A:B         9
###  A:C         9
###  A:D         9
###  B:C         9
###  B:D         9
###  C:D         9
</code></pre>


</div>