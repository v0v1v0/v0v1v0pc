<div class="container">

<table style="width: 100%;"><tr>
<td>create_Stations</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Stations</h2>

<h3>Description</h3>

<p>Create random point locations inside a polygon and within bathymetry strata constraints.
A distance constraint between stations may also be used if desired.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_Stations(
  Poly,
  Bathy,
  Depths,
  N = NA,
  Nauto = NA,
  dist = NA,
  Buf = 1000,
  ShowProgress = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Poly</code></td>
<td>
<p>single polygon inside which stations will be generated. May be created using <code>create_Polys</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Bathy</code></td>
<td>
<p>bathymetry raster with the appropriate <code>projection</code>, such as <code>this one</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Depths</code></td>
<td>
<p>numeric, vector of depths. For example, if the depth strata required are 600 to 1000 and 1000 to 2000,
<code>Depths=c(-600,-1000,-2000)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>numeric, vector of number of stations required in each depth strata,
therefore <code>length(N)</code> must equal <code>length(Depths)-1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Nauto</code></td>
<td>
<p>numeric, instead of specifying <code>N</code>, a number of stations proportional to the areas of the depth strata
may be created. <code>Nauto</code> is the maximum number of stations required in any depth stratum.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dist</code></td>
<td>
<p>numeric, if desired, a distance constraint in nautical miles may be applied. For example, if <code>dist=2</code>,
stations will be at least 2 nautical miles apart.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Buf</code></td>
<td>
<p>numeric, distance in meters from isobaths. Useful to avoid stations falling on strata boundaries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ShowProgress</code></td>
<td>
<p>logical, if set to <code>TRUE</code>, a progress bar is shown (<code>create_Stations</code> may take a while).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Spatial object in your environment. Data within the resulting object contains the strata and stations
locations in both projected space ("x" and "y") and decimal degrees of Latitude/Longitude.
</p>
<p>To see the data contained in your spatial object, type: <code>View(MyStations)</code>.
</p>


<h3>See Also</h3>

<p><code>create_Polys</code>, <code>SmallBathy</code>, <code>add_Legend</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# For more examples, see:
# https://github.com/ccamlr/CCAMLRGIS#22-create-stations

#First, create a polygon within which stations will be created
MyPoly=create_Polys(
 data.frame(Name="mypol",
            Latitude=c(-75,-75,-70,-70),
            Longitude=c(-170,-180,-180,-170))
 ,Densify=TRUE)

par(mai=c(0,0,0,0))
plot(st_geometry(Coast[Coast$ID=='88.1',]),col='grey')
plot(st_geometry(MyPoly),col='green',add=TRUE)
text(MyPoly$Labx,MyPoly$Laby,MyPoly$ID)

#Create a set numbers of stations, without distance constraint:
library(terra)
#optional: crop your bathymetry raster to match the extent of your polygon
BathyCroped=crop(SmallBathy(),ext(MyPoly))

#Create stations
MyStations=create_Stations(MyPoly,BathyCroped,Depths=c(-2000,-1500,-1000,-550),N=c(20,15,10))

#add custom colors to the bathymetry to indicate the strata of interest
MyCols=add_col(var=c(-10000,10000),cuts=c(-2000,-1500,-1000,-550),cols=c('blue','cyan'))
plot(BathyCroped,breaks=MyCols$cuts,col=MyCols$cols,legend=FALSE,axes=FALSE)
add_Cscale(height=90,fontsize=0.75,width=16,lwd=0.5,
offset=-130,cuts=MyCols$cuts,cols=MyCols$cols)
plot(st_geometry(MyPoly),add=TRUE,border='red',lwd=2,xpd=TRUE)
plot(st_geometry(MyStations),add=TRUE,col='orange',cex=0.75,lwd=1.5,pch=3)




</code></pre>


</div>