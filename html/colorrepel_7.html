<div class="container">

<table style="width: 100%;"><tr>
<td>ggplotly_background</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prepare ggplot object to ggplotly-compatible layer and image layer</h2>

<h3>Description</h3>

<p>Prepare ggplot object to ggplotly-compatible layer and image layer
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggplotly_background(
  g,
  repel_color = TRUE,
  repel_label = TRUE,
  encircle = FALSE,
  width = 5,
  height = 5,
  filename = "temp.png",
  draw_box = NULL,
  background = NULL,
  background_alpha = 1,
  use_cairo = FALSE,
  label_lim = 0.05,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>g</code></td>
<td>
<p>ggplot plot object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repel_color</code></td>
<td>
<p>whether to rearrange colors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repel_label</code></td>
<td>
<p>whether to add centroid labels with ggrepel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encircle</code></td>
<td>
<p>whether to draw geom_encircle by cluster</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>plot width</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>plot height</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>temp file location for saving image</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>draw_box</code></td>
<td>
<p>if a colored background should be included</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background</code></td>
<td>
<p>if specified, use this ggplot object or file as background instead</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>background_alpha</code></td>
<td>
<p>alpha value of background image</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_cairo</code></td>
<td>
<p>whether to use cairo for saving plots, maybe needed for certain ggplot extensions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_lim</code></td>
<td>
<p>whether to limit labels to avoid edge fraction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to gg_color_repel</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>plotly object with background image of layers unsupported by plotly
</p>


<h3>Examples</h3>

<pre><code class="language-R">a &lt;- ggplot2::ggplot(ggplot2::mpg, ggplot2::aes(displ, hwy)) +
  ggplot2::geom_point(ggplot2::aes(color = as.factor(cyl)))
new_colors &lt;- color_repel(a)
b &lt;- ggplotly_background(a, filename = NULL)
</code></pre>


</div>