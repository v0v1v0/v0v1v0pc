<div class="container">

<table style="width: 100%;"><tr>
<td>comparisonsgraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create an graph of comparisons 
</h2>

<h3>Description</h3>

<p>Creates a graph to see comparisons based on group estimates and
variance-covariance matrix
</p>


<h3>Usage</h3>

<pre><code class="language-R">comparisonsgraph(compstable, difftype, analysisname = "",
                 endptname = "", alpha = 0.05, digits = NULL,
                 titlestamp = TRUE, explanation = TRUE,
                 wraplength = 20, cex.comps = 0.7,
                 ticklabels = NULL, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>compstable </code></td>
<td>

<p>A data frame object of form like that created by the <code>comparisons</code>
function. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>difftype </code></td>
<td>
<p>Must be specified as one of the following:
</p>

<dl>
<dt><code>"percent"</code></dt>
<dd>
<p>Presumes the estimated differences in
<code>compstable</code> are Percent, and thus will space the x-axis logarithmically;
</p>
</dd>
<dt><code>"amount"</code></dt>
<dd>
<p>Presumes the estimated differences in
<code>compstable</code> are Simple Amounts, and thus will space the
x-axis in untransformed scale;
</p>
</dd>
<dt><code>"simple"</code></dt>
<dd>
<p>Synonym for <code>amount</code>, presumes the estimated differences in
<code>compstable</code> are Simple Amounts, and thus will space the
x-axis in untransformed scale.
</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysisname </code></td>
<td>
<p><em>Optional</em>, a character text or
math-valid expression that will used in the graph title. The default
value is the empty <code>""</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endptname </code></td>
<td>
<p><em>Optional</em>, a character text or math-valid expression
that that will be used as the x-axis label of the graph.
The default
value is the empty <code>""</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha </code></td>
<td>
<p>Significance level, by default set to <code>0.05</code>. This
is only used for labelling purposes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits </code></td>
<td>
<p><em>Optional</em>, For output display purposes in the
graph,
values will be rounded to this numeric
value. Only the integers of 0, 1, 2, 3, and 4 are accepted. No
rounding is done during any calculations. The default value is
<code>NULL</code>, which will examine each individual data value and choose the
one that has the maximum number of digits after any trailing
zeroes are ignored. The max number of digits will be 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>explanation </code></td>
<td>
<p>If <code>TRUE</code>, which is the default,
add explanatory message to the graph rendering
about "Error bars that do not cross the zero line indicate statistically significant difference(s)" along with the confidence
level derived from <code>alpha</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titlestamp </code></td>
<td>
<p>Specify text to the graph in the top of graph area,
otherwise a default description of "Comparisons Graph" and
<code>analysisname</code> will be constructed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wraplength </code></td>
<td>
<p>On the left hand axis are each A vs. B comparison label
from the <code>compstable</code> data frame. An attempt at sensible formatting
when a newline is needed is made, but adjustment by this argument may
be needed. The default is <code>20</code> characters before wrapping to a newline.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.comps </code></td>
<td>
<p>Similar to <code>wraplength</code>,
adjustment of this argument parameter can
be made to fit the comparison labels on the left hand axis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticklabels </code></td>
<td>
<p><em>Optional</em>, 
before graphing the data, remove
any automatically generated tickmarks for the x-axis,
and use these tickmarks instead. A vector of tickmarks to be
placed on the x-axis. Any numeric representations will
be coerced to character.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>

<p>Additional arguments. None are currently used.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The minimum and maximum values across all the bar ends
are added inside the plot region in
blue, flush against the x-axis. In two panel cases, there is a
tendency to fall outside the panel area even though right justified is
used for the <code>adj</code> parameter of functions like <code>panel.text</code>.
</p>


<h3>Value</h3>

<p><code>comparisonsgraph</code> returns
an invisible <code>NULL</code>. The main purpose is the side
effect of graphing to the current device.
</p>


<h3>Warning</h3>

<p>This function was created for internal use in the <span class="pkg">cg</span> package as
its use can be seen in the <code>comparisonsGraph</code> methods
source code. Therefore any direct use of it needs to be done cautiously.
</p>


<h3>Note</h3>

<p>Contact <a href="mailto:cg@billpikounis.net">cg@billpikounis.net</a> for bug reports, questions,
concerns, and comments. 
</p>


<h3>Author(s)</h3>

<p>Bill Pikounis [aut, cre, cph], John Oleynick [aut], Eva Ye [ctb]
</p>


<h3>See Also</h3>

<p><code>comparisons</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(canine)
canine.data &lt;- prepareCGOneFactorData(canine, format="groupcolumns",
                                      analysisname="Canine",
                                      endptname="Prostate Volume",
                                      endptunits=expression(plain(cm)^3),
                                      digits=1, logscale=TRUE, refgrp="CC")
canine.fit &lt;- fit(canine.data)
canine.comps &lt;- comparisonsTable(canine.fit)

## Easier way: notice the camel-case of the comparisonsGraph call

comparisonsGraph(canine.comps, model="olsonly")

## Manual way
## Instead of comparisonsGraph(canine.comps, model="olsonly")

canine.compstable &lt;- comparisons(estimates=canine.fit@olsfit$coef,
                                 varcovmatrix=vcov(canine.fit@olsfit),
                                 errordf=canine.fit@olsfit$df.residual,
                                 endptscale="log",
                                 analysisname="Canine",
                                 digits=1,
                                 endptname="Prostate Volume")

comparisonsgraph(canine.compstable,
                 difftype="percent",
                 analysisname="Canine",
                 digits=1,
                 endptname=expression(paste( plain('Prostate Volume'),
                                      ' (', plain(cm)^3  ,  ')' ))  
                ) 
</code></pre>


</div>