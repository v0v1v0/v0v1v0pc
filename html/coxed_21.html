<div class="container">

<table style="width: 100%;"><tr>
<td>survsim.plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot the simulated baseline functions and histograms of simulated data</h2>

<h3>Description</h3>

<p>This function takes the output of <code>sim.survdata</code> and plots the baseline
failure PDF, the baseline failure CDF, the baseline survivor function, and the baseline hazard
function that were generated and used to simulate the data.  The function also produces histograms
of the simulated durations, the linear predictor, and the exponentiated linear predictor.
</p>


<h3>Usage</h3>

<pre><code class="language-R">survsim.plot(survsim, type = "both", bins = 30, df = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>survsim</code></td>
<td>
<p>An object of class "<code>simSurvdata</code>" output by <code>sim.survdata</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>If <code>type="baseline"</code> the function plots the baseline functions.
If <code>type="hist"</code> the function plots the histograms. If <code>type="both"</code> the function
plots both the baseline functions and the histograms, aligned in a 2 x 1 array</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>The number of bins to draw in each histogram. Ignored if <code>type="baseline"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>If <code>survsim</code> is generated by a call to <code>sim.survdata</code> in which
<code>num.data.frames</code> is greater than 1, the output is a list of iterated simulation output. In this case,
<code>df</code> specifies the particular simulation iteration for which to produce visualizations</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>A challenge that can limit research to develop methods to analyze survival data is that a
pre-specified baseline hazard function must be used to generate simulated data, which contradicts the
Cox proportional hazards model's feature of circumventing the hazard to estimate coefficients.  The
flexible-hazard method developed by Harden and Kropko (2018) and implemented in <code>sim.survdata</code>
allows for the simulation of duration data without assuming a particular parametric form for hazard.
<code>survsim.plot</code> is useful for visualizing the baseline functions, including hazard, that result from
this algorithm for a particular draw of simulated duration data. The function uses <code>ggplot</code>
to create line plots for the baseline failure PDF, the baseline failure CDF, the baseline survivor function,
and the baseline hazard function over time.  The baseline functions and time are attributes of the
<code>sim.survdata</code> output.
</p>


<h3>Value</h3>

<p>A figure of class <code>"gg"</code> and <code>"ggplot"</code> if <code>type="baseline"</code> or <code>type="hist"</code>, and of
classes <code>"gtable"</code>, <code>"gTree"</code>, <code>"grob"</code>, and <code>"gDesc"</code> if <code>type="both"</code>.
</p>


<h3>Author(s)</h3>

<p>Jonathan Kropko &lt;jkropko@virginia.edu&gt; and Jeffrey J. Harden &lt;jharden2@nd.edu&gt;
</p>


<h3>References</h3>

<p>Harden, J. J. and Kropko, J. (2018). Simulating Duration Data for the Cox Model.
<em>Political Science Research and Methods</em> <a href="https://doi.org/10.1017/psrm.2018.19">https://doi.org/10.1017/psrm.2018.19</a>
</p>


<h3>See Also</h3>

<p><code>sim.survdata</code>, <code>ggplot</code>, <code>grid.arrange</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">simdata &lt;- sim.survdata(N=1000, T=100, num.data.frames=1)
survsim.plot(simdata)
</code></pre>


</div>