<div class="container">

<table style="width: 100%;"><tr>
<td>cystiRun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>'cystiRun' object</h2>

<h3>Description</h3>

<p>Functions to initiate, update and explore 'cystiRun' objects. A 'cystiRun' object corresponds to a single run of a <span class="pkg">cystiSim</span> model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">initiate(man, pig,
         ph2m, pl2m, m2p, e2p, age.coef = c(0, 0),
         slaughter = slaughter_nbinom,
         slaughter.args = list(min = 6, max = 36, size = 0.70, mu = 80))

## S3 method for class 'cystiRun'
update(object, n = 1200, verbose = TRUE, ...)

## S3 method for class 'cystiRun'
print(x, from = 200, to = NA, ...)

## S3 method for class 'cystiRun'
plot(x, y = NULL, show = c("PC", "PR", "HT", "EN"),
      start = 0, from = 1, to = NA, ...)
      
prevalence(z)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>man</code></td>
<td>
<p>Human population dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pig</code></td>
<td>
<p>Pig population dataframe.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ph2m</code></td>
<td>
<p>Pig (Heavy infection) to Man transmission probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pl2m</code></td>
<td>
<p>Pig (Light infection) to Man transmission probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m2p</code></td>
<td>
<p>Man to Pig transmission probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>e2p</code></td>
<td>
<p>Environment to Pig transmission probability.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age.coef</code></td>
<td>
<p>Optional intercept and slope for the association between age and taeniosis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slaughter</code></td>
<td>
<p>Function that defines the slaughter probability of pigs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slaughter.args</code></td>
<td>
<p>Arguments to be passed to the slaughter function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>Object of class 'cystiRun'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of iterations (months).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code>, a progress bar is shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of class 'cystiRun'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Currently ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Vector of infection indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>Origin of plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>First iteration to be used in output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>Last iteration to be used in output. The default value <code>NA</code> corresponds to the last available iteration.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show</code></td>
<td>
<p>Which output should be plotted?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Arguments to be passed on to generic function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>initiate</code> and <code>update</code> return an object of S3 class 'cystiRun'.
</p>


<h3>Note</h3>

<p>For more details and examples, please visit the <span class="pkg">cystiSim</span> Wiki pages on <a href="https://github.com/brechtdv/cystiSim/wiki">https://github.com/brechtdv/cystiSim/wiki</a>.
</p>


<h3>Author(s)</h3>

<p><a href="mailto:brechtdv@gmail.com">brechtdv@gmail.com</a></p>


<h3>See Also</h3>

<p>Intervention functions: <code>do_man_mda</code>, <code>do_pig_mda</code>, <code>do_pig_vac</code>, <code>do_pig_mda_vac</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## we will use the built-in Mbeya dataset
prevalence(pig_mbeya$cysti)
prevalence(man_mbeya$taenia)

## define transmission probabilities
ph2m &lt;- 0.000174918
pl2m &lt;- 0.000149501
m2p  &lt;- 6.85E-05
e2p  &lt;- 0.00022611

## first initiate the 'cystiRun' object
mod &lt;- initiate(man_mbeya, pig_mbeya, ph2m, pl2m, m2p, e2p)

## update the model 240 cycles (=20 years)
## this is a burn-in period, needed to obtain steady state
mod &lt;- update(mod, 240)

## apply human mass drug administration
mod &lt;- do_man_mda(mod, efficacy = 0.70, coverage = 0.80)

## apply pig mass drug administration
mod &lt;- do_pig_mda(mod, efficacy = 0.90, coverage = 0.90)

## update the model 120 more cycles (=10 years)
mod &lt;- update(mod, 120)

## plot the cycles
plot(mod, from = 200, start = 40)
</code></pre>


</div>