<div class="container">

<table style="width: 100%;"><tr>
<td>crunchyServer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A Shiny server with Crunch auth</h2>

<h3>Description</h3>

<p>To make sure that users who access your shiny.crunch.io app are allowed to
access it, use <code>crunchyServer()</code> instead of <code>shiny::shinyServer()</code>, and wrap
your UI content inside <code>crunchyBody()</code>. This will prevent anyone who is not
logged into Crunch in their browser from accessing your app.
</p>


<h3>Usage</h3>

<pre><code class="language-R">crunchyServer(func, authz = getOption("crunchy.authorization"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>
<p>A <code>function (input, output, session)</code>, as you'd normally give to
<code>shinyServer()</code>. If the user is not authenticated or authorized, this
function will not be evaluated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>authz</code></td>
<td>
<p>A <code>function (input, output, session)</code> to evaluate
to determine if the current user is authorized to enter the app.
Since it will be called repeatedly, it should be cheap to execute.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To restrict access further to only certain Crunch users, you can set an
authorization method, either by passing a server function to
the <code>authz</code> argument of this function, or by calling
<code>setCrunchyAuthorization()</code>.
</p>
<p>For a simple example app using <code>crunchyServer()</code>, copy
<code>system.file("example_apps/crunchy_server/app.R", package="crunchy")</code>,
supply your dataset id on line 14, and run it.
</p>


<h3>Value</h3>

<p>Invisibly, a Shiny server function with the auth logic wrapped around
<code>func</code>.
</p>


<h3>See Also</h3>

<p><code>crunchyBody()</code> for wrapping the UI contents, <code>crunchyPublicBody()</code>
for specifying an alternate UI for when the user is not authenticated,
<code>crunchyUnauthorizedBody()</code> for giving an alternate UI for users who are
authenticated with Crunch but not authorized to view this app, and
<code>setCrunchyAuthorization()</code> for governing who is authorized to view
your app.
</p>


</div>