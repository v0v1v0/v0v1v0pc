<div class="container">

<table style="width: 100%;"><tr>
<td>bin_edge_lengths</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Edge-lengths present in time-bins</h2>

<h3>Description</h3>

<p>Given a time-scaled tree and set of time bin boundaries will sum the edge-lengths present in each bin.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bin_edge_lengths(time_tree, time_bins, pruned_tree = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time_tree</code></td>
<td>
<p>A time-scaled tree in phylo format with a <code>$root.time</code> value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_bins</code></td>
<td>
<p>An object of class <code>timeBins</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pruned_tree</code></td>
<td>
<p>A time-scaled tree in phylo format with a <code>$root.time</code> value that is a subset of <code>time_tree</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Calculates the total edge duration of a time-scaled tree present in a series of time bins. This is intended as an internal function for rate calculations, but may be of use to someone.
</p>
<p>The option of using a <code>pruned_tree</code> allows the user to correctly classify internal and terminal branches in a subtree of the larger tree. So for example, if taxa A and B are sisters then after pruning B the subtree branch leading to A is composed of an internal and a terminal branch on the complete tree.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>binned_edge_lengths</code></td>
<td>
<p>A vector giving the summed values in millions of years for each time bin. Names indicate the maximum and minimum values for each time bin.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binned_terminal_edge_lengths</code></td>
<td>
<p>As above, but counting terminal edges only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>binned_internal_edge_lengths</code></td>
<td>
<p>As above, but counting internal edges only.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Graeme T. Lloyd <a href="mailto:graemetlloyd@gmail.com">graemetlloyd@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Create a random 10-taxon tree:
time_tree &lt;- ape::rtree(n = 10)

# Add root age:
time_tree$root.time &lt;- max(diag(ape::vcv(time_tree)))

# Create time bins:
time_bins &lt;- matrix(data = c(seq(from = time_tree$root.time, to = 0,
  length.out = 11)[1:10], seq(from = time_tree$root.time, to = 0,
  length.out = 11)[2:11]), ncol = 2, dimnames = list(LETTERS[1:10],
  c("fad", "lad")))

# Set class:
class(time_bins) &lt;- "timeBins"

# Get edge lengths for each bin:
bin_edge_lengths(time_tree = time_tree, time_bins = time_bins)
</code></pre>


</div>