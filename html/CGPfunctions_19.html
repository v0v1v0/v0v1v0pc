<div class="container">

<table style="width: 100%;"><tr>
<td>PlotXTabs2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Bivariate bar (column) charts with statistical tests</h2>

<h3>Description</h3>

<p>Bivariate bar charts for nominal and ordinal data with 
(optionally) statistical details included in the plot as a subtitle.
</p>


<h3>Usage</h3>

<pre><code class="language-R">PlotXTabs2(
  data,
  x,
  y,
  counts = NULL,
  results.subtitle = TRUE,
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  plottype = "percent",
  xlab = NULL,
  ylab = "Percent",
  legend.title = NULL,
  legend.position = "right",
  labels.legend = NULL,
  sample.size.label = TRUE,
  data.label = "percentage",
  label.text.size = 4,
  label.fill.color = "white",
  label.fill.alpha = 1,
  bar.outline.color = "black",
  x.axis.orientation = NULL,
  conf.level = 0.95,
  k = 2,
  perc.k = 0,
  mosaic.offset = 0.003,
  mosaic.alpha = 1,
  bf.details = FALSE,
  bf.display = "regular",
  sampling.plan = "jointMulti",
  fixed.margin = "rows",
  prior.concentration = 1,
  paired = FALSE,
  ggtheme = ggplot2::theme_bw(),
  package = "RColorBrewer",
  palette = "Dark2",
  direction = 1,
  ggplot.component = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe or tibble containing the 'x' and 'y' variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The variable to plot on the X axis of the chart.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>The variable to segment the **columns** and test for independence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>counts</code></td>
<td>
<p>If the dataframe is based upon counts rather than individual
rows for observations, 'counts' must contain the name of variable
that contains the counts.  See 'HairEyeColor' example.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results.subtitle</code></td>
<td>
<p>Decides whether the results of statistical tests 
are displayed as a subtitle (Default: TRUE). If set to FALSE, no subtitle.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The text for the plot title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>The text for the plot subtitle. **N.B** if statistical
results are requested through 'results.subtitle = TRUE' the results
will have precedence.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>caption</code></td>
<td>
<p>The text for the plot caption. Please note the interaction
with 'bf.details'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plottype</code></td>
<td>
<p>one of four options "side", "stack", "mosaic" or "percent"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>Custom text for the 'x' axis label (Default: 'NULL', which
will cause the 'x' axis label to be the 'x' variable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>Custom text for the 'y' axis label (Default: '"Percent"'). Set
to 'NULL' for no label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title</code></td>
<td>
<p>Title text for the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.position</code></td>
<td>
<p>The position of the legend
'"none"', '"left"', '"right"', '"bottom"', '"top"' (Default: '"right"').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels.legend</code></td>
<td>
<p>A character vector with custom labels for levels of
the 'y' variable displayed in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.size.label</code></td>
<td>
<p>Logical that decides whether sample size information
should be displayed for each level of the grouping variable 'y'
(Default: 'TRUE').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data.label</code></td>
<td>
<p>Character decides what information needs to be displayed
on the label in each bar segment. Possible options are '"percentage"'
(default), '"counts"', '"both"'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.text.size</code></td>
<td>
<p>Numeric that decides size for bar labels
(Default: '4').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.fill.color</code></td>
<td>
<p>Character that specifies fill color for bar labels
(Default: 'white').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.fill.alpha</code></td>
<td>
<p>Numeric that specifies fill color transparency or
'"alpha"' for bar labels (Default: '1' range '0' to '1').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bar.outline.color</code></td>
<td>
<p>Character specifying color for bars (default: '"black"').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.axis.orientation</code></td>
<td>
<p>The orientation of the 'x' axis labels one of
"slant" or "vertical" to change from the default horizontal
orientation (Default: 'NULL' which is horizontal).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>Scalar between 0 and 1. If unspecified, the defaults return
lower and upper confidence intervals (0.95).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Number of digits after decimal point (should be an integer)
(Default: k = 2) for statistical results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perc.k</code></td>
<td>
<p>Numeric that decides number of decimal places for percentage
labels (Default: '0').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mosaic.offset</code></td>
<td>
<p>Numeric that decides size of spacing between mosaic 
blocks (Default: '.003' which is very narrow).  "reasonable" values
probably lie between .05 and .001</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mosaic.alpha</code></td>
<td>
<p>Numeric that controls the "alpha" level of the mosaic 
plot blocks (Default: '1' which is essentially no "fading"). Values must
be in the range 0 to 1 see: 'ggplot2::aes_colour_fill_alpha'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bf.details</code></td>
<td>
<p>Logical that decides whether to display additional 
information from the Bayes Factor test in the caption (default:'FALSE'). 
This will take precedence over any text you enter as a 'caption'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bf.display</code></td>
<td>
<p>Character that determines how the Bayes factor value is
is displayed.  The default is simply the number rounded to 'k'. Other 
options include "sensible", "log" and "support".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sampling.plan</code></td>
<td>
<p>the sampling plan (see details in ?contingencyTableBF).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixed.margin</code></td>
<td>
<p>(see details in ?contingencyTableBF).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior.concentration</code></td>
<td>
<p>(see details in ?contingencyTableBF).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>Not used yet.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggtheme</code></td>
<td>
<p>A function, ggplot2 theme name. Default value is ggplot2::theme_bw().
Any of the ggplot2 themes, or themes from extension packages are allowed (e.g.,
hrbrthemes::theme_ipsum(), etc.).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>Name of package from which the palette is desired as string
or symbol.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>palette</code></td>
<td>
<p>Name of palette as string or symbol.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>Either '1' or '-1'. If '-1' the palette will be reversed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggplot.component</code></td>
<td>
<p>A ggplot component to be added to the plot prepared by
ggstatsplot. Default is NULL. The argument should be entered as a function.
If the given function has an argument axes.range.restrict and if it has been set
to TRUE, the added ggplot component might not work as expected.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Chuck Powell, Indrajeet Patil
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# for reproducibility
set.seed(123)

# simplest possible call with the defaults
PlotXTabs2(
  data = mtcars,
  y = vs,
  x =  cyl
)  

# more complex call
PlotXTabs2(
  data = datasets::mtcars,
  y = vs,
  x = cyl,
  bf.details = TRUE,
  labels.legend = c("0 = V-shaped", "1 = straight"),
  legend.title = "Engine Style",
  legend.position = "right",
  title = "The perenial mtcars example",
  palette = "Pastel1"
)

PlotXTabs2(
  data = as.data.frame(HairEyeColor),
  y = Eye,
  x = Hair,
  counts = Freq
)

## Not run: 
# mosaic plot requires ggmosaic 0.2.2 or higher from github
PlotXTabs2(
  data = mtcars,
  x = vs,
  y =  am, 
  plottype = "mosaic", 
  data.label = "both", 
  mosaic.alpha = .9, 
  bf.display = "support", 
  title = "Motorcars Mosaic Plot VS by AM"
)

## End(Not run)

</code></pre>


</div>