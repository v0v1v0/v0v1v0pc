<div class="container">

<table style="width: 100%;"><tr>
<td>layout_specification</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a record to record spec.</h2>

<h3>Description</h3>

<p>Create a general record to record transform specification.
</p>


<h3>Usage</h3>

<pre><code class="language-R">layout_specification(
  incoming_shape = NULL,
  outgoing_shape = NULL,
  ...,
  recordKeys = character(0),
  incoming_controlTableKeys = colnames(incoming_shape)[[1]],
  outgoing_controlTableKeys = colnames(outgoing_shape)[[1]],
  checkNames = TRUE,
  checkKeys = TRUE,
  strict = FALSE,
  allow_rqdatatable_in = FALSE,
  allow_rqdatatable_out = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>incoming_shape</code></td>
<td>
<p>data.frame, definition of incoming record shape.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outgoing_shape</code></td>
<td>
<p>data.frame, defintion of outgoing record shape.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>not used, force later arguments to bind by name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recordKeys</code></td>
<td>
<p>vector of columns identifying records.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>incoming_controlTableKeys</code></td>
<td>
<p>character, which column names of the incoming control table are considered to be keys.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outgoing_controlTableKeys</code></td>
<td>
<p>character, which column names of the outgoing control table are considered to be keys.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkNames</code></td>
<td>
<p>passed to rowrecs_to_blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>checkKeys</code></td>
<td>
<p>passed to rowrecs_to_blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>passed to rowrecs_to_blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_rqdatatable_in</code></td>
<td>
<p>logical, if TRUE allow rqdatatable shortcutting on simple conversions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_rqdatatable_out</code></td>
<td>
<p>logical, if TRUE allow rqdatatable shortcutting on simple conversions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a record specification object
</p>


<h3>Examples</h3>

<pre><code class="language-R">

incoming_shape &lt;- qchar_frame(
  "row",  "col1", "col2", "col3" |
  "row1",   v11,     v12,  v13   |
  "row2",   v21,     v22,  v23   |
  "row3",   v31,     v32,  v33   )


outgoing_shape &lt;- qchar_frame(
  "column", "row1", "row2", "row3" |
  "col1",      v11,  v21  ,  v31   |
  "col2",      v12,  v22  ,  v32   |
  "col3",      v13,  v23  ,  v33   )

data &lt;- build_frame(
  'record_id', 'row',  'col1', 'col2', 'col3'  |
  1,           'row1',  1,      2,      3      |
  1,           'row2',  4,      5,      6      |
  1,           'row3',  7,      8,      9      |
  2,           'row1',  11,     12,     13     |
  2,           'row2',  14,     15,     16     |
  2,           'row3',  17,     18,     19     )

print(data)

layout &lt;- layout_specification(
  incoming_shape = incoming_shape,
  outgoing_shape = outgoing_shape,
  recordKeys = 'record_id')

print(layout)

data %.&gt;% layout

data %.&gt;% layout %.&gt;% .(t(layout))

</code></pre>


</div>