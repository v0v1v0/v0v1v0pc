<div class="container">

<table style="width: 100%;"><tr>
<td>flowcontig</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Builds an ordinal distance matrices from a spatial features background</h2>

<h3>Description</h3>

<p>From a layer of areal spatial features, compute an ordinal distance matrice
based on a k order criterion of adjacency or contiguity between origin and destination places . <br>
The result is a neighbourhood graph that can be used for filtering flow values before flow mapping (flowmap)
</p>


<h3>Usage</h3>

<pre><code class="language-R">flowcontig(bkg, code, k, algo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>bkg</code></td>
<td>
<p>a layer of areal spatial features (eg. the map background)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>spatial areal features code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>order of adjacency or contiguity between two areal spatial features</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algo</code></td>
<td>
<p>algorithm to use for ordinal distance calculation. Default is "Dijkstra's"  algorithm. See Details.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The (k=1,2,...,k) order of adjacency or contiguity, of an areal spatial features
background, is the number of spatial boundaries to be crossed between
a couple of origin-destination (ODs) places. The k number can be assimilated to a shortest path between two pair of nodes
Argument 'k' is to enter the number k of the contiguity matrix to be constructed ;<br>
-ordre=1 : ODs places are adjacent, ie the flow have to cross only 1 boundary<br>
-ordre=2 : ODs places are distant from 2 borders<br>
-ordre=k : ODs places are distant from k borders<br>
The function returns also the (k) number of the layer
</p>


<h3>Value</h3>

<p>a contiguity matrice with the k orders of adjacency
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cartograflow)
library(sf)
data(flowdata)
map &lt;- st_read(system.file("shape/MGP_TER.shp", package = "cartograflow"))
graph_ckij_1 &lt;- flowcontig(bkg = map, code = "EPT_NUM", k = 1, algo = "automatic")

flowmap(
  tab = graph_ckij_1,
  fij = "ordre", origin.f = "i", destination.f = "j",
  bkg = map, code = "EPT_NUM", nodes.X = "X", nodes.Y = "Y",
  filter = FALSE
)

</code></pre>


</div>