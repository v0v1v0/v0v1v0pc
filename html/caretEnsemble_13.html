<div class="container">

<table style="width: 100%;"><tr>
<td>caretStack</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combine several predictive models via stacking</h2>

<h3>Description</h3>

<p>Stack several <code>train</code> models using a <code>train</code> model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">caretStack(
  all.models,
  new_X = NULL,
  new_y = NULL,
  metric = NULL,
  trControl = NULL,
  excluded_class_id = 1L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>all.models</code></td>
<td>
<p>a caretList, or an object coercible to a caretList (such as a list of train objects)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_X</code></td>
<td>
<p>Data to predict on for the caretList, prior to training the stack (for transfer learning).
if NULL, the stacked predictions will be extracted from the caretList models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_y</code></td>
<td>
<p>The outcome variable to predict on for the caretList, prior to training the stack
(for transfer learning).
If NULL, will use the observed levels from the first model in the caret stack
If 0, will include all levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>the metric to use for grid search on the stacking model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trControl</code></td>
<td>
<p>a trainControl object to use for training the ensemble model. If NULL, will use defaultControl.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>excluded_class_id</code></td>
<td>
<p>The integer level to exclude from binary classification or multiclass problems.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to pass to the stacking model</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Uses either transfer learning or stacking to stack models. Assumes that all models were trained on
the same number of rows of data, with the same target values. The features, cross-validation strategies,
and model types (class vs reg) may vary however. If your stack of models were trained with different number of
rows, please provide new_X and new_y so the models can predict on a common set of data for stacking.
</p>
<p>If your models were trained on different columns, you should use stacking.
</p>
<p>If you have both differing rows and columns in your model set, you are out of luck. You need at least
a common set of rows during training (for stacking) or a common set of columns at
inference time for transfer learning.
</p>


<h3>Value</h3>

<p>S3 caretStack object
</p>


<h3>References</h3>

<p>Caruana, R., Niculescu-Mizil, A., Crew, G., &amp; Ksikes, A. (2004).
Ensemble Selection from Libraries of Models.
<a href="https://www.cs.cornell.edu/~caruana/ctp/ct.papers/caruana.icml04.icdm06long.pdf">https://www.cs.cornell.edu/~caruana/ctp/ct.papers/caruana.icml04.icdm06long.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">models &lt;- caretList(
  x = iris[1:50, 1:2],
  y = iris[1:50, 3],
  methodList = c("rpart", "glm")
)
caretStack(models, method = "glm")
</code></pre>


</div>