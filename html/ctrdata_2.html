<div class="container">

<table style="width: 100%;"><tr>
<td>ctrdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ctrdata: get started, database connection, function overview</h2>

<h3>Description</h3>

<p>A package for aggregating and analysing information on clinical
studies, and for obtaining documents, from public registers
</p>


<h3>1 - Database connection</h3>

<p>Package <code>ctrdata</code> retrieves trial information and stores it in a
database collection, which has to be given as a connection object
to parameter <code>con</code> for several ctrdata functions; this
connection object is created in almost identical ways for
these supported backends:</p>

<table>
<tr>
<td style="text-align: left;">
   <em>Database</em> </td>
<td style="text-align: left;"> <em>Connection object</em> </td>
</tr>
<tr>
<td style="text-align: left;">
   MongoDB </td>
<td style="text-align: left;"> <code>dbc &lt;- nodbi::src_mongo(db = "my_db", collection = "my_coll")</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   SQLite </td>
<td style="text-align: left;"> <code>dbc &lt;- nodbi::src_sqlite(dbname = "my_db", collection = "my_coll")</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   PostgreSQL </td>
<td style="text-align: left;"> <code>dbc &lt;- nodbi::src_postgres(dbname = "my_db"); dbc[["collection"]] &lt;- "my_coll"</code> </td>
</tr>
<tr>
<td style="text-align: left;">
   DuckDB </td>
<td style="text-align: left;"> <code>dbc &lt;- nodbi::src_duckdb(dbname = "my_db", collection = "my_coll")</code> </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<p>Use a connection object with a <code>ctrdata</code> function, for example
dbQueryHistory, or other packages, for example
mongolite::mongo or nodbi::docdb_query.
Use a demo database:
<code>dbc &lt;- nodbi::src_sqlite(dbname = system.file("extdata", "demo.sqlite", package = "ctrdata"), collection = "my_trials")</code>
</p>


<h3>2 - Operate on a clinical trial register</h3>

<p>ctrOpenSearchPagesInBrowser,
ctrLoadQueryIntoDb (load trial records into database collection);
see
ctrdata-registers for details on registers and how to search.
</p>


<h3>3 - Get a data frame from the database collection</h3>

<p>dbFindFields (find names of fields of interest in trial records in a collection),
dbGetFieldsIntoDf (create a data frame with fields of interest from collection),
dbFindIdsUniqueTrials (get de-duplicated identifiers of
clinical trials' records that can be used to subset a data frame).
</p>


<h3>4 - Operate on a data frame with trial information</h3>

<p>dfTrials2Long (convert fields with nested elements into long format),
dfName2Value (get values for variable(s) of interest).
</p>


<h3>Author(s)</h3>

<p>Ralf Herold <a href="mailto:ralf.herold@mailbox.org">ralf.herold@mailbox.org</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://cran.r-project.org/package=ctrdata">https://cran.r-project.org/package=ctrdata</a>
</p>
</li>
<li> <p><a href="https://rfhb.github.io/ctrdata/">https://rfhb.github.io/ctrdata/</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/rfhb/ctrdata/issues">https://github.com/rfhb/ctrdata/issues</a>
</p>
</li>
</ul>
</div>