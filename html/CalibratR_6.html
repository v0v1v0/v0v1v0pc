<div class="container">

<table style="width: 100%;"><tr>
<td>calibrate</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>calibrate</h2>

<h3>Description</h3>

<p>Builds selected calibration models on the supplied trainings values <code>actual</code> and <code>predicted</code> and returns them
to the user. New test instances can be calibrated using the <code>predict_calibratR</code> function.
Returns cross-validated calibration and discrimination error values for the models if <code>evaluate_CV_error</code> is set to TRUE. Repeated cross-Validation can be time-consuming.
</p>


<h3>Usage</h3>

<pre><code class="language-R">calibrate(actual, predicted, model_idx = c(1, 2, 3, 4, 5),
  evaluate_no_CV_error = TRUE, evaluate_CV_error = TRUE, folds = 10,
  n_seeds = 30, nCores = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>actual</code></td>
<td>
<p>vector of observed class labels (0/1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predicted</code></td>
<td>
<p>vector of uncalibrated predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_idx</code></td>
<td>
<p>which calibration models should be implemented, 1=hist_scaled, 2=hist_transformed, 3=BBQ_scaled, 4=BBQ_transformed, 5=GUESS, Default: c(1, 2, 3, 4, 5)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evaluate_no_CV_error</code></td>
<td>
<p>computes internal errors for calibration models that were trained on all available <code>actual</code>/<code>predicted</code> tuples. Testing is performed with the same set. Be careful to interpret those error values, as they are not cross-validated. Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evaluate_CV_error</code></td>
<td>
<p>computes cross-validation error. <code>folds</code> times cross validation is repeated <code>n_seeds</code> times with changing seeds. The trained models and the their calibration and discrimination errors are returned.
Evaluation of CV errors can take some time to compute, depending on the number of repetitions specified in <code>n_seeds</code>, Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>folds</code></td>
<td>
<p>number of folds in the cross-validation of the calibration model. If <code>folds</code> is set to 1, no CV is performed and <code>summary_CV</code> can be calculated. Default: 10</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_seeds</code></td>
<td>
<p><code>n_seeds</code> determines how often random data set partition is repeated with varying seed. If <code>folds</code> is 1, <code>n_seeds</code> should be set to 1, too. Default: 30</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nCores</code></td>
<td>
<p><code>nCores</code> how many cores should be used during parallelisation. Default: 4</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>parallised execution of random data set splits for the Cross-Validation procedure over <code>n_seeds</code>
</p>


<h3>Value</h3>

<p>A list object with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>calibration_models</code></td>
<td>
<p>a list of all trained calibration models, which can be used in the <code>predict_calibratR</code> method.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary_CV</code></td>
<td>
<p>a list containing information on the CV errors of the implemented models</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary_no_CV</code></td>
<td>
<p>a list containing information on the internal errors of the implemented models</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictions</code></td>
<td>
<p>calibrated predictions for the original <code>predicted</code> values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_seeds</code></td>
<td>
<p>number of random data set partitions into training and test set for <code>folds</code>-times CV</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Johanna Schwarz
</p>


<h3>Examples</h3>

<pre><code class="language-R"> ## Loading dataset in environment
 data(example)
 actual &lt;- example$actual
 predicted &lt;- example$predicted

 ## Create calibration models
 calibration_model &lt;- calibrate(actual, predicted,
                              model_idx = c(1,2),
                              FALSE, FALSE, folds = 10, n_seeds = 1, nCores = 2)
</code></pre>


</div>