<div class="container">

<table style="width: 100%;"><tr>
<td>n4props</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Number of Subjects Required for a Cluster Randomized Trial with a Binary Outcome</h2>

<h3>Description</h3>

<p>This function provides detailed sample size estimation information to determine
the number of subjects that must be enrolled in a cluster randomized trial with a binary
outcome.</p>


<h3>Usage</h3>

<pre><code class="language-R">n4props(pe, pc, m, ICC, alpha=0.05, power = 0.80, AR=1, two.tailed=TRUE, digits=3)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pe</code></td>
<td>
<p>The anticipated proportion of individuals with the outcome of interest in the experimental group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pc</code></td>
<td>
<p>The anticipated proportion of individuals with the outcome of interest in the control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>The anticipated average (or actual) cluster size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ICC</code></td>
<td>
<p>The anticipated value of the intraclass correlation coefficient, ICC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AR</code></td>
<td>
<p>The Allocation Ratio: AR$=$1 implies an equal number of subjects per treatment and control
group (maximum efficiency), AR $&gt;$ 1, implies more subjects will be enrolled in the control group 
(e.g. in the case of costly intervention), AR $&lt;$ 1 implies more subjects in the
treatment group (rarely used).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>two.tailed</code></td>
<td>
<p>Logical, If TRUE calculations are based on a two-tailed type I error,
if FALSE, a one-sided calculation is performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of digits to round calculations</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function provides detailed information, similar to PROC POWER in SAS, but with less
functionality and more concise output.  It is used for sample size estimation in 
a cluster randomized trial where the outcome of interest is binary.  A simple example may include whether
an individual dies from a heart attack.  In epidemiological terms, pe and pc can be thought
of as the expected prevalence of the outcome in the experimental and control group. Note that 
if the results suggest a small number of clusters is required, an iterative
procedure will include the T distribution instead of the normal critical value for alpha, iterating
the procedure until convergence.  Thus on some occasions, the algorithm may not converge.  In some cases, such as small ICC values or proportions, this fails to converge and may need to be stopped.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nE</code></td>
<td>
<p>The minimum number of clusters required in the experimental group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nC</code></td>
<td>
<p>The minimum number of clusters required in the control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pe</code></td>
<td>
<p>The anticipated proportion of individuals in the experimental group with the outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pc</code></td>
<td>
<p>The anticipated proportion of individuals in the control group with the outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>The desired type I error rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>power</code></td>
<td>
<p>The desired level of power, recall power = 1 - type II error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AR</code></td>
<td>
<p>The Allocation Ratio.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael Rotondi, <a href="mailto:mrotondi@yorku.ca">mrotondi@yorku.ca</a></p>


<h3>References</h3>

<p>Matthews JNS.  Introduction to Randomized Controlled Clinical Trials (2nd Ed.) Chapman &amp; Hall: New York, 2006.
</p>
<p>Donner A and Klar N.  Design and Analysis of Cluster Randomization Trials in Health Research.  Arnold: London, 2000.
</p>


<h3>See Also</h3>

<p><code>n4means</code>, <code>n4incidence</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: Suppose a new drug is thought to reduce heart attack mortality from 0.10 to 0.03. 
Calculate the required number of subjects that must be enrolled in a study to detect this 
difference with alpha = 0.05 and power = 0.80.
## End(Not run)
n4props(pe=0.03, pc=0.10, m=25, ICC=0.20, AR=1, alpha=0.05, power=0.80);
</code></pre>


</div>