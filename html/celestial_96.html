<div class="container">

<table style="width: 100%;"><tr>
<td>cosvar</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Driver &amp; Robotham (2010) cosmic variance calculator
</h2>

<h3>Description</h3>

<p>The main cosmic variance calculator function taken from Driver &amp; Robotham (2010).
cosvarcar is an interface to the Cartesian coordinate version, whilst cosvarsph is
a utility interface to give approximate cosmic variance for astronomy survey regions
(usually defined by RA, Dec and redshift limits).
</p>


<h3>Usage</h3>

<pre><code class="language-R">cosvarcar(aside = 50, bside = 50, cside = 50, regions = 1)
cosvarsph(long = c(129, 141), lat = c(-2, 3), zmax = 1, zmin = 0, regions = 1,
inunit='deg', sep=":")
cosvararea(area=60, zmax=1, zmin=0, regions=1, inunit='deg2')
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>aside</code></td>
<td>

<p>The aside (shortest projected side) of the Cartesian box, must be defined using 737 cosmology.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bside</code></td>
<td>

<p>The bside (longest projects side) of the Cartesian box, must be defined using 737 cosmology.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cside</code></td>
<td>

<p>The cside (radial side) of the Cartesian box, must be defined using 737 cosmology.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>regions</code></td>
<td>

<p>How many well separated regions of this size will there be? The geometry provided is just for a single region, i.e. we reduce the single region CV by 1/sqrt(regions).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>long</code></td>
<td>

<p>Upper and lower longitude (RA) limits of interest in units of inunit. If of length 1 then the number specified is assumed to be the upper limit and the lower limit is set to 0.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>

<p>Upper and lower latitude (Dec) limits of interest in units of inunit. If of length 1 then the number specified is assumed to be the upper limit and the lower limit is set to 0.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zmax</code></td>
<td>

<p>Maximum redshift of comoving cone.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zmin</code></td>
<td>

<p>Minimum redshift of comoving cone.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inunit</code></td>
<td>


<table>
<tr>
<td style="text-align: left;">
cosvarsph </td>
<td style="text-align: left;"> The units of angular coordinate provided for long and lat (see <code>skyarea</code>). </td>
</tr>
<tr>
<td style="text-align: left;">
cosvararea </td>
<td style="text-align: left;"> The units of angular area provided (see <code>cosvol</code>). </td>
</tr>
<tr>
<td style="text-align: left;">
    </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>

<p>When inunit='sex', sep defines the type of separator used for the HMS and DMS strings (i.e. H:M:S and D:M:S would be sep=':', which is the default). See <code>hms2deg</code> and <code>dms2deg</code> for more details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>

<p>Sky area in units of innunit (default is square degrees)
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions use the empircally motivated cosmic variance percentage formula provided in Driver &amp; Robotham (2010) Eqn 4.
</p>
<p>cosvarsph is a 'best effort' approximation of the comoving box subtended by the specified spherical coordinates using the following conversions:
</p>
<p>CoDistLow = cosdistCoDist(z=zmin,H0=70,OmegaM=0.3)
</p>
<p>CoDistHigh = cosdistCoDist(z=zmax,H0=70,OmegaM=0.3)
</p>
<p>cside=CoDistHigh-CoDistLow
</p>
<p>area=skyarea(long = long, lat = lat, inunit = inunit, outunit='deg2')[1]
</p>
<p>volume=cosvol(area=area, zmax = zmax, zmin=zmin, H0 = 70, OmegaM = 0.3, inunit='deg2')[1]
</p>
<p>aside=cos(mean(lat)*pi/180)*(abs(diff(long))/360)*(CoDistLow+cside/2)
</p>
<p>bside=(abs(diff(long))/180)*(CoDistLow+cside/2)
</p>
<p>scale=sqrt(volume*1e9/(aside*bside*cside))
</p>
<p>aside=aside*scale
</p>
<p>bside=bside*scale
</p>
<p>return(cosvarcar(aside=aside, bside=bside, cside=cside, subsets=subsets))
</p>
<p>cosvararea is a simplifed version of cosvarsph, where the assumption is that aside=bside (so the aspect ratio on the sky is 1:1).
</p>


<h3>Value</h3>

<p>The output is the approximate percentage cosmic (or sample) variance that is expected for the volume specified.
</p>


<h3>Note</h3>

<p>Many people get upset at the term 'cosmic variance' and prefer 'sample variance'. Whilst I am sympathetic to the argument, more astronomers are familiar with the former term.
</p>
<p>These cosmic variance estimates are defined using SDSS at z~0.1, caveats abound at higher redshifts, but these numbers should serve as a reasonably conservative (i.e. pessimistic) upper limit.
</p>


<h3>Author(s)</h3>

<p>Aaron Robotham and Simon Driver
</p>


<h3>References</h3>

<p>Driver S.P. &amp; Robotham A.S.G., 2010, MNRAS, 407, 2131
</p>


<h3>See Also</h3>

<p><code>cosvol</code>, <code>skyarea</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Approximate CV of the GAMA equatorial regions:
cosvarsph(long=12, lat=5, zmax=0.5)*1/sqrt(3)
#Or using the GAMA sexigesimal coordinates (should be the same):
cosvarsph(long = c('11:36:0','12:24:0'), lat = c('-2:0:0','3:0:0'), zmax=0.5,
inunit='sex')*1/sqrt(3)
#Approximate CV of the SDSS:
cosvarsph(long=150, lat=100, zmax=0.3)
</code></pre>


</div>