<div class="container">

<table style="width: 100%;"><tr>
<td>ggtally</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create a correlation tally stick on a biplot vector
</h2>

<h3>Description</h3>

<p>Function <code>ggtally</code> puts a series of dots along a biplot vector of a correlation matrix,
so marking the change in correlation along the vector with specified values.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ggtally(G, p1, adj = 0, values = seq(-1, 1, by = 0.2), dotsize = 0.1, dotcolour = "black")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>G</code></td>
<td>
<p>A matrix (or vector) of biplot markers</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p1</code></td>
<td>
<p>A ggplot2 object with a biplot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adj</code></td>
<td>
<p>A scalar adjustment for the correlations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>values</code></td>
<td>
<p>Values of the correlations to be marked off by dots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dotsize</code></td>
<td>
<p>Size of the dot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dotcolour</code></td>
<td>
<p>Colour of the dot</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Any set of values for the correlation to be marked off can be used, though a standard scale with 0.2 increments is recommmended. 
</p>


<h3>Value</h3>

<p>A ggplot2 object with the updated biplot</p>


<h3>Author(s)</h3>

<p> Jan Graffelman (jan.graffelman@upc.edu) </p>


<h3>References</h3>

<p>Graffelman, J. and De Leeuw, J. (2023) On the visualisation of the correlation matrix. Available online. <a href="https://doi.org/10.48550/arXiv.2211.13150">doi:10.48550/arXiv.2211.13150</a></p>


<h3>See Also</h3>

<p><code>ggbplot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(calibrate)
data(goblets)
R &lt;- cor(goblets)
out.sd &lt;- eigen(R)
V  &lt;- out.sd$vectors[,1:2]
Dl &lt;- diag(out.sd$values[1:2])
Gp &lt;- crossprod(t(V),sqrt(Dl))
pca.df &lt;- data.frame(Gp)
pca.df$strings &lt;- colnames(R)
colnames(pca.df) &lt;- c("PA1","PA2","strings")
p1 &lt;- ggbplot(pca.df,pca.df,main="PCA correlation biplot",xlab="",ylab="",rowarrow=TRUE,
              rowcolor="blue",rowch="",colch="")
p1 &lt;- ggtally(Gp,p1,values=seq(-0.2,0.6,by=0.2),dotsize=0.1)
</code></pre>


</div>