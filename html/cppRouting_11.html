<div class="container">

<table style="width: 100%;"><tr>
<td>makegraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construct graph</h2>

<h3>Description</h3>

<p>Construct graph
</p>


<h3>Usage</h3>

<pre><code class="language-R">makegraph(
  df,
  directed = TRUE,
  coords = NULL,
  aux = NULL,
  capacity = NULL,
  alpha = NULL,
  beta = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data.frame or matrix containing 3 columns: from, to, cost. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directed</code></td>
<td>
<p>logical. If <code>FALSE</code>, then all edges are duplicated by inverting 'from' and 'to' nodes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coords</code></td>
<td>
<p>Optional. A data.frame or matrix containing all nodes coordinates. Columns order should be 'node_ID', 'X', 'Y'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aux</code></td>
<td>
<p>Optional. A vector or a single value describing an additional edge weight.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>capacity</code></td>
<td>
<p>Optional. A vector or a single value describing edge capacity. Used for traffic assignment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Optional. A vector or a single value describing alpha parameter. Used for traffic assignment.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>Optional. A vector or a single value describing beta parameter. Used for traffic assignment.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>'from' and 'to' are character or numeric vector containing nodes IDs.
'cost' is a non-negative numeric vector describing the cost (e.g time, distance) between each 'from' and 'to' nodes.
<code>coords</code> should not be angles (e.g latitude and longitude), but expressed in a projection system.
<code>aux</code> is an additional weight describing each edge. Shortest paths are always computed using 'cost' but <code>aux</code> can be summed over shortest paths.
<code>capacity</code>, <code>alpha</code> and <code>beta</code> are parameters used in the Volume Delay Function (VDF) to equilibrate traffic in the network. See assign_traffic.
<code>capacity</code>, <code>alpha</code>, <code>beta</code> and <code>aux</code> must have a length equal to <code>nrow(df)</code>. If a single value is provided, this value is replicated for each edge.
<code>alpha</code> must be different from 0 and <code>alpha</code> must be greater or equal to 1.
For more details and examples about traffic assignment, please see the package website : <a href="https://github.com/vlarmet/cppRouting/blob/master/README.md">https://github.com/vlarmet/cppRouting/blob/master/README.md</a>
</p>


<h3>Value</h3>

<p>Named list with two useful attributes for the user : <br></p>
<p><em>nbnode</em> : total number of vertices <br><em>dict$ref</em> : vertices IDs
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Data describing edges of the graph
edges&lt;-data.frame(from_vertex=c(0,0,1,1,2,2,3,4,4),
                  to_vertex=c(1,3,2,4,4,5,1,3,5),
                  cost=c(9,2,11,3,5,12,4,1,6))

#Construct directed and undirected graph
directed_graph&lt;-makegraph(edges,directed=TRUE)
non_directed&lt;-makegraph(edges,directed=FALSE)

#Visualizing directed and undirected graphs
if(requireNamespace("igraph",quietly = TRUE)){
  plot(igraph::graph_from_data_frame(edges))
  plot(igraph::graph_from_data_frame(edges,directed=FALSE))
}

#Coordinates of each nodes
coord&lt;-data.frame(node=c(0,1,2,3,4,5),X=c(2,2,2,0,0,0),Y=c(0,2,2,0,2,4))

#Construct graph with coordinates
directed_graph2&lt;-makegraph(edges, directed=TRUE, coords=coord)

</code></pre>


</div>