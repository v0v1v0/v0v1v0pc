<div class="container">

<table style="width: 100%;"><tr>
<td>subsetting</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subsetting of compositions</h2>

<h3>Description</h3>

<p>Extract subsets (rows) or subsompositions (columns) of a compositional data set
</p>


<h3>Usage</h3>

<pre><code class="language-R">  getStickyClassOption()
  setStickyClassOption(value)
## S3 method for class 'acomp'
x[i, j, drop=gsi.LengthOne(j)]
## S3 method for class 'rcomp'
x[i, j, drop=gsi.LengthOne(j)]
## S3 method for class 'aplus'
x[i, j, drop=gsi.LengthOne(j)]
## S3 method for class 'rplus'
x[i, j, drop=gsi.LengthOne(j)]
## S3 method for class 'ccomp'
x[i, j, drop=gsi.LengthOne(j)]
## S3 method for class 'rmult'
x[i, j, drop=gsi.LengthOne(j)]
## S3 method for class 'acomp'
x$name 
## S3 method for class 'rcomp'
x$name
## S3 method for class 'aplus'
x$name 
## S3 method for class 'rplus'
x$name
## S3 method for class 'ccomp'
x$name 
## S3 method for class 'rmult'
x$name
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector or dataset of a compositions class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>row indices/names to select/exclude, resp. boolean of fitting length (recyling appplied if length(i)&lt;nrow(x)); if x is a compositional vector, this gives the elements (equivalent to variables) to be extracted/selected</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>j</code></td>
<td>
<p>column indices/names to select/exclude, resp. boolean of fitting length (recyling appplied if length(i)&lt;ncol(x))</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>boolean, should matrices be simplified to vectors? defaults to FALSE (a difference with standard R). If set to TRUE, it has the extra effect of removing the compositional class</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>column name of the variable to be extracted OR name of a scaling function to be applied. It accepts <code>unclass</code> (or <code>raw</code>), <code>clo</code>, <code>pwlr</code>, <code>alr</code>, <code>clr</code>, <code>ilr</code>, <code>apt</code>, <code>cpt</code>,
<code>ipt</code>, <code>iit</code>, <code>ilt</code>, <code>cdt</code>, <code>idt</code> and their inverses <code>*Inv</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>logical, controlling the global options for sticky classes</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>For <code>[</code> a vector or matrix with the relevant elements selected. 
When selecting rows, this object is of the same class than <code>x</code>, i.e. the class is sticky.
When selecting columns, the class depends on the number of columns selected and the value of <code>drop</code>. With <code>drop=T</code>, output is always a matrix or a vector. The same happens if 
<code>gsi.LengthOne(j)==TRUE</code>, which happens if and only if <code>j</code> is a non-null vector of
length one (i.e. if you only want one single column).
</p>
<p>If you want to get rid of sticky classes and return to the behaviour of "compositions" v1.xx, call <code>setStickyClassOption(FALSE)</code>. This may be a good idea if you run old scripts written for that versions of "compositions". You can recover the default behaviour from "compositions" v2 with <code>setStickyClassOption(TRUE)</code>, and check which sticky class status is currently defined in the global options with <code>getStickyClassOption()</code>.
</p>
<p>For <code>$</code> the output is either a transformed data set of the appropriate class, or the selected column as a class-less vector. The transformation ability is particularly useful if you have put a whole compositional class into one column of a data set, in which case you can confortably use the transformations in formula interfaces (see example below). This is NEVER sticky.
</p>


<h3>Author(s)</h3>

<p>R. Tolosana-Delgado</p>


<h3>See Also</h3>

<p><code>rmult</code>, <code>acomp</code>, <code>rcomp</code>,
<code>aplus</code>,
<code>rplus</code>, <code>ccomp</code>,
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Hydrochem)
xc = acomp(Hydrochem[,6:10])
xc[1:3,]
xc[-(10:nrow(xc)),]
xc[1:3,1:3]
xc[1:3,1:3, drop=TRUE]

xc[1:3,1]
class(xc[1:4,1])
class(xc[1:4,1, drop=TRUE])

data("Hydrochem")
xc = acomp(Hydrochem[, 9:14])
Hydrochem$compo = xc
lm(compo$clr~River, data=Hydrochem)
</code></pre>


</div>