<div class="container">

<table style="width: 100%;"><tr>
<td>checkStopRule</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Checking whether the stopping rule is satisfied</h2>

<h3>Description</h3>

<p>This command tests whether one of the specified stopping rules is satisfied in order to stop the CAT.
</p>


<h3>Usage</h3>

<pre><code class="language-R">checkStopRule(th, se, N, it = NULL, model = NULL, D = 1, stop)
 </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>th</code></td>
<td>
<p>numeric: the current ability estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>se</code></td>
<td>
<p>numeric: the current standard error estimate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>numeric: the current number of administered items.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>it</code></td>
<td>
<p>the matrix of parameters of currently available items (default is <code>NULL</code>). Ignored if element <code>$rule</code> of <code>stop</code> list does not hold the value <code>"minInfo"</code>. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>either <code>NULL</code> (default) for dichotomous models, or any suitable acronym for polytomous models. Possible values are <code>"GRM"</code>, <code>"MGRM"</code>, <code>"PCM"</code>, <code>"GPCM"</code>, <code>"RSM"</code> and <code>"NRM"</code>. Ignored if element <code>$rule</code> of <code>stop</code> list does not hold the value <code>"minInfo"</code>. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p>numeric: the metric constant. Default is <code>D=1</code> (for logistic metric); <code>D=1.702</code> yields approximately the normal metric (Haley, 1952). Ignored if <code>model</code> is not <code>NULL</code> or if element <code>$rule</code> of <code>stop</code> list does not hold the value <code>"minInfo"</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stop</code></td>
<td>
<p>a list with valuable element names and contents to set the stopping rule, as an input of the <code>randomCAT</code> or <code>simulateRespondents</code> functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>checkStopRule</code> function checks whether at least one of the stopping rules was satisfied at the current step of the CAT test process. It mainly serves as an internal application for<code>randomCAT</code> function. 
</p>
<p>The <code>stop</code> list must be supplied accordingly to the requested list in the <code>randomCAT()</code> and in the <code>simulateRespondents()</code> functions.
</p>
<p>Three input values must be supplied: <code>th</code> as the current ability estimate; <code>se</code> as the current standard error value related to <code>th</code> estimate; and <code>N</code> as the current test length (i.e., number of administered items). In addition, if the <code>stop$rule</code> vector holds the option <code>"minInfo"</code>, three additional input value smust be supplied: <code>it</code> with the item parameters or all available items in the bank (i.e., previously administered items should not be set as input); <code>model</code> to specify the type of IRT model, either dichotomous or polytomous (see <code>Pi</code> fir further details); and possibly the scaling constant <code>D</code> set to one by default.
</p>
<p>All stopping rules are being assessed and if at least one of them is satisfied, the output list will hold the vector of rules's nmaes that were satisfied through the <code>rule</code> argument). If none of the stopping rules were satisfied, this <code>rule</code> output argument is simply <code>NULL</code>. 
</p>


<h3>Value</h3>

<p>A list with two arguments:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>decision</code></td>
<td>
<p>a logical value indicating whether at least one of the stopping rules was satisfied (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rule</code></td>
<td>
<p>either a vector with the names of the stopping rules that were satisfied, or <code>NULL</code> if <code>decision</code> is <code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>David Magis <br>
Department of Psychology, University of Liege, Belgium <br><a href="mailto:david.magis@uliege.be">david.magis@uliege.be</a>
</p>


<h3>References</h3>

<p>Haley, D.C. (1952). <em>Estimation of the dosage mortality relationship when the dose is subject to error</em>. Technical report no 15. Palo Alto, CA: Applied Mathematics and Statistics Laboratory, Stanford University. 
</p>
<p>Magis, D. and Barrada, J. R. (2017). Computerized Adaptive Testing with R: Recent Updates of the Package <em>catR</em>. <em>Journal of Statistical Software</em>, <em>Code Snippets</em>, <em>76(1)</em>, 1-18. doi: <a href="https://doi.org/10.18637/jss.v076.c01">10.18637/jss.v076.c01</a>
</p>
<p>Magis, D., and Raiche, G. (2012). Random Generation of Response Patterns under Computerized Adaptive Testing with the R Package <em>catR</em>. <em>Journal of Statistical Software</em>, <em>48 (8)</em>, 1-31. doi: <a href="https://doi.org/10.18637/jss.v048.i08">10.18637/jss.v048.i08</a>
</p>


<h3>See Also</h3>

<p><code>randomCAT</code>, <code>simulateRespondents</code>, <code>Pi</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Creation of a 'stop' list with two possible rules
 stop &lt;- list(rule = c("length", "precision"), thr = c(20, 0.3))

# Example of successful 'length' rule
 checkStopRule(th = 0.35, se = 0.41, N = 20, stop = stop)

# Example of successful 'precision' rule
 checkStopRule(th = 0.35, se = 0.29, N = 15, stop = stop)

# Example of jointly successful 'length' and 'precision' rules
 checkStopRule(th = 0.35, se = 0.29, N = 20, stop = stop)

# Example without sucessfull rule
 checkStopRule(th = 0.35, se = 0.31, N = 18, stop = stop) 

# Creation of a short bank of available items under 2PL
 it &lt;- genDichoMatrix(items = 5, model = "2PL", seed = 1)

# Computation of maximum information at ability level 0.35
maxI &lt;- max(Ii(0.35, it)$Ii)

# Creation of a 'stop' list with four possible rules and too large threshold for 'minInfo'
 stop &lt;- list(rule = c("length", "precision", "classification", "minInfo"), 
              thr = c(20, 0.3, 1, maxI-0.01), alpha = 0.05)

# Example with sucessfull 'classification' rule only
 checkStopRule(th = 0.35, se = 0.31, N = 18, it = it, stop = stop) 

# Creation of a 'stop' list with four possible rules and too large threshold for 'minInfo'
 stop &lt;- list(rule = c("length", "precision", "classification", "minInfo"), 
              thr = c(20, 0.3, 1, maxI+0.01), alpha = 0.05)

# Example with sucessfull 'minInfo' rule only
 checkStopRule(th = 0.35, se = 0.55, N = 18, it = it, stop = stop) 

</code></pre>


</div>