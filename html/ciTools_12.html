<div class="container">

<table style="width: 100%;"><tr>
<td>add_pi.lmerMod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prediction Intervals for Linear Mixed Model Fitted Values</h2>

<h3>Description</h3>

<p>This function is one of the methods in <code>add_pi</code>, and is
called automatically when <code>add_pi</code> is used on a <code>fit</code> of
class <code>lmerMod</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'lmerMod'
add_pi(
  df,
  fit,
  alpha = 0.05,
  names = NULL,
  yhatName = "pred",
  type = "parametric",
  includeRanef = TRUE,
  log_response = FALSE,
  nSims = 10000,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class <code>lmerMod</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A real number between 0 and 1. Controls the confidence
level of the interval estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p><code>NULL</code> or character vector of length two. If
<code>NULL</code>, prediction bounds automatically will be named by
<code>add_pi</code>, otherwise, the lower prediction bound will be
named <code>names[1]</code> and the upper prediction bound will be
named <code>names[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p>A string. Name of the predictions vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string, either <code>"parametric"</code> or
<code>"boot"</code>. Determines the method used to calculate the
prediction intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeRanef</code></td>
<td>
<p>A logical. Set whether the predictions and
intervals should be conditioned on the random effects. If
<code>FALSE</code>, random effects will not be included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_response</code></td>
<td>
<p>A logical, indicating if the response is on log
scale in the model fit. If <code>TRUE</code>, prediction intervals
will be returned on the response scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSims</code></td>
<td>
<p>A positive integer. If <code>type = "boot"</code>,
<code>nSims</code> will determine the number of bootstrap simulations
to perform.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>It is recommended that one use parametric prediction intervals when
modeling with a random intercept linear mixed model. Otherwise,
prediction intervals may be simulated via a parametric bootstrap
using the function <code>lme4.simulate()</code>.
</p>


<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values, upper and lower
prediction bounds attached.
</p>


<h3>See Also</h3>

<p><code>add_ci.lmerMod</code> for confidence intervals
for <code>lmerMod</code> objects, <code>add_probs.lmerMod</code> for
conditional probabilities of <code>lmerMod</code> objects, and
<code>add_quantile.lmerMod</code> for response quantiles of
<code>lmerMod</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- lme4::sleepstudy
# Fit a (random intercept) linear mixed model
fit &lt;- lme4::lmer(Reaction ~ Days + (1|Subject), data = lme4::sleepstudy)
# Add 50% prediction intervals to the original data using the default
# method.
add_pi(dat, fit, alpha = 0.5)

# Add 50% prediction intervals to the original data using the
# parametric bootstrap method. Form prediction intervals at the population
# level (unconditional on the random effects).
add_pi(dat, fit, alpha = 0.5, type = "boot", includeRanef = FALSE)

</code></pre>


</div>