<div class="container">

<table style="width: 100%;"><tr>
<td>sbtv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Scenario Barrier Time-Varying Volatility AT1P model</h2>

<h3>Description</h3>

<p><code>sbtv</code> calculates the survival probability <code class="reqn">Q(\tau &gt; t)</code> and default intensity
for each maturity according to the structural SBTV model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sbtv(V0, H, p, B, sigma, r, t)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>V0</code></td>
<td>
<p>firm value at time <code>t = 0</code> (it is a constant value).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>H</code></td>
<td>
<p>vector of differents safety level at time <code>t = 0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>vector of the probability of different scenario (sum of p must be 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>free positive parameter used for shaping the barrier <code>Ht</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>a vector of constant stepwise volatility <code class="reqn">\sigma_t</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>a vector of constant stepwise risk-free rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>a vector of debt maturity structure (it is a numeric vector).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>sbtv</code> is an extension of the <code>at1p</code> model. In this model the parameter <code>H0</code> used
in the <code>at1p</code> model is replaced by a random variable assuming different values in different
scenarios, each scenario with a different probability. The survival probability is calculated
as a weighted avarage of the survival probability using the formula:
</p>
<p style="text-align: center;"><code class="reqn">SBTV.Surv = \sum_{i = 1}^N p[i] * AT1P.Surv(H[i])</code>
</p>

<p>where <code>AT1P.Surv(H[i])</code> is the survival probability computed according to the AT1P model
when <code class="reqn">H_0 = H[i]</code> and with weights equal to the probabilities of the different scenarios.
</p>


<h3>Value</h3>

<p><code>sbtv</code> returns an object of class <code>data.frame</code> containing the survival probability
for each maturity. The last column is the default intensity calculated
among each interval <code class="reqn">\Delta t</code>.
</p>


<h3>References</h3>

<p>Damiano Brigo, Massimo Morini, Andrea Pallavicini (2013)
Counterparty Credit Risk, Collateral and Funding.
With Pricing Cases for All Asset Classes.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mod &lt;- sbtv(V0 = 1, H = c(0.4, 0.8), p = c(0.95, 0.05), B = 0, sigma = rep(0.20, 10),
            r = cdsdata$ED.Zero.Curve, t = cdsdata$Maturity)
mod

plot(cdsdata$Maturity, mod$Survival, type = 'b')

</code></pre>


</div>