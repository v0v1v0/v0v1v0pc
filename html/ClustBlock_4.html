<div class="container">

<table style="width: 100%;"><tr>
<td>catatis_rata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Perform the CATATIS method on different blocks from a RATA experiment</h2>

<h3>Description</h3>

<p>CATATIS method for RATA data. Additional outputs are also computed. Non-binary data are accepted and weights can be tested.
</p>


<h3>Usage</h3>

<pre><code class="language-R">catatis_rata(Data,nblo,NameBlocks=NULL, NameVar=NULL, Graph=TRUE, Graph_weights=TRUE,
 Test_weights=FALSE, nperm=100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Data</code></td>
<td>
<p>data frame or matrix where the blocks of variables are merged horizontally. If you have a different format, see <code>change_cata_format</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nblo</code></td>
<td>
<p>integer. Number of blocks (subjects).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NameBlocks</code></td>
<td>
<p>string vector. Name of each block (subject). Length must be equal to the number of blocks. If NULL, the names are S1,...Sm. Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NameVar</code></td>
<td>
<p>string vector. Name of each variable (attribute, the same names for each subject). Length must be equal to the number of attributes. If NULL, the colnames of the first block are taken. Default: NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Graph</code></td>
<td>
<p>logical. Show the graphical representation? Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Graph_weights</code></td>
<td>
<p>logical. Should the barplot of the weights be plotted? Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Test_weights</code></td>
<td>
<p>logical. Should the the weights be tested? Default: FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nperm</code></td>
<td>
<p>integer. Number of permutation for the weight tests. Default: 100</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with:
</p>

<ul>
<li>
<p> S: the S matrix: a matrix with the similarity coefficient among the subjects
</p>
</li>
<li>
<p> compromise: a matrix which is the compromise of the subjects (akin to a weighted average)
</p>
</li>
<li>
<p> weights: the weights associated with the subjects to build the compromise
</p>
</li>
<li>
<p> weights_tests: the weights tests results
</p>
</li>
<li>
<p> lambda:  the first eigenvalue of the S matrix
</p>
</li>
<li>
<p> overall error: the error for the CATATIS criterion
</p>
</li>
<li>
<p> error_by_sub: the error by subject (CATATIS criterion)
</p>
</li>
<li>
<p> error_by_prod: the error by product (CATATIS criterion)
</p>
</li>
<li>
<p> s_with_compromise: the similarity coefficient of each subject with the compromise
</p>
</li>
<li>
<p> homogeneity: homogeneity of the subjects (in percentage)
</p>
</li>
<li>
<p> CA: the results of correspondence analysis performed on the compromise dataset
</p>
</li>
<li>
<p> eigenvalues: the eigenvalues associated to the correspondence analysis
</p>
</li>
<li>
<p> inertia: the percentage of total variance explained by each axis of the CA
</p>
</li>
<li>
<p> scalefactors: the scaling factors of each subject
</p>
</li>
<li>
<p> param: parameters called
</p>
</li>
</ul>
<h3>References</h3>

<p>Llobell, F., Cariou, V., Vigneau, E., Labenne, A., &amp; Qannari, E. M. (2019). A new approach for the analysis of data and the clustering of subjects in a CATA experiment. Food Quality and Preference, 72, 31-39.<br>
Bonnet, L., Ferney, T., Riedel, T., Qannari, E.M., Llobell, F. (September 14, 2022) .Using CATA for sensory profiling: assessment of the panel performance. Eurosense, Turku, Finland.<br>
Bonnet, L., Llobell, F., Qannari, E.M. (Pangborn 2023). Assessment of the panel performance in a RATA experiment.
</p>


<h3>See Also</h3>

<p><code>catatis</code>, <code>plot.catatis</code>, <code>summary.catatis</code>, <code>change_cata_format</code>, <code>change_cata_format2</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#RATA data with session
data(RATAchoc)
chang2=change_cata_format2(RATAchoc, nprod= 12, nattr= 13, nsub = 9, nsess= 3)
res.cat4=catatis_rata(Data= chang2$Datafinal, nblo = 9, NameBlocks =  chang2$NameSub)
summary(res.cat4)

#RATA data without session
Data=RATAchoc[1:108,2:16]
chang2=change_cata_format2(Data, nprod= 12, nattr= 13, nsub = 9, nsess = 1)
res.cat5=catatis_rata(Data= chang2$Datafinal, nblo = 9, NameBlocks =  chang2$NameSub)
summary(res.cat5)
graphics.off()

</code></pre>


</div>