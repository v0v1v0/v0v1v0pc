<div class="container">

<table style="width: 100%;"><tr>
<td>simulatemissings</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Artifical simulation of various kinds of missings/polluted data</h2>

<h3>Description</h3>

<p>These are simulation mechanisms to check that missing techniques perform 
in sensible ways. They just generate additional missings of the various types 
in a given dataset, according to a specific process.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simulateMissings(x, dl=NULL, knownlimit=FALSE,
     MARprob=0.0, MNARprob=0.0, mnarity=0.5, SZprob=0.0)
observeWithAdditiveError(x, sigma=dl/dlf, dl=sigma*dlf, dlf=3,
     keepObs=FALSE, digits=NA, obsScale=1,
     class="acomp")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a dataset that should get the missings</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dl</code></td>
<td>
<p>the detection limit described in
<code>clo</code>, to impose an artificial detection limit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knownlimit</code></td>
<td>
<p>a boolean indicating wether the actual detection
limit is still known in the dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MARprob</code></td>
<td>
<p>the probability of occurence of 'Missings At Random' values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MNARprob</code></td>
<td>
<p>the probability of occurrence of 'Missings Not At Random'. 
The tendency is that small values have a higher probability to
be missed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mnarity</code></td>
<td>
<p>a number between 0 and 1 giving the strength of the
influence of the actual value in becoming a MNAR. 0 means a MAR
like behavior and 1 means that it is just the smallest values that
is lost</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SZprob</code></td>
<td>
<p>the probability to obtain a structural zero. This is done
at random like a MAR.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sigma</code></td>
<td>
<p>the standard deviation of the normal distributed extra additive error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dlf</code></td>
<td>
<p>the distance from 0 at which a datum will be considered BDL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keepObs</code></td>
<td>
<p>should the (closed) data without additive error be returned as an attribute?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>rounding to be applied to the data with additive error (see Details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obsScale</code></td>
<td>
<p>rounding to be applied to the data with additive error 
(see Details). Should be a power of 10.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>class</code></td>
<td>
<p>class of the output object</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Without any additional parameters no missings are generated. 
The procedure to generate MNAR affects all variables.
</p>
<p>Function "simulateMissings" is a multipurpose simulator, where each class 
of missing value is treated separately, and where detection limits are 
specified as thresholds.
</p>
<p>Function "observeWithAdditiveError" simulates data within a very specific 
framework, where an additive error of sd=<code>sigma</code> is added to the input data
<code>x</code>, and BDLs are generated if a datum is less than <code>dfl</code> times
<code>sigma</code>. Afterwards, the resulting data are rounded as
<code>round(data/obsScale,digits)*obsScale</code>, i.e. a certain observation scale
<code>obsScale</code> is chosen, and at that scale, only some <code>digits</code> are kept.
This framework is typical of chemical analyses, and it generates both BDLs and
pollution/rounding of (apparently) "right" data.
</p>


<h3>Value</h3>

<p>A dataset like <code>x</code> but with some additional missings.
</p>


<h3>Author(s)</h3>

<p>K.Gerald van den Boogaart</p>


<h3>References</h3>

<p>van den Boogaart, K., R. Tolosana-Delgado, and M. Bren (2011). The Compositional
Meaning of a Detection Limit. In Proceedings of the 4th International Workshop on
Compositional Data Analysis (2011).
</p>
<p>van den Boogaart, K.G., R. Tolosana-Delgado and M. Templ (2014) Regression with
compositional response having unobserved components or below detection limit 
values. Statistical Modelling (in press).
</p>
<p>See compositions.missings for more details.
</p>


<h3>See Also</h3>

<p>compositions.missings
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(SimulatedAmounts)
x &lt;- acomp(sa.lognormals)
xnew &lt;- simulateMissings(x,dl=0.05,MAR=0.05,MNAR=0.05,SZ=0.05)
acomp(xnew)
plot(missingSummary(xnew))
</code></pre>


</div>