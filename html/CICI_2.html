<div class="container">

<table style="width: 100%;"><tr>
<td>custom.measure</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Custom estimands after applying <code>gformula</code>
</h2>

<h3>Description</h3>

<p>The default estimate returned by <code>gformula</code> is the <strong>expected</strong> outcome under the respective intervention strategies <code>abar</code>.
<code>custom.measure</code> takes an object of class <code>gformula</code> and enables estimation of other estimands based on the 
counterfactual datasets produced by <code>gformula</code> (if the option <code>ret=TRUE</code> had been chosen), for example estimands conditional on baseline variables, quantiles instead of expectations, and others.</p>


<h3>Usage</h3>

<pre><code class="language-R">custom.measure(X, fun = NULL, cond = NULL, verbose = TRUE, with.se = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>An object of class <code>gformula</code> produced by  <code>gformula</code> with option <code>ret=TRUE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>

<p>A function to be applied to the outcome(s) of the counterfactual data set.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cond</code></td>
<td>

<p>A string containing a condition to be applied to the counterfactual datasets.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>

<p>Logical. TRUE if notes should be printed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with.se</code></td>
<td>
<p>Logical. TRUE if standard deviation should be calculated and returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>other parameters to be passed to <code>fun</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In settings with censoring, it will often be needed to pass on the option <code>na.rm=T</code>, e.g. for the mean, median, quantilesn, and others. 
</p>
<p>Calculation of the bootstrap standard error (i.e., <code>with.se</code>=T) is typically not needed; but, for example, necessary for the calculations after multiple imputation and hence used by <code>mi.boot</code>.
</p>


<h3>Value</h3>

<p>An object of class <code>gformula</code>. See <code>gformula</code> for details.
</p>


<h3>See Also</h3>

<p>see also <code>gformula</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(EFV)

est &lt;- gformula(X=EFV,
                Lnodes  = c("adherence.1","weight.1",
                            "adherence.2","weight.2",
                            "adherence.3","weight.3",
                            "adherence.4","weight.4"
                ),
                Ynodes  = c("VL.0","VL.1","VL.2","VL.3","VL.4"),
                Anodes  = c("efv.0","efv.1","efv.2","efv.3","efv.4"),
                abar=seq(0,2,1), ret=TRUE
)

est
custom.measure(est, fun=prop,categ=1) # identical
custom.measure(est, fun=prop,categ=0)
custom.measure(est, fun=prop, categ=0, cond="sex==1")
# note: metabolic has been recoded internally (see output above)
custom.measure(est, fun=prop, categ=0, cond="metabolic==0") 
# does not make sense here, just for illustration (useful for metric outcomes)
custom.measure(est, fun=quantile, probs=0.1) 

</code></pre>


</div>