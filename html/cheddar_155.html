<div class="container">

<table style="width: 100%;"><tr>
<td>PlotNPS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot node properties</h2>

<h3>Description</h3>

<p>High-level functions for plotting node properties.</p>


<h3>Usage</h3>

<pre><code class="language-R">PlotNPS(community, 
        X,
        Y,
        main = CPS(community)$title, 
        xlab, 
        ylab, 
        xlim = NULL, 
        ylim = NULL, 
        colour.by, 
        colour.spec, 
        col = NULL, 
        symbol.by, 
        symbol.spec, 
        pch = NULL, 
        bg.by, 
        bg.spec, 
        bg = NULL, 
        cex.by = NULL, 
        cex.spec = NULL, 
        cex = NULL, 
        label.colour.by = NULL, 
        label.colour.spec = NULL, 
        label.colour = NULL, 
        link.colour.by = NULL, 
        link.colour.spec = NULL, 
        link.col = NULL, 
        link.line.type.by = NULL, 
        link.line.type.spec = NULL, 
        link.lty = NULL, 
        link.lwd = NULL, 
        highlight.links = NULL, 
        highlight.nodes = Cannibals, 
        lowlight.nodes, 
        show.na = FALSE,
        show.web = TRUE, 
        show.nodes.as = "points", 
        node.labels = NULL, 
        label.cex = 0.6, 
        are.values = FALSE, 
        frame.plot = TRUE,
        ...)

PlotMvN(community, 
        xlab = Log10NLabel(community), 
        ylab = Log10MLabel(community), 
        ...)

PlotNvM(community, 
        xlab = Log10MLabel(community), 
        ylab = Log10NLabel(community), 
        ...)

PlotBvM(community, 
        xlab = Log10MLabel(community), 
        ylab = Log10BLabel(community), 
        ...)

PlotMvB(community, 
        xlab = Log10BLabel(community), 
        ylab = Log10MLabel(community), 
        ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>community</code></td>
<td>
<p>an object of class <code>Community</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>the name of a property that is plotted on the x axis. Must meet the 
criteria of the <code>properties</code> parameter of <code>NPS</code>. 
If <code>are.values</code> is <code>TRUE</code> then <code>X</code> and <code>Y</code> should be 
vectors of length <code>NumberOfNodes</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>plotted on the y axis; see <code>X</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>title of the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>title of the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>title of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>limits of the x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>limits of the y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour.by</code></td>
<td>
<p>node colours property. Either <code>NULL</code>, a vector of 
length <code>NumberOfNodes</code> or the name of a property that meets the 
criteria of the <code>properties</code> parameter of <code>NPS</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colour.spec</code></td>
<td>
<p>node colours specification. Either <code>NULL</code> or a named 
vector that maps values of <code>colour.by</code> to plotting values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>node colours.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbol.by</code></td>
<td>
<p>node symbols property; must meet the criteria of 
<code>colour.by</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbol.spec</code></td>
<td>
<p>node symbols specification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>node symbols.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg.by</code></td>
<td>
<p>node background colours property; must meet the criteria of 
<code>colour.by</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg.spec</code></td>
<td>
<p>node background colours specification; must meet the 
criteria of <code>colour.spec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bg</code></td>
<td>
<p>node background colours.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.by</code></td>
<td>
<p>node cex values property; must meet the criteria of 
<code>colour.by</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.spec</code></td>
<td>
<p>node cex values specification; must meet the 
criteria of <code>colour.spec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>node cex values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.colour.by</code></td>
<td>
<p>node label colours property; must meet the criteria 
of <code>colour.by</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.colour.spec</code></td>
<td>
<p>node label colours specification; must meet the 
criteria of <code>colour.spec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.colour</code></td>
<td>
<p>node label colours.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.colour.by</code></td>
<td>
<p>link colours; either <code>NULL</code>, a vector of 
length <code>NumberOfTrophicLinks</code> or the name of a property 
that meets the criteria of the <code>link.properties</code> parameter of 
<code>TLPS</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.colour.spec</code></td>
<td>
<p>link line colour specification; either 
<code>NULL</code> or a named vector that maps values of <code>link.colour.by</code> to 
plotting values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.col</code></td>
<td>
<p>link colours.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.line.type.by</code></td>
<td>
<p>link link types; must meet the criteria of 
<code>link.colour.by</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.line.type.spec</code></td>
<td>
<p>link line type specification; must meet the 
criteria of <code>link.colour.spec</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.lty</code></td>
<td>
<p>link line types.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.lwd</code></td>
<td>
<p>line line widths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlight.links</code></td>
<td>
<p>either <code>NULL</code>, a vector of length 
<code>NumberOfNodes</code> or a name that meets the criteria of the 
<code>properties</code> paremeter of <code>NPS</code>..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>highlight.nodes</code></td>
<td>
<p>nodes to be highlighted; either <code>NULL</code>, a vector 
of node names, a vector of node indices or a function that takes a 
<code>Community</code> as its only parameter and returns a vector of either 
node names or indices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowlight.nodes</code></td>
<td>
<p>nodes to be lowlighted; must meet the criteria of 
<code>highlight.nodes</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.na</code></td>
<td>
<p>logical - if <code>TRUE</code> then nodes for which <code>X</code> and/or 
<code>Y</code> is <code>NA</code> will be placed at the lowest extent of the relevant 
axis using the <code>PlaceMissingPoints</code> function. If <code>FALSE</code> then 
these nodes will not be plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.web</code></td>
<td>
<p>logical - if <code>TRUE</code> and <code>community</code> has trophic 
links then the food web is plotted using the <code>link*</code> and 
<code>highlight.links</code> parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show.nodes.as</code></td>
<td>
<p>how nodes should be plotted. One of 
</p>

<ol>
<li> <p><code>"points"</code> for symbols, 
</p>
</li>
<li> <p><code>"labels"</code> for text (see <code>node.labels</code>, <code>label.cex</code> 
and <code>label.colour</code>), 
</p>
</li>
<li> <p><code>"points"</code> for symbols and text.
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>node.labels</code></td>
<td>
<p>Either <code>NULL</code>, a vector of length 
<code>NumberOfNodes</code> or a name that meets the criteria of the 
<code>properties</code> paremeter of <code>NPS</code>. If <code>NULL</code> node labels 
are <code>1:NumberOfNodes</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.cex</code></td>
<td>
<p>a character expansion factor; used only if 
<code>show.nodes.as</code> is equal to "points".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>are.values</code></td>
<td>
<p>logical - if <code>TRUE</code> <code>X</code> and <code>Y</code> must be 
vectors of values of length <code>NumberOfNodes</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frame.plot</code></td>
<td>
<p>logical - default <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other values to plot functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The general-purpose function <code>PlotNPS</code> plots one 
node property against another.
</p>
<p>For <code>colour.by</code>, <code>symbol.by</code>, <code>bg.by</code>, <code>cex.by</code> and 
<code>label.colour.by</code>, if <code>X.by</code> is not <code>NULL</code> and a relevant 
<code>X.spec</code> is not given, the <code>X.by</code> values are converted to a 
<code>factor</code>, the levels of which are used as the plot parameter. 
An error is raised if <code>X.by</code> contains any values not present in 
<code>X.spec</code>.
</p>
<p>If <code>colour.by</code>/<code>bg.by</code>/<code>symbol.by</code> is <code>NULL</code> and 
<code>community</code> has a node property named ‘category’ then node 
colours/background colours/symbols are given by ‘category’ using the 
<code>colour.spec</code>/<code>bg.spec</code>/<code>symbol.spec</code> given by 
<code>DefaultCategoryColours</code>/<code>DefaultCategorySymbols</code>.
</p>
<p><code>label.colour.by</code>, <code>node.labels</code> and <code>label.cex</code> are used only 
if <code>show.nodes.as</code> is equal to "points".
</p>
<p>The convenience functions <code>PlotMvN</code>, <code>PlotNvM</code>, <code>PlotBvM</code> and 
<code>PlotMvB</code> are ‘wrappers’ around <code>PlotNPS</code> that plot 
log10-transformed body mass (M), numerical abundance (N) or biomass (B). 
All of the parameters of <code>PlotNPS</code>, with the exception of 
<code>X</code>, <code>Y</code> and <code>are.values</code>, can be used with these four 
functions.
</p>
<p>If <code>show.nodes.as</code> is equal to "points" then labels are plotted using 
<code>label.cex</code> and <code>label.colour</code>.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code>Community</code>, 
<code>NPS</code>, 
<code>DefaultCategoryColours</code>, 
<code>DefaultCategorySymbols</code>, 
<code>PlotBSpectrum</code>, 
<code>PlotCircularWeb</code>, 
<code>PlotNPSDistribution</code>, 
<code>PlotNSpectrum</code>, 
<code>PlotRankNPS</code>, 
<code>PlotTLPS</code>, 
<code>PlotWebByLevel</code>
<code>PlaceMissingPoints</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(TL84)
PlotNvM(TL84)

# Set colours and plot symbols directly
PlotNvM(TL84, col=1, pch=19, highlight.nodes=NULL)

# Plot each level of taxonomic resolution in a different colour
PlotNvM(TL84, colour.by='resolved.to', pch=19, highlight.nodes=NULL)

# Plot each level of taxonomic resolution in a specific colour
colour.spec &lt;- c(Species='purple3', Genus='green3', 'red3')
PlotNvM(TL84, colour.by='resolved.to', colour.spec=colour.spec, pch=19, 
        highlight.nodes=NULL)
legend("topright", legend=names(colour.spec), pch=19, col=colour.spec)

# Use PlotNPS to plot trophic height against log10 body mass
PlotNPS(TL84, 'Log10M', 'TrophicHeight', xlab=Log10MLabel(TL84), 
        ylab='Trophic height')


# The 'POM (detritus)' node in the Ythan Estuary dataset lacks both body mass 
# and numerical abundance.
par(mfrow=c(1,2))
data(YthanEstuary)
PlotNvM(YthanEstuary)
PlotNvM(YthanEstuary, show.na=TRUE)
</code></pre>


</div>