<div class="container">

<table style="width: 100%;"><tr>
<td>makeVariableGraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a graph describing the relationships between variables in
a script</h2>

<h3>Description</h3>

<p>This creates a graph of nodes and edges describing the relationship
of how some variables are used in defining others.
</p>


<h3>Usage</h3>

<pre><code class="language-R">makeVariableGraph(doc, frags = readScript(doc), info = getInputs(frags),
                   vars = getVariables(info, inputs = free), free = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>doc</code></td>
<td>
<p>the name of the script file</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frags</code></td>
<td>
<p>the code fragments from the script as a <code>Script</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info</code></td>
<td>
<p>the <code>ScriptInfo</code> list of <code>ScriptNodeInfo</code> objects describing each  node.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars</code></td>
<td>
<p>a character vector giving the names of the variables in
the scripts. By default, these are the variables defined in the script.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>free</code></td>
<td>
<p>a logical value that is passed to <code>getInputs</code> and
controls whether we include the free/global variables in the script.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note that this collapses variables with the same name into a single
node.  Therefore, if the code uses the same name for two
unrelated variables, there may be some confusion.
</p>


<h3>Value</h3>

<p>An object of class <code>graphNEL</code> from the <code>graph</code> package.
</p>


<h3>Author(s)</h3>

<p>Duncan Temple Lang</p>


<h3>See Also</h3>

<p><code>readScript</code>
<code>getInputs</code>    
<code>getVariables</code>
</p>
<p><code>graph</code>
<code>Rgraphviz</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
 u = url("http://www.omegahat.net/CodeDepends/formula.R")
 sc = readScript(u)
 close(u)
 g = makeVariableGraph(, sc)

## End(Not run)

 f = system.file("samples", "results-multi.R", package = "CodeDepends")
 sc = readScript(f)
 g = makeVariableGraph( info = getInputs(sc))
 if(require(Rgraphviz))
   plot(g)
</code></pre>


</div>