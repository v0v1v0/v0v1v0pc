<div class="container">

<table style="width: 100%;"><tr>
<td>map_vec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Mapping functions that automatically determine type</h2>

<h3>Description</h3>

<p>These functions work exactly the same as typed variants of <code>purrr::map()</code>,
<code>purrr::map2()</code>, <code>purrr::pmap()</code>, <code>purrr::imap()</code> and <code>xmap()</code>
(e.g. <code>purrr::map_chr()</code>), but automatically determine the type.
</p>


<h3>Usage</h3>

<pre><code class="language-R">map_vec(.x, .f, ..., .class = NULL)

map2_vec(.x, .y, .f, ..., .class = NULL)

pmap_vec(.l, .f, ..., .class = NULL)

imap_vec(.x, .f, ..., .class = NULL)

xmap_vec(.l, .f, ..., .class = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.x</code></td>
<td>
<p>A list or atomic vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.f</code></td>
<td>
<p>A function, formula, or vector (not necessarily atomic).
</p>
<p>If a <strong>function</strong>, it is used as is.
</p>
<p>If a <strong>formula</strong>, e.g. <code>~ .x + 2</code>, it is converted to a function. There
are three ways to refer to the arguments:
</p>

<ul>
<li>
<p> For a single argument function, use <code>.</code>
</p>
</li>
<li>
<p> For a two argument function, use <code>.x</code> and <code>.y</code>
</p>
</li>
<li>
<p> For more arguments, use <code>..1</code>, <code>..2</code>, <code>..3</code> etc
</p>
</li>
</ul>
<p>This syntax allows you to create very compact anonymous functions.
</p>
<p>If <strong>character vector</strong>, <strong>numeric vector</strong>, or <strong>list</strong>, it is
converted to an extractor function. Character vectors index by
name and numeric vectors index by position; use a list to index
by position and name at different levels. If a component is not
present, the value of <code>.default</code> will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to <code>.f</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.class</code></td>
<td>
<p>If <code>.class</code> is specified, all</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.y</code></td>
<td>
<p>A vector the same length as <code>.x</code>.
Vectors of length 1 will be recycled.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.l</code></td>
<td>
<p>A list of vectors, such as a data frame.
The length of .l determines the number of arguments that .f will be called
with.
List names will be used if present.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Equivalent to the typed variants of <code>purrr::map()</code>, <code>purrr::map2()</code>,
<code>purrr::pmap()</code>, <code>purrr::imap()</code> and <code>xmap()</code> with the type automatically
determined.
</p>
<p>If the output contains multiple types, the type is determined from
the highest type of the components in the hierarchy raw &lt; logical &lt;
integer &lt; double &lt; complex &lt; character &lt; list (as in <code>c()</code>).
</p>
<p>If the output contains elements that cannot be coerced to vectors
(e.g. lists), the output will be a list.
</p>


<h3>See Also</h3>

<p>The original functions: <code>purrr::map()</code>, <code>purrr::map2()</code>,
<code>purrr::pmap()</code>, <code>purrr::imap()</code> and <code>xmap()</code>
</p>
<p>Parallelized equivalents: <code>future_map_vec()</code>, <code>future_map2_vec()</code>,
<code>future_pmap_vec()</code>, <code>future_imap_vec()</code> and <code>future_xmap_vec()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">fruits   &lt;- c("apple", "banana", "cantaloupe", "durian", "eggplant")
desserts &lt;- c("bread", "cake", "cupcake", "muffin", "streudel")
x        &lt;- sample(5)
y        &lt;- sample(5)
z        &lt;- sample(5)
names(z) &lt;- fruits

map_vec(x, ~ . ^ 2)
map_vec(fruits, paste0, "s")

map2_vec(x, y, ~ .x + .y)
map2_vec(fruits, desserts, paste)

pmap_vec(list(x, y, z), sum)
pmap_vec(list(x, fruits, desserts), paste)

imap_vec(x, ~ .x + .y)
imap_vec(x, ~ paste0(.y, ": ", .x))
imap_vec(z, paste)

xmap_vec(list(x, y), ~ .x * .y)
xmap_vec(list(fruits, desserts), paste)
</code></pre>


</div>