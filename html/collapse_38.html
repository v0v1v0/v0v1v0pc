<div class="container">

<table style="width: 100%;"><tr>
<td>fast-grouping-ordering</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fast Grouping and Ordering</h2>

<h3>Description</h3>

<p><em>collapse</em> provides the following functions to efficiently group and order data:
</p>

<ul>
<li> <p><code>radixorder</code>, provides fast radix-ordering through direct access to the method <code>order(..., method = "radix")</code>, as well as the possibility to return some attributes very useful for grouping data and finding unique elements. <code>radixorderv</code> exists as a programmers alternative. The function <code>roworder(v)</code> efficiently reorders a data frame based on an ordering computed by <code>radixorderv</code>. 

</p>
</li>
<li> <p><code>group</code> provides fast grouping in first-appearance order of rows, based on a hashing algorithm in C. Objects have class 'qG', see below.
</p>
</li>
<li> <p><code>GRP</code> creates <em>collapse</em> grouping objects of class 'GRP' based on <code>radixorderv</code> or <code>group</code>. 'GRP' objects form the central building block for grouped operations and programming in <em>collapse</em> and are very efficient inputs to all <em>collapse</em> functions supporting grouped operations. 
</p>
</li>
<li> <p><code>fgroup_by</code> provides a fast replacement for <code>dplyr::group_by</code>, creating a grouped data frame (or data.table / tibble etc.) with a 'GRP' object attached. This grouped frame can be used for grouped operations using <em>collapse</em>'s fast functions. 
</p>
</li>
<li> <p><code>fmatch</code> is a fast alternative to <code>match</code>, which also supports matching of data frame rows.
</p>
</li>
<li> <p><code>funique</code> is a faster version of <code>unique</code>. The data frame method also allows selecting unique rows according to a subset of the columns. <code>fnunique</code> efficiently calculates the number of unique values/rows. <code>fduplicated</code> is a fast alternative to <code>duplicated</code>. <code>any_duplicated</code> is a simpler and faster alternative to <code>anyDuplicated</code>.
</p>
</li>
<li> <p><code>fcount</code> computes group counts based on a subset of columns in the data, and is a fast replacement for <code>dplyr::count</code>. <code>fcountv</code> is a programmers version of the function.
</p>
</li>
<li> <p><code>qF</code>, shorthand for 'quick-factor' implements very fast factor generation from atomic vectors using either radix ordering <code>method = "radix"</code> or hashing <code>method = "hash"</code>. Factors can also be used for efficient grouped programming with <em>collapse</em> functions, especially if they are generated using <code>qF(x, na.exclude = FALSE)</code> which assigns a level to missing values and attaches a class 'na.included' ensuring that no additional missing value checks are executed by <em>collapse</em> functions.
</p>
</li>
<li> <p><code>qG</code>, shorthand for 'quick-group', generates a kind of factor-light without the levels attribute but instead an attribute providing the number of levels. Optionally the levels / groups can be attached, but without converting them to character. Objects have a class 'qG', which is also recognized in the <em>collapse</em> ecosystem.
</p>
</li>
<li> <p><code>fdroplevels</code> is a substantially faster replacement for <code>droplevels</code>.
</p>
</li>
<li> <p><code>finteraction</code> is a fast alternative to <code>interaction</code> implemented as a wrapper around <code>as_factor_GRP(GRP(...))</code>. It can be used to generate a factor from multiple vectors, factors or a list of vectors / factors. Unused factor levels are always dropped.
</p>
</li>
<li> <p><code>groupid</code> is a generalization of <code>data.table::rleid</code> providing a run-length type group-id from atomic vectors. It is generalization as it also supports passing an ordering vector and skipping missing values. For example <code>qF</code> and <code>qG</code> with <code>method = "radix"</code> are essentially implemented using <code>groupid(x, radixorder(x))</code>.
</p>
</li>
<li> <p><code>seqid</code> is a specialized function which creates a group-id from sequences of integer values. For any regular panel dataset <code>groupid(id, order(id, time))</code> and <code>seqid(time, order(id, time))</code> provide the same id variable. <code>seqid</code> is especially useful for identifying discontinuities in time-sequences.
</p>
</li>
<li> <p><code>timeid</code> is a specialized function to convert integer or double vectors representing time (such as 'Date', 'POSIXct' etc.) to factor or 'qG' object based on the greatest common divisor of elements (thus preserving gaps in time intervals).
</p>
</li>
</ul>
<h3>Table of Functions</h3>


<table>
<tr>
<td style="text-align: left;">
<em> Function / S3 Generic </em>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <em> Methods </em>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <em> Description </em>  </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>radixorder(v)</code>  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for data frames and vectors  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Radix-based ordering + grouping information </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>roworder(v)</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for data frames incl. pdata.frame </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Row sorting/reordering </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>group</code>  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for data frames and vectors  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Hash-based grouping + grouping information </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>GRP</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <code>default, GRP, factor, qG, grouped_df, pseries, pdata.frame</code>  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Fast grouping and a flexible grouping object </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>fgroup_by</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for data frames  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Fast grouped data frame </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>fmatch</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for vectors and data frames  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Fast matching </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>funique</code>, <code>fnunique</code>, <code>fduplicated</code>, <code>any_duplicated</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <code>default, data.frame, sf, pseries, pdata.frame, list</code>  </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Fast (number of) unique values/rows </td>
</tr>
<tr>
<td style="text-align: left;">
                <code>fcount(v)</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Internal generic, supports vectors, matrices, data.frames, lists, grouped_df and pdata.frame </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Fast group counts </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>qF</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for vectors </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Quick factor generation </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>qG</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for vectors </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Quick grouping of vectors and a 'factor-light' class </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>fdroplevels</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <code>factor, data.frame, list</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Fast removal of unused factor levels </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>finteraction</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for data frames and vectors </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Fast interactions </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>groupid</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for vectors </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Run-length type group-id </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>seqid</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for integer vectors </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Run-length type integer sequence-id </td>
</tr>
<tr>
<td style="text-align: left;">
                 <code>timeid</code> </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> No methods, for integer or double vectors </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> Integer-id from time/date sequences </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>See Also</h3>

<p>Collapse Overview, Data Frame Manipulation, Time Series and Panel Series
</p>


</div>