<div class="container">

<table style="width: 100%;"><tr>
<td>add_pi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add Prediction Intervals to Data Frames</h2>

<h3>Description</h3>

<p>This is a generic function to append prediction intervals to a data
frame. A prediction interval is made for each observation in
<code>df</code> with respect to the model <code>fit</code>. These intervals are
then appended to <code>df</code> and returned to the user as a
data frame. <code>fit</code> can be a linear, log-linear, linear mixed,
generalized linear, generalized linear mixed, or accelerated
failure time model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_pi(df, fit, alpha = 0.05, names = NULL, yhatName = "pred", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class <code>lm</code>, <code>glm</code>, or
<code>lmerMod</code>. Predictions are made with this object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A real number between 0 and 1. Controls the confidence
level of the interval estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p><code>NULL</code> or character vector of length two. If
<code>NULL</code>, prediction bounds automatically will be named by
<code>add_pi</code>, otherwise, the lower prediction bound will be
named <code>piNames[1]</code> and the upper prediction bound will be
named <code>piNames[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p>A string. Name of the predictions vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For more specific information about the arguments that are applicable
in each method, consult:
</p>

<ul>
<li> <p><code>add_pi.lm</code> for linear regression prediction intervals
</p>
</li>
<li> <p><code>add_pi.glm</code> for generalized linear regression prediction intervals
</p>
</li>
<li> <p><code>add_pi.lmerMod</code> for linear mixed models prediction intervals
</p>
</li>
<li> <p><code>add_pi.glmerMod</code> for generalized linear mixed model prediction intervals
</p>
</li>
<li> <p><code>add_pi.survreg</code> for accelerated failure time model prediction intervals
</p>
</li>
</ul>
<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values, upper and lower
prediction bounds attached.
</p>


<h3>See Also</h3>

<p><code>add_ci</code> for confidence intervals,
<code>add_probs</code> for response level probabilities, and
<code>add_quantile</code> for quantiles of the conditional
response distribution.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Fit a linear model
fit &lt;- lm(dist ~ speed, data = cars)
# Define some new data
new_data &lt;- cars[sample(NROW(cars), 10), ]
# Add fitted values and prediction intervals to new_data
add_pi(new_data, fit)

# Fit a Poisson model
fit2 &lt;- glm(dist ~ speed, family = "poisson", data = cars)
# Add approximate prediction intervals to the fitted values of
# new_data
add_pi(new_data, fit2)

# Fit a linear mixed model
fit3 &lt;- lme4::lmer(Reaction ~ Days + (1|Subject), data = lme4::sleepstudy)
# Add parametric prediction intervals for the fitted values to the
# original data
add_pi(lme4::sleepstudy, fit3, type = "parametric")


</code></pre>


</div>