<div class="container">

<table style="width: 100%;"><tr>
<td>deviationThroughTime</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculating deviation through time</h2>

<h3>Description</h3>

<p>A function that reads time-slice rasters of data for a given climate (typically processed data from a
climate model run, such as the results of an analysis using PaleoView (Fordham, *et al.* 2017, Ecography)) in a given
directory and calculates average deviation per year across time slices.
</p>


<h3>Usage</h3>

<pre><code class="language-R">deviationThroughTime(variableDirectory, timeSlicePeriod, fileExtension = "asc")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>variableDirectory</code></td>
<td>
<p>A directory containing at least two time slice rasters for a given climate variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeSlicePeriod</code></td>
<td>
<p>Either a single number, in years, representing the time period elapsed between temporally-even
climate variable raster slices, or a vector corresponding to periods, in years, between temporally-uneven time slices.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fileExtension</code></td>
<td>
<p>a character that describes a fileExtension corresponding to one of the suported drivers in
<code>gdal</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Make sure that files in the 'variableDirectory' are read into 'R' in order.
</p>
<p>If you are specifying temporally-uneven time slices with 'timeSlicePeriod', make sure that each number corresponds to the
number of years elapsed *between* time slices, *in the same order as the files were read into 'R'*. There should be one
less number than the number of files, and you must have at least three files in the directory.
</p>
<p>See 'precipDeviation.asc' and 'temperatureDeviation.asc' for examples of rasters created using this function. See reference
for data source details.
</p>


<h3>Value</h3>

<p>A raster showing the geographic distribution of climate deviation through time for a particular climate variable.
</p>


<h3>References</h3>

<p>Owens, H.L., Guralnick, R., 2019. climateStability: An R package to estimate
climate stability from time-slice climatologies. Biodiversity Informatics
14, 8â€“13. https://doi.org/10.17161/bi.v14i0.9786
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Generate sample data
td &lt;- tempdir()
suppressWarnings(x &lt;- terra::rast(nrows=20, ncols=20,
                                  xmin=0, xmax=10, ymin=0, ymax=10,
                                  vals = c(10,10,10,10,20)))
x2 &lt;- x * 1.01
rastStack &lt;- c(x, x2, x)
terra::writeRaster(rastStack, filename = paste0(td, "/raster",
                                                1:terra::nlyr(rastStack), ".tif"),
                   overwrite = TRUE)

# Even time slices
testResult &lt;- deviationThroughTime(td, timeSlicePeriod = 100,
                                   fileExtension = "tif")

# Uneven time slices
testResult &lt;- deviationThroughTime(variableDirectory = td,
                                   timeSlicePeriod = c(25, 100),
                                   fileExtension = "tif")
# Delete temporary files
unlink(td)

</code></pre>


</div>