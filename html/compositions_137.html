<div class="container">

<table style="width: 100%;"><tr>
<td>clr2ilr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert between clr and ilr, and between cpt and ipt. </h2>

<h3>Description</h3>

<p>Compute the centered log ratio transform of a (dataset of) from
isometric log-ratio transform(s) and its inverse. Equivalently, 
compute centered and isometric planar transforms from each other.
Acts in vectors and in bilinear forms. For bilinear forms, 
transform between variation-form from clr-form.
</p>


<h3>Usage</h3>

<pre><code class="language-R">clr2ilr( x , V=ilrBase(x=x) )
ilr2clr( z , V=ilrBase(z=z), x=gsi.orig(z) )
clrvar2ilr( varx , V=ilrBase(D=ncol(varx)) )
ilrvar2clr( varz , V=ilrBase(D=ncol(varz)+1) ,x=NULL)
clrvar2variation(Sigma)
variation2clrvar(TT)
is.clrvar(M, tol=1e-10)
is.ilrvar(M, tol=1e-10)
          </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the clr/cpt-transform of composition(s) (in the ilr2-routines
provided only to give column names.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>the ilr/ipt-transform of composition(s)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varx, Sigma</code></td>
<td>
<p>variance or covariance matrix of clr/cpt-transformed
compositions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>varz</code></td>
<td>
<p>variance or covariance matrix of ilr/ipt-transformed
compositions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>
<p>a matrix with columns giving the chosen  basis of the clr-plane</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TT</code></td>
<td>
<p>variation matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>a matrix, to check if it is a valid variance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>tolerance for the check</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions perform a matrix multiplication with <code>V</code> in an
appropriate way. 
</p>


<h3>Value</h3>

<p><code>clr2ilr</code> gives the ilr/ipt transform of the same composition(s),<br><code>ilr2clr</code> gives the clr/cpt transform of the same
composition(s),<br><code>clrvar2ilr</code> gives the variance-/covariance-matrix of the ilr/ipt transform of the same compositional data set,<br><code>ilrvar2clr</code> and <code>clrvar2variation</code> give the variance-/covariance-matrix of the clr/cpt
transform of the same compositional data set.<br><code>variation2clrvar</code> gives the variation matrix from the clr-covariance matrix<br><code>is.*var</code> check if the given matrix satisfies the conditions to be an ilr-variance 
resp. a clr-variance
</p>


<h3>Author(s)</h3>

<p>K.Gerald v.d. Boogaart <a href="http://www.stat.boogaart.de">http://www.stat.boogaart.de</a></p>


<h3>References</h3>

<p>Egozcue J.J., V. Pawlowsky-Glahn, G. Mateu-Figueras and
C. Barcel'o-Vidal (2003) Isometric logratio transformations for
compositional data analysis. <em>Mathematical Geology</em>, <b>35</b>(3)
279-300<br>
Aitchison, J, C. Barcel'o-Vidal, J.J. Egozcue, V. Pawlowsky-Glahn
(2002) A consise guide to the algebraic geometric structure of the
simplex, the sample space for compositional data analysis, <em>Terra
Nostra</em>, Schriften der Alfred Wegener-Stiftung, 03/2003
</p>


<h3>See Also</h3>

<p><code>variation</code>, <code>ilr</code>, <code>ipt</code>,
<code>clr</code>, <code>cpt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(SimulatedAmounts)
ilrInv(clr2ilr(clr(sa.lognormals)))-clo(sa.lognormals)
clrInv(ilr2clr(ilr(sa.lognormals)))-clo(sa.lognormals)
ilrvar2clr(var(ilr(sa.lognormals)))-var(clr(sa.lognormals))
clrvar2ilr(var(cpt(sa.lognormals)))-var(ipt(sa.lognormals))
variation(acomp(sa.lognormals))
clrvar2variation(var(acomp(sa.lognormals)))
</code></pre>


</div>