<div class="container">

<table style="width: 100%;"><tr>
<td>check_design</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check Design Object</h2>

<h3>Description</h3>

<p>Abstract object that drives all separate processes required to run
R CMD check sequence.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>graph</code></dt>
<dd>
<p>(<code>igraph::igraph()</code>)<br>
A dependency graph, storing information about which dependencies
are required prior to execution of each check task.
Created with <code>task_graph_create</code></p>
</dd>
<dt><code>input</code></dt>
<dd>
<p>(<code>data.fragme()</code>)<br>
Checks data.frame which is the source of all the checks
Created with <code>source_check_tasks_df</code></p>
</dd>
<dt><code>output</code></dt>
<dd>
<p>(<code>character(1)</code>)<br>
Output directory where raw results and temporary library will
be created and stored.</p>
</dd>
</dl>
</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-check_design-new"><code>check_design$new()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-active_processes"><code>check_design$active_processes()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-failed_tasks"><code>check_design$failed_tasks()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-terminate"><code>check_design$terminate()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-step"><code>check_design$step()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-start_next_task"><code>check_design$start_next_task()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-is_done"><code>check_design$is_done()</code></a>
</p>
</li>
<li> <p><a href="#method-check_design-clone"><code>check_design$clone()</code></a>
</p>
</li>
</ul>
<hr>
<a id="method-check_design-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Initialize a new check design
</p>
<p>Use checks data.frame to generate task graph in which all dependencies
and installation order are embedded.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$new(
  df,
  n = 2L,
  output = tempfile(paste(packageName(), Sys.Date(), sep = "-")),
  lib.loc = .libPaths(),
  repos = getOption("repos"),
  restore = TRUE,
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>df</code></dt>
<dd>
<p>checks data.frame.</p>
</dd>
<dt><code>n</code></dt>
<dd>
<p>integer value indicating maximum number of subprocesses that can
be simultaneously spawned when executing tasks.</p>
</dd>
<dt><code>output</code></dt>
<dd>
<p>character value specifying path where the output should be stored.</p>
</dd>
<dt><code>lib.loc</code></dt>
<dd>
<p>character vector with libraries allowed to be used when
checking packages, defaults to entire .libPaths().</p>
</dd>
<dt><code>repos</code></dt>
<dd>
<p>character vector of repositories which will be used when
generating task graph and later pulling dependencies.</p>
</dd>
<dt><code>restore</code></dt>
<dd>
<p>logical value, whether output directory should be unlinked
before running checks. If FALSE, an attempt will me made to restore previous
progress from the same <code>output</code></p>
</dd>
<dt><code>...</code></dt>
<dd>
<p>other parameters</p>
</dd>
</dl>
</div>



<h5>Returns</h5>

<p>check_design.
</p>


<hr>
<a id="method-check_design-active_processes"></a>



<h4>Method <code>active_processes()</code>
</h4>

<p>Get Active Processes list
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$active_processes()</pre></div>


<hr>
<a id="method-check_design-failed_tasks"></a>



<h4>Method <code>failed_tasks()</code>
</h4>

<p>Get Failed Tasks list
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$failed_tasks()</pre></div>


<hr>
<a id="method-check_design-terminate"></a>



<h4>Method <code>terminate()</code>
</h4>

<p>Terminate Design Processes
</p>
<p>Immediately terminates all the active processes.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$terminate()</pre></div>


<hr>
<a id="method-check_design-step"></a>



<h4>Method <code>step()</code>
</h4>

<p>Fill Available Processes with Tasks
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$step()</pre></div>



<h5>Returns</h5>

<p>A logical value, indicating whether processes are actively
running.
</p>


<hr>
<a id="method-check_design-start_next_task"></a>



<h4>Method <code>start_next_task()</code>
</h4>

<p>Start Next Task
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$start_next_task()</pre></div>



<h5>Returns</h5>

<p>A integer value, coercible to logical to indicate whether a new
process was spawned, or <code>-1</code> if all tasks have finished.
</p>


<hr>
<a id="method-check_design-is_done"></a>



<h4>Method <code>is_done()</code>
</h4>

<p>Check if checks are done
</p>
<p>Checks whether all the scheduled tasks were successfully executed.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$is_done()</pre></div>


<hr>
<a id="method-check_design-clone"></a>



<h4>Method <code>clone()</code>
</h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>check_design$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt>
<dd>
<p>Whether to make a deep clone.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
library(checked)
df &lt;- source_check_tasks_df(c(
 system.file("example_packages", "exampleBad", package = "checked"),
 system.file("example_packages", "exampleGood", package = "checked")
))

plan &lt;- check_design$new(df, n = 10, repos = "https://cran.r-project.org/")
while (!plan$is_done()) {
 plan$start_next_task()
}

## End(Not run)
</code></pre>


</div>