<div class="container">

<table style="width: 100%;"><tr>
<td>RAC_change</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rank Abundance Curve Changes</h2>

<h3>Description</h3>

<p>Calculates change of the five aspects of rank abundance curves
(richness, evenness, rank, species gains, and species losses) for a
replicate between two time points.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RAC_change(
  df,
  time.var,
  species.var,
  abundance.var,
  replicate.var = NULL,
  reference.time = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame containing time, species, and abundance columns and an
optional columns of replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.var</code></td>
<td>
<p>The name of the time column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species.var</code></td>
<td>
<p>The name of the species column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abundance.var</code></td>
<td>
<p>The name of the abundance column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicate.var</code></td>
<td>
<p>The name of the optional replicate column. If specified,
replicate must be unique within the dataset and cannot be nested within
treatments or blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference.time</code></td>
<td>
<p>The name of the optional time point that all other time
points should be compared to (e.g. the first year of data). If not
specified, each comparison is between consecutive time points (the first
and second year, second and third year, etc.)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The RAC_change function returns a data frame with a subset of the
following columns:
</p>

<ul>
<li>
<p>replicate.var: A column that has same name and type as the
replicate.var column, if replicate.var is specified.
</p>
</li>
<li>
<p>time.var: A column with the specified time.var and a second column,
with '2' appended to the name. Time is subtracted from time2.
</p>
</li>
<li>
<p>richness_change: A numeric column that is the change in richness
between the two time periods for a replicate divided by the total number of
unique species in both time periods. A positive value occurs when a there is
an increase in species richness over time, and a negative value when there
is a decreases in species richness over  time.
</p>
</li>
<li>
<p>evenness_change: A numeric column that is the change in
evenness(measured with Evar) between the two time periods for a replicate. A
positive value occurs when evenness  increases over time, and a negative
value when evenness decreases in over time.
</p>
</li>
<li>
<p>rank_change: A numeric column that is the absolute value of the
average change in species ranks between the two time periods for a replicate
divided by the total number of unique species in both time periods. Species
that are not present in both time periods are given the S+1 rank in the
sample it is absent in, where S is the number of species in that sample.
</p>
</li>
<li>
<p>gains: A numeric column of the number of species that are present at
time period 2 that were not present at time period 1 for a replicate divided
by the total number of unique species in both time periods. This is
equivalent to the turnover function with metric = "appearances".
</p>
</li>
<li>
<p>losses: A numeric column of the number of species that are not
present at time period 2 but were  present at time period 1 for a replicate
divided by the total number of unique species in both time periods. This is
equivalent to the turnover function with metric = "disappearance".
</p>
</li>
</ul>
<h3>References</h3>

<p>Avolio et al. Submitted
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(pplots)
# Without replicates
df &lt;- subset(pplots, plot == 25)
RAC_change(df = df,
           species.var = "species",
           abundance.var = "relative_cover",
           time.var = "year")

# With replicates
df &lt;- subset(pplots, year &lt; 2004 &amp; plot %in% c(6, 25, 32))
RAC_change(df = df,
           species.var = "species",
           abundance.var = "relative_cover",
           replicate.var = "plot",
           time.var = "year")
           
# With reference year
df &lt;- subset(pplots, year &lt; 2005 &amp; plot %in% c(6, 25, 32))
RAC_change(df = df,
           species.var = "species",
           abundance.var = "relative_cover",
           replicate.var = "plot",
           time.var = "year",
           reference.time = 2002)

</code></pre>


</div>