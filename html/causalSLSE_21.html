<div class="container">

<table style="width: 100%;"><tr>
<td>plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot of Predicted Outcome</h2>

<h3>Description</h3>

<p>For objects of class <code>slseFit</code>, the method plots the predicted
outcome with respect to a given covariate. It is the same for objects of class
<code>cslseFit</code>, but the predicted outcome is plotted for each treatment
group separately.   
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cslseFit'
plot(x, y, which = y, interval = c("none", "confidence"), 
                        level = 0.95, fixedCov = list(),
                        vcov. = vcovHC,  add = FALSE, addToLegend = NULL,
                        addPoints = FALSE, FUN = mean,
                        plot=TRUE, graphPar=list(), ...)
## S3 method for class 'slseFit'
plot(x, y, which = y, interval = c("none", "confidence"), 
                       level = 0.95, fixedCov = NULL,
                       vcov. = vcovHC,  add = FALSE, 
                       addPoints = FALSE, FUN = mean,
                       plot=TRUE, graphPar=list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Object of class <code>cslseFit</code> or <code>slseFit</code> created by
<code>estSLSE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>alias for <code>which</code> for compatibility with <code>plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>Which covariate to plot against the outcome variable. It
could be an integer or a character.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interval</code></td>
<td>
<p>The type of confidence interval. The default is
<code>none</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level</code></td>
<td>
<p>The confidence interval level if included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fixedCov</code></td>
<td>
<p>List of covariates to fix to
specific values for the nontreated and treated groups. By default,
covariates not selected by <code>which</code> are set to their group
specific sample means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vcov.</code></td>
<td>
<p>An alternative function to compute the covariance
matrix of the least squares estimates. The default is the
<code>vcovHC</code> method for <code>lm</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>Should the plot be added to an existing one?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addToLegend</code></td>
<td>
<p>A character string to add to the legend next to
treated and control.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addPoints</code></td>
<td>
<p>Should we add the scatterplot of the outcome and
covariate on the graph?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>The function to determine the fixed value for the
covariates not fixed by <code>fixedCov</code>. The
default is <code>mean</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>If set to <code>FALSE</code>, a <code>data.frame</code> is returned
for each group with the covariate selected by <code>which</code> and the
prediction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graphPar</code></td>
<td>
<p>A list of graphical parameters. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional argument to pass to the <code>vcov.</code> function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The default set of parameters can be obtained by running the command
<code>causalSLSE:::.initPar()</code>. It returns a list of four elements:
<code>treated</code> for the parameter of the lines or points of the treated,
<code>nontreated</code> for the parameters of the nontreated, <code>common</code>
for the common parameters not specific to a group like the main title or
the axis labels, and <code>legend</code> for the legend parameters. The
elements <code>treated</code> and <code>nontreated</code> are lists of two elements:
<code>points</code> and <code>lines</code>, which are lists of graphical parameters
for the scatterplot (when <code>addPoints</code> is <code>TRUE</code>) and the
lines. The argument <code>graphPar</code> can be use to modify existing
parameters or to add new ones. It must respect the structure of the
initial list. See the example below.
</p>
<p>To fix covariates to the same values for both groups, <code>fixedCov</code> is
just a named list with values for the covariates associated with the
names. To fix the covariates to different values for the treated and
nontreated, <code>fixedCov</code> is a named list of at least 1 element with
names being either treated, nontreated or both. If only one group is
specified, the covariates for the other groups are determined by
<code>FUN</code>.
</p>


<h3>Value</h3>

<p>It returns <code>NULL</code> invisibly if the argument <code>plot</code> is
<code>TRUE</code>. Otherwise, it returns a <code>data.frame</code> with the
necessary variables to manually create the plot. For <code>slseModel</code>
objects, it is a list with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Outcome</code></td>
<td>
<p>The outcome variable from the model. The name of this
element is the actual name of the outcome variable in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>The covariate selected by the argument <code>which</code>. The
name of this element is the name of the selected covariate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>The predicted outcome from the model fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower, upper</code></td>
<td>
<p>The lower and upper bounds of the confidence
interval. It is only available when the argument <code>interval</code> is
set to <code>"confidence"</code>.
</p>
</td>
</tr>
</table>
<p>Note that all returned variables are ordered with respect to the selected
covariates. See the example below.
</p>
<p>For <code>cslseModel</code>, the above list of variables is returned
separately for each treatment group. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(simDat3)

##  For cslse objects

mod &lt;- cslseModel(Y ~ Z | ~ X1 + X2, data = simDat3)
fit &lt;- causalSLSE(mod) 
plot(fit, "X1")

## Let's change the type of points for the treated and lines for the
## nontreated

gpar &lt;- list(treated = list(points = list(pch = 24, col = 5)),
             nontreated = list(lines = list(lty = 5, col =
             "darkgreen")), common = list(xlab = "New X",  main =
             "Plot with changed parameters"))  

plot(fit, "X1", addPoints = TRUE, graphPar = gpar)

## For slseModel objects:

mod2 &lt;- slseModel(Y ~ X1 + X2, data = simDat3)
fit2 &lt;- estSLSE(mod2)
plot(fit2, "X1", interval = "confidence", addPoints = TRUE)

##  The same graph produced manually

p2 &lt;- plot(fit2, "X1", interval = "confidence", plot = FALSE)
plot(p2$X1, p2$Y, pch = 21, main = "Y against X1", xlab = "X1", ylab =
     "Y") 
lines(p2$X1, p2$fit, lwd = 2)
lines(p2$X1, p2$lower, lty = 3, lwd = 2)
lines(p2$X1, p2$upper, lty = 3, lwd = 2)
</code></pre>


</div>