<div class="container">

<table style="width: 100%;"><tr>
<td>simplify_formula</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simplify formula with inline functions</h2>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</p>
<p>Extracts all variables from a formula object and creates
a new formula with all predictor variables added together without the
inline functions.
</p>
<p>E.g.:
</p>
<p><code>y ~ x*z + log(a) + (1|b)</code>
</p>
<p>becomes
</p>
<p><code>y ~ x + z + a + b</code>.
</p>
<p>This is useful when passing a formula to <code>recipes::recipe()</code>
for preprocessing a dataset, as used in the
<code>preprocess_functions()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simplify_formula(formula, data = NULL, string_out = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Formula object.
</p>
<p>If a string is passed, it will be converted with <code>as.formula()</code>.
</p>
<p>When a side <em>only</em> contains a <code>NULL</code>, it is kept. Otherwise <code>NULL</code>s are removed.
</p>
<p>An intercept (<code>1</code>) will only be kept if there are no variables on that side of the formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p><code>data.frame</code>. Used to extract variables when the formula contains a "<code>.</code>".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>string_out</code></td>
<td>
<p>Whether to return as a string. (Logical)</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ludvig Renbo Olsen, <a href="mailto:r-pkgs@ludvigolsen.dk">r-pkgs@ludvigolsen.dk</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Attach cvms
library(cvms)

# Create formula
f1 &lt;- "y ~ x*z + log(a) + (1|b)"

# Simplify formula (as string)
simplify_formula(f1)

# Simplify formula (as formula)
simplify_formula(as.formula(f1))
</code></pre>


</div>