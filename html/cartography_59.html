<div class="container">

<table style="width: 100%;"><tr>
<td>waffleLayer</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Waffle Layer</h2>

<h3>Description</h3>

<p>Plot a waffle layer.
</p>


<h3>Usage</h3>

<pre><code class="language-R">waffleLayer(
  x,
  var,
  cellvalue,
  cellsize,
  cellrnd = "ceiling",
  celltxt = paste0("1 cell = ", cellvalue),
  labels,
  ncols,
  col,
  border = "white",
  lwd = 0.2,
  legend.pos = "bottomleft",
  legend.title.txt = "legend title",
  legend.title.cex = 0.8,
  legend.values.cex = 0.6,
  legend.frame = FALSE,
  add = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an sf object, a simple feature collection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var</code></td>
<td>
<p>names of the numeric variable to plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellvalue</code></td>
<td>
<p>value of a single cell. Original values are rounded, using
<code>cellrnd</code> method, to be expressed as multiple of <code>cellvalue</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellsize</code></td>
<td>
<p>size of single cell, in map units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cellrnd</code></td>
<td>
<p>rounding method, one of "ceiling", "floor", "round".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>celltxt</code></td>
<td>
<p>text that appears under the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>names that will appear in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncols</code></td>
<td>
<p>number of columns of the waffles</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>a vector of colors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>border</code></td>
<td>
<p>color of the cells borders.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>cells borders width.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.pos</code></td>
<td>
<p>position of the legend, one of "topleft", "top", 
"topright", "right", "bottomright", "bottom", "bottomleft", "left" or a 
vector of two coordinates in map units (c(x, y)). If 
legend.pos is "n" then the legend is not plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title.txt</code></td>
<td>
<p>title of the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.title.cex</code></td>
<td>
<p>size of the legend title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.values.cex</code></td>
<td>
<p>size of the values in the legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.frame</code></td>
<td>
<p>whether to add a frame to the legend (TRUE) or 
not (FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add</code></td>
<td>
<p>whether to add the layer to an existing plot (TRUE) or 
not (FALSE).</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(sf)
mtq &lt;- st_read(system.file("gpkg/mtq.gpkg", package = "cartography"),
               quiet = TRUE)
# number of employed persons
mtq$EMP &lt;- mtq$ACT - mtq$CHOM

plot(st_geometry(mtq),
     col = "#f2efe9",
     border = "#b38e43",
     lwd = 0.5)
waffleLayer(
  x = mtq,
  var = c("EMP", "CHOM"),
  cellvalue = 100,
  cellsize = 400,
  cellrnd = "ceiling",
  celltxt = "1 cell represents 100 persons",
  labels = c("Employed", "Unemployed"),
  ncols = 6,
  col = c("tomato1", "lightblue"),
  border = "#f2efe9",
  legend.pos = "topright",
  legend.title.cex = 1,
  legend.title.txt = "Active Population",
  legend.values.cex = 0.8,
  add = TRUE
)

layoutLayer(
  title = "Structure of the Active Population",
  col = "tomato4",
  tabtitle = TRUE,
  scale = FALSE,
  sources =  paste0("cartography ", packageVersion("cartography")),
  author = "Sources: Insee and IGN, 2018",
)
</code></pre>


</div>