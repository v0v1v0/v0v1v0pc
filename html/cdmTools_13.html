<div class="container">

<table style="width: 100%;"><tr>
<td>valQ</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Empirical Q-matrix validation</h2>

<h3>Description</h3>

<p>Empirical Q-matrix validation using the <em>Hull</em> method (Nájera, Sorrel, de la Torre, &amp; Abad, 2020a).
The procedure can be used either with the PVAF (de la Torre &amp; Chiu, 2016) or McFadden's pseudo R-squared (McFadden, 1974).
The PVAF is recommended (Nájera, Sorrel, de la Torre, &amp; Abad, 2020a).
Note that the pseudo R-squared might not be computationally feasible for highly dimensional Q-matrices, say more than 10 attributes.
Different iterative implementations are available, such as the test-level implementation (see Terzi &amp; de la Torre, 2018), attribute-test-level implementation (Nájera, Sorrel, de la Torre, &amp; Abad, 2020a), and item-level implementation (Nájera, Sorrel, de la Torre, &amp; Abad, 2020b).
If an iterative implementation is used, the <code>GDINA</code> R package (Ma &amp; de la Torre, 2020) is used for the calibration of the CDMs.
</p>


<h3>Usage</h3>

<pre><code class="language-R">valQ(
  fit,
  index = "PVAF",
  iterative = "test.att",
  emptyatt = TRUE,
  maxitr = 100,
  CDMconv = 1e-04,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>A G-DINA model fit object from the <code>GDINA</code> package (Ma &amp; de la Torre, 2020).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>index</code></td>
<td>
<p>What index to use. It includes <code>"PVAF"</code> or <code>"R2"</code>. The default is <code>"PVAF"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterative</code></td>
<td>
<p>(Iterative) implementation procedure. It includes <code>"none"</code> (for non-iterative), <code>"test"</code> (for test-level iterations), <code>"test.att"</code> (for attribute-test-level), and <code>"item"</code> (for item-level iterations). The default is <code>"test.att"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>emptyatt</code></td>
<td>
<p>Is it possible for the suggested Q-matrix to have an empty attribute (i.e., an attribute not measured by any item)? Although rarely, it is possible for iterative procedures to provide a suggested Q-matrix in which one or more attributes are empty. This might indicate that the original Q-matrix had more attributes than necessary. If <code>FALSE</code>, then at least one item (i.e., the one that is most likely) will measure each attribute in the suggested Q-matrix. The default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxitr</code></td>
<td>
<p>Maximum number of iterations if an iterative procedure has been selected. The default is 100.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CDMconv</code></td>
<td>
<p>Convergence criteria for the CDM estimations between iterations (only if an iterative procedure has been selected). The default is 0.0001.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Print information after each iteration if an iterative procedure is used. The default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>valQ</code> returns an object of class <code>valQ</code>.
</p>

<dl>
<dt><code>sug.Q</code></dt>
<dd>
<p>Suggested Q-matrix (<code>matrix</code>).</p>
</dd>
<dt><code>Q</code></dt>
<dd>
<p>Original Q-matrix (<code>matrix</code>).</p>
</dd>
<dt><code>sugQ.fit</code></dt>
<dd>
<p>Several fit indices from the model obtained with the suggested Q-matrix (<code>vector</code>).</p>
</dd>
<dt><code>index</code></dt>
<dd>
<p>PVAF or pseudo R-squared (depending on which one was used) for each item (<code>matrix</code>).</p>
</dd>
<dt><code>iter.Q</code></dt>
<dd>
<p>Q-matrices used in each iteration (<code>list</code>). Provided only if an iterative procedure has been used.</p>
</dd>
<dt><code>iter.index</code></dt>
<dd>
<p>PVAF or pseudo R-squared (depending on which one was used) for each item in each iteration (<code>list</code>). Provided only if an iterative procedure has been used.</p>
</dd>
<dt><code>n.iter</code></dt>
<dd>
<p>Number of iterations used (<code>double</code>). Provided only if an iterative procedure has been used.</p>
</dd>
<dt><code>convergence</code></dt>
<dd>
<p>Convergence information (<code>double</code>). It can be 1 (convergence), 2 (lack of convergence: maximum number of iterations achieved), 3 (lack of convergence: empty attribute obtained), and 4 (lack of convergence: loop Q-matrices). Provided only if an iterative procedure has been used.</p>
</dd>
<dt><code>time</code></dt>
<dd>
<p>Initial and finish time (<code>vector</code>).</p>
</dd>
<dt><code>time.used</code></dt>
<dd>
<p>Total computation time (<code>difftime</code>).</p>
</dd>
<dt><code>specifications</code></dt>
<dd>
<p>Function call specifications (<code>list</code>).</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Pablo Nájera, Universidad Pontificia Comillas <br> Miguel A. Sorrel, Universidad Autónoma de Madrid <br> Francisco J. Abad, Universidad Autónoma de Madrid
</p>


<h3>References</h3>

<p>de la Torre, J., &amp; Chiu, C.-Y. (2016). A general method of empirical Q-matrix validation. <em>Psychometrika</em>, <em>81</em>, 253-273. https://doi.org/10.1007/s11336-015-9467-8
</p>
<p>Ma, W., &amp; de la Torre, J. (2020). GDINA: An R package for cognitive diagnosis modeling. <em>Journal of Statistical Software</em>, <em>93</em>(14). https://doi.org/10.18637/jss.v093.i14
</p>
<p>McFadden, D. (1974). Conditional logit analysis of qualitative choice behavior. In P. Zarembka (Ed.), <em>Frontiers in Economics</em> (pp. 105-142). Academic Press.
</p>
<p>Nájera, P., Sorrel, M. A., de la Torre, J., &amp; Abad, F. J. (2020a). Balancing fit and parsimony to improve Q-matrix validation. <em>British Journal of Mathematical and Statistical Psychology</em>. https://doi.org/10.1111/bmsp.12228
</p>
<p>Nájera, P., Sorrel, M. A., de la Torre, J., &amp; Abad, F. J. (2020b). Improving robustness in Q-matrix validation using an iterative and dynamic procedure. <em>Applied Psychological Measurement</em>, <em>46</em>, 431-446. https://doi.org/10.1177/0146621620909904
</p>
<p>Terzi, R., &amp; de la Torre, J. (2018). An iterative method for empirically-based Q-matrix validation. <em>International Journal of Assessment Tools in Education</em>, <em>5</em>, 248-262. https://doi.org/10.21449/ijate.407193
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(GDINA)
dat &lt;- sim30GDINA$simdat
Q &lt;- sim30GDINA$simQ # Generating Q-matrix
miss.Q &lt;- missQ(Q = Q, qjk = .30, retainJ = 5, seed = 123)$miss.Q # Misspecified Q-matrix
fit &lt;- GDINA(dat, miss.Q) # GDINA object
sug.Q &lt;- valQ(fit = fit, verbose = TRUE) # Hull method for Q-matrix validation
mean(sug.Q$sug.Q == Q) # Check similarity with the generating Q-matrix
</code></pre>


</div>