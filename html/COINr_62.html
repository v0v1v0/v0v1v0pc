<div class="container">

<table style="width: 100%;"><tr>
<td>get_trends</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get time trends</h2>

<h3>Description</h3>

<p>Get time trends from a purse object. This function extracts a panel data set from a purse, and calculates trends
for each indicator/unit pair using a specified function <code>f_trend</code>. For example, if <code>f_trend = "CAGR"</code>, this extracts
the time series for each indicator/unit pair and passes it to <code>CAGR()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_trends(
  purse,
  dset,
  uCodes = NULL,
  iCodes = NULL,
  Time = NULL,
  use_latest = NULL,
  f_trend = "CAGR",
  interp_at = NULL,
  adjust_directions = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>purse</code></td>
<td>
<p>A purse object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dset</code></td>
<td>
<p>Name of the data set to extract, passed to <code>get_data.purse()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>uCodes</code></td>
<td>
<p>Optional subset of unit codes to extract, passed to <code>get_data.purse()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iCodes</code></td>
<td>
<p>Optional subset of indicator/aggregate codes to extract, passed to <code>get_data.purse()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Time</code></td>
<td>
<p>Optional vector of time points to extract, passed to <code>get_data.purse()</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_latest</code></td>
<td>
<p>A positive integer which specifies to use only the latest "n" data points. If this is specified, it
overrides <code>Time</code>. If e.g. <code>use_latest = 5</code>, will use the latest five observations, working backwards from the latest
non-<code>NA</code> point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f_trend</code></td>
<td>
<p>Function that returns a metric describing the trend of the time series. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interp_at</code></td>
<td>
<p>Option to linearly interpolate missing data points in each time series. Must be specified as a vector
of time values where to apply interpolation. If <code>interp_at = "all"</code>, will attempt to interpolate at every
time point. Uses linear interpolation - note that any <code>NA</code>s outside of the range of observed values will not
be estimated, i.e. this does not <em>extrapolate</em> beyond the range of data. See <code>approx_df()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>adjust_directions</code></td>
<td>
<p>Logical: if <code>TRUE</code>, trend metrics are adjusted according to indicator/aggregate
directions input in <code>iMeta</code> (i.e. if the corresponding direction is -1, the metric will be multiplied by -1).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function requires a purse object as an input. The data set is selected using <code>get_data()</code>, such that a subset
of the data set can be analysed using the <code>uCodes</code>, <code>iCodes</code> and <code>Time</code> arguments. The latter is useful especially
if only a subset of the time series should be analysed.
</p>
<p>The function <code>f_trend</code> is a function that, given a time series, returns a trend metric. This must follow a
specific format. It must of course be available to call, and <em>must</em> have arguments <code>y</code> and <code>x</code>, which are
respectively a vector of values and a vector indexing the values in time. See <code>prc_change()</code> and <code>CAGR()</code>
for examples. The function <em>must</em> return a single value (not a vector with multiple entries, or a list).
The function can return either numeric or character values.
</p>


<h3>Value</h3>

<p>A data frame in long format, with trend metrics for each indicator/unit pair, plus
data availability statistics.
</p>


<h3>Examples</h3>

<pre><code class="language-R">#

</code></pre>


</div>