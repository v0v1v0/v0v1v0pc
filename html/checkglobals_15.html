<div class="container">

<table style="width: 100%;"><tr>
<td>check_pkg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check R-packages for globals and imports</h2>

<h3>Description</h3>

<p>Approximately detect global and imported functions or variables from R-packages by
static code analysis. Conceptually, the function inspects all files in the package
R-folder and contrasts the detected (unrecognized) globals and imports against
the imports listed in the NAMESPACE of the R-package. R-scripts present elsewhere
in the package (i.e. not in the R-folder) are not scanned, as these are not
coupled to the package NAMESPACE file.
</p>


<h3>Usage</h3>

<pre><code class="language-R">check_pkg(pkg = ".", include_compiled = FALSE, skip_globals = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pkg</code></td>
<td>
<p>character path to R-package, can be either:
</p>

<ul>
<li>
<p> a local R-package folder;
</p>
</li>
<li>
<p> path to bundled (tar.gz) R-package on local filesystem;
</p>
</li>
<li>
<p> remote path to bundled (tar.gz) R-package, (e.g. a remote server or the web).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_compiled</code></td>
<td>
<p>logical value indicating if compiled functions called with <code>.Call</code>,
<code>.C</code>, <code>.External</code>, <code>.Fortran</code> should be included as global variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_globals</code></td>
<td>
<p>optional character vector of names to skip/exclude as (unrecognized) global variables.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list S3-object of class <code>"checkglobals"</code> with three components:
</p>

<ul>
<li> <p><code>globals</code>, list of class <code>"checkglobalsg"</code>
</p>
</li>
<li> <p><code>imports</code>, list of class <code>"checkglobalsi"</code>
</p>
</li>
<li> <p><code>missing_packages</code>, character vector with missing packages
</p>
</li>
</ul>
<p>for programmatic use, cast the returned S3-object with <code>as.data.frame</code>, <code>as.matrix</code>,
<code>as.character</code> or <code>as_vector</code>.
</p>


<h3>See Also</h3>

<p><code>checkglobals</code>, <code>check_source</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## from R-package folder
check_pkg(
  pkg = system.file(
    "unit_tests", "pkg", "testpkg",
    package = "checkglobals"
  )
)

## from bundled R-package

  check_pkg(
    pkg = "https://cran.r-project.org/src/contrib/tinytest_1.4.1.tar.gz",
    skip_globals = "cluster"
  )

</code></pre>


</div>