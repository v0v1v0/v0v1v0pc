<div class="container">

<table style="width: 100%;"><tr>
<td>computeCCT</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Correlated Color Temperature (CCT) of Light Spectra</h2>

<h3>Description</h3>

<p>Compute the CCT, in K,
of a <b>colorSpec</b> object with <code>type</code> equal to <code>'light'</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'colorSpec'
computeCCT( x, isotherms='robertson', locus='robertson', strict=FALSE )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an <b>colorSpec</b> <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object with <code>type</code> equal to <code>'light'</code>, and M spectra </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>isotherms</code></td>
<td>
<p>A character vector whose elements match one
of the available isotherm families:
<code>'robertson'</code>, <code>'mccamy'</code>, and <code>'native'</code>.
Matching is partial and case-insensitive.
When more than one family is given, a matrix is returned, see <b>Value</b>.
When <code>isotherms='native'</code> the isotherms are defined implicitly
as lines perpendicular to the locus, see <b>Details</b> in 
<code>spacesXYZ::CCTfromXYZ()</code>.
The character <code>NA</code> (<code>NA_character_</code>) is taken as
a synonym for <code>'native'</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locus</code></td>
<td>

<p>valid values are <code>'robertson'</code> and <code>'precision'</code>, see above.
Matching is partial and case-insensitive.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strict</code></td>
<td>
<p>The CIE considers the CCT of a chromaticity <code>uv</code> to be meaningful only
if the distance from <code>uv</code> to the Planckian locus is less than or equal to 0.05 
[in CIE UCS 1960].
If <code>strict=FALSE</code>, then this condition is ignored.
Otherwise, the distance is computed along the corresponding isotherm,
and if it exceeds 0.05 the returned CCT is set to <code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>In <code>computeCCT()</code>, for each spectrum,
XYZ is computed using <code>xyz1931.1nm</code>,
and the result passed to <code>spacesXYZ::CCTfromXYZ()</code>.
If the <code>quantity</code> of <code>x</code> is <code>'photons'</code> (actinometric) each spectrum is
converted to <code>'energy'</code> (radiometric) on the fly.<br></p>


<h3>Value</h3>

<p><code>computeCCT()</code> returns a numeric vector of length M,
where M is the number of spectra in <code>x</code>.
The vector's <code>names</code> is set to <code>specnames(x)</code>.<br>
If the <code>type</code> of <code>x</code> is not <code>'light'</code>,
then a warning is issued and all values are <code>NA_real_</code>.<br></p>


<h3>References</h3>

<p>McCamy, C. S.
<em>Correlated color temperature as an explicit function of chromaticity coordinates</em>.
Color Research &amp; Application.
Volume 17.
Issue 2.
pages 142-144.
April 1992.
</p>
<p>Robertson, A. R.
Computation of correlated color temperature and distribution temperature.
Journal of the Optical Society of America.
58. pp. 1528-1535 (1968).
</p>
<p>Wyszecki, GÃ¼nther and W. S. Stiles.
<b>Color Science: Concepts and Methods, Quantitative Data and Formulae, Second Edition.</b>
John Wiley &amp; Sons, 1982.
Table 1(3.11). pp. 227-228.
</p>


<h3>See Also</h3>

<p><code>type()</code>, 
<code>quantity()</code>,
<code>xyz1931</code>,
<code>planckSpectra()</code>,    
<code>specnames()</code>,
<code>spacesXYZ::CCTfromXYZ()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">computeCCT( D65.1nm )                       # returns 6502.068
computeCCT( D65.1nm, isotherms='native' )   # returns 6503.323
computeCCT( A.1nm )                         # returns 2855.656
computeCCT( A.1nm, isotherms='native' )     # returns 2855.662
computeCCT( A.1nm, isotherms='mccamy' )     # returns 2857.188

moon = readSpectra( system.file( "extdata/sources/moonlight.txt", package='colorSpec' ) )
computeCCT( moon )                  # returns 4482.371
</code></pre>


</div>