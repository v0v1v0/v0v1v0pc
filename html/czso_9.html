<div class="container">

<table style="width: 100%;"><tr>
<td>czso_get_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve and read dataset from CZSO</h2>

<h3>Description</h3>

<p>Downloads and reads dataset identified by <code>dataset_id</code>.
Unzips if necessary, but only loads CSV files, otherwise returns the path to the downloaded file.
Converts types of columns where known, e.g. value columns to numeric.
</p>


<h3>Usage</h3>

<pre><code class="language-R">czso_get_table(
  dataset_id,
  dest_dir = NULL,
  force_redownload = FALSE,
  resource_num = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dataset_id</code></td>
<td>
<p>a character. Found in the czso_id column of data frame returned by <code>get_catalogue()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dest_dir</code></td>
<td>
<p>character. Directory in which downloaded files will be stored.
If left unset, will use the <code>czso.dest_dir</code> option if the option is set, and <code>tempdir()</code> otherwise. Will be created if it does not exist.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>force_redownload</code></td>
<td>
<p>integer. Whether to redownload data source file even if already cached. Defaults to FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resource_num</code></td>
<td>
<p>integer. Order of resource in resource list for the given dataset. Defaults to 1, the normal value for CZSO datasets.</p>
</td>
</tr>
</table>
<h3>Details</h3>



<h4>Structure of the output tibble</h4>

<p>CZSO provides its open data as tidy data, so each row only contains one value
in the <code>hodnota</code> column and the remaining columns give details on how
that value is defined. See "Included columns" below on how these work.
</p>



<h4>Data types</h4>

<p>The schema of the dataset is not yet used, so some columns may be mistyped and are by default returned as character vectors.
</p>



<h4>Included columns</h4>

<p>The range of columns present in the output varies from one dataset to another,
so the package does not attempt to provide English-language names for
the known subset, as that would result in a jumble of Czenglish.
</p>
<p>Instead, here is a guide to some of the common column names you will encounter:
</p>

<ul>
<li> <p><code>idhod</code>: a unique ID of the value in the CZSO database. This does not allow
you to link to any other (meta)data as far as I know, but it does provide unique
identification should you need it.
</p>
</li>
<li> <p><code>hodnota</code>: the value.
</p>
</li>
<li> <p><code>stapro_kod</code>: code of the statistic/indicator/variable as listed.
in the SMS UKAZ register (https://www.czso.cz/csu/czso/statistical-variables-indicators);
this one has Czech-English documentation - access this by clicking the UK flag top right.
You can also get a data table with the definitions, if you search for <code>"statistické proměnné"</code> in
the <code>title</code> field of the catalogue. Last I checked, the ID of this table was <code>"990124-17"</code>.
</p>
</li>
<li> <p><code>rok</code> denotes year as YYYY.
</p>
</li>
<li> <p><code>ctvrtleti</code> denotes quarter if available.
</p>
</li>
</ul>
<p>Other metadata will come in the form <code style="white-space: pre;">⁠{variable}_[txt|cis|kod]⁠</code>. The <code style="white-space: pre;">⁠_txt⁠</code>
column holds the Czech text name for the category. The <code style="white-space: pre;">⁠_cis⁠</code> column holds the
ID of the codelist (register) you need to decode the code in <code style="white-space: pre;">⁠_kod⁠</code>.
The English codelists are at http://apl.czso.cz/iSMS/en/cislist.jsp,
Czech ones at http://apl.czso.cz/iSMS/cs/cislist.jsp.
You can find the Czech-language codelists in the catalogue retrieved with
<code>czso_get_catalogue()</code>, where their IDs begin with <code>"cis"</code> followed by the number; the English ones can also be retrieved from
the link above using a permalink URL.
</p>
<p>More conveniently, you can use the <code>czso_get_codelist()</code> function to retrieve the codelist.
</p>
<p>Units are denoted in a separate column.
</p>
<p>A helper on common breakdowns with their associated columns:
</p>

<ul>
<li> <p><code>uzemi</code>: territory
</p>
</li>
<li> <p><code>vek</code>: age
</p>
</li>
<li> <p><code>pohlavi</code>: gender
</p>
</li>
</ul>
<p><code>NA</code>s in "breakdown" columns (e.g. gender or age) denote the total.
</p>



<h3>Value</h3>

<p>a tibble, or vector of file paths if file is not CSV or if
there are multiple files in the dataset.
See Details on the columns contained in the tibble
</p>


<h3>Note</h3>

<p>Do not use this for harvesting datasets from CZSO en masse.
</p>


<h3>See Also</h3>

<p>Other Core workflow: 
<code>czso_get_catalogue()</code>,
<code>czso_get_codelist()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
czso_get_table("110080")

</code></pre>


</div>