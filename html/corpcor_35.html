<div class="container">

<table style="width: 100%;"><tr>
<td>smtools</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Some Tools for Handling Symmetric Matrices</h2>

<h3>Description</h3>

<p><code>sm2vec</code> takes a symmetric matrix and puts
the lower triagonal entries into a vector (cf. <code>lower.tri</code>).
</p>
<p><code>sm.index</code> lists the corresponding x-y-indices for each entry
in the vector produced by <code>sm2vec</code>.
</p>
<p><code>vec2sm</code> reverses the operation by  <code>sm2vec</code> and converts the
vector back to a symmetric matrix. If <code>diag=FALSE</code> the
diagonal of the resulting matrix will consist of NAs.  If <code>order</code>
is supplied then the input vector <code>vec</code> will first be rearranged accordingly.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sm2vec(m, diag = FALSE)
sm.index(m, diag = FALSE)
vec2sm(vec, diag = FALSE, order = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>symmetric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diag</code></td>
<td>
<p>logical. Should the diagonal be included in the conversion to and from a vector?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vec</code></td>
<td>
<p>vector of unique elements from a symmetric matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>order of the entries in <code>vec</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector (<code>sm2vec</code>), a two-column matrix with indices (<code>sm.index</code>),
or a symmetric matrix (<code>vec2sm</code>).
</p>


<h3>Author(s)</h3>

<p>Korbinian Strimmer (<a href="https://strimmerlab.github.io/">https://strimmerlab.github.io/</a>).
</p>


<h3>See Also</h3>

<p><code>lower.tri</code>.</p>


<h3>Examples</h3>

<pre><code class="language-R"># load corpcor library
library("corpcor")

# a symmetric matrix
m = rbind(
 c(3,1,1,0),
 c(1,3,0,1),
 c(1,0,2,0),
 c(0,1,0,2)
)
m

# convert into vector (including the diagonals)
v = sm2vec(m, diag=TRUE)
v.idx = sm.index(m, diag=TRUE)
v
v.idx

# put back to symmetric matrix
vec2sm(v, diag=TRUE)

# convert from vector with specified order of the elements
sv = sort(v)
sv
ov = order(v)
ov
vec2sm(sv, diag=TRUE, order=ov)
</code></pre>


</div>