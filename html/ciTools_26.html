<div class="container">

<table style="width: 100%;"><tr>
<td>add_quantile.lmerMod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Quantiles for the Response of a Linear Mixed Model</h2>

<h3>Description</h3>

<p>This function is one of the methods for <code>add_quantile</code> and
is called automatically when <code>add_quantile</code> is applied to an
object of class <code>lmerMod</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'lmerMod'
add_quantile(
  df,
  fit,
  p,
  name = NULL,
  yhatName = "pred",
  includeRanef = TRUE,
  type = "boot",
  nSims = 10000,
  log_response = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class <code>lm</code>. Predictions are made with
this object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A real number between 0 and 1.  Determines the probability
level of the quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p><code>NULL</code> or a string. If <code>NULL</code>, quantiles
automatically will be named by <code>add_quantile</code>, otherwise,
they will be named <code>name</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p>A string. Determines the name of the column of
predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeRanef</code></td>
<td>
<p>The random effects be included or not? If
<code>TRUE</code>, quantiles will be calculated at the
"group level". Otherwise, quantiles will be calculated at the
"population level", where random effects are set to <code class="reqn">0</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string. Options are <code>"parametric"</code> or
<code>"boot"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSims</code></td>
<td>
<p>A positive integer. Set the number of bootstrap
simulations to perform. Only applied when <code>type = "boot"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_response</code></td>
<td>
<p>A logical. Set to <code>TRUE</code> if the model is a
log-linear mixed model: <code class="reqn">\log(Y) = X\beta + Z\gamma +
\epsilon</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>add_qauntile.lmerMod</code> may use one of two different methods
for determining quantiles: a parametric method or a parametric
bootstrap method (via <code>lme4::simulate</code>). The parametric method
is the default. Only use the parametric method (<code>type =
"parametric"</code>) if <code>fit</code> is a random intercept model,
e.g. <code>fit = lmer(y ~ x + (1|group))</code>. If your model of
interest is random slope and random intercept, use the parametric
bootstrap method (<code>type = "boot"</code>).
</p>


<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values and level-p
quantiles attached.
</p>


<h3>See Also</h3>

<p><code>add_ci.lmerMod</code> for confidence intervals
for <code>lmerMod</code> objects, <code>add_pi.lmerMod</code> for
prediction intervals of <code>lmerMod</code> objects, and
<code>add_probs.lmerMod</code> for response probabilities of
<code>lmerMod</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- lme4::sleepstudy

# Fit a random intercept model
fit &lt;- lme4::lmer(Reaction ~ Days + (1|Subject), data = lme4::sleepstudy)

# Using the parametric method: given the model fit, what value
# of reaction time do we expect half of new reaction times to fall
# under?
add_quantile(dat, fit, p = 0.5)

# Using the parametric method:
# as above, but we ignore the random effects.
add_quantile(dat, fit, p = 0.5, includeRanef = FALSE)

</code></pre>


</div>