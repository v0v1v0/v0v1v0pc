<div class="container">

<table style="width: 100%;"><tr>
<td>ch_wbt_channels</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate stream network</h2>

<h3>Description</h3>

<p>Generate stream network
</p>


<h3>Usage</h3>

<pre><code class="language-R">ch_wbt_channels(
  fn_flowacc,
  fn_flowdir,
  fn_channel_ras,
  fn_channel_vec,
  threshold = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fn_flowacc</code></td>
<td>
<p>File name for flow accumulation grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_flowdir</code></td>
<td>
<p>File name for flow direction grid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_channel_ras</code></td>
<td>
<p>File name for raster version of channel network.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_channel_vec</code></td>
<td>
<p>File name for vector version of channel networks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>Threshold for channel initiation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters for <span class="pkg">whitebox</span> function <code>wbt_extract_streams</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <span class="pkg">sf</span> vector object of the stream channels.
</p>


<h3>Author(s)</h3>

<p>Dan Moore
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Only proceed if Whitebox executable is installed
library(whitebox)
if (check_whitebox_binary()){
  library(raster)
  test_raster &lt;- ch_volcano_raster()
  dem_raster_file &lt;- tempfile(fileext = c(".tif"))
  no_sink_raster_file &lt;- tempfile("no_sinks", fileext = c(".tif"))

  # write test raster to file
  writeRaster(test_raster, dem_raster_file, format = "GTiff")

  # remove sinks
  removed_sinks &lt;- ch_wbt_removesinks(dem_raster_file, no_sink_raster_file, method = "fill")

  # get flow accumulations
  flow_acc_file &lt;- tempfile("flow_acc", fileext = c(".tif"))
  flow_acc &lt;- ch_wbt_flow_accumulation(no_sink_raster_file, flow_acc_file)

  # get flow directions
  flow_dir_file &lt;- tempfile("flow_dir", fileext = c(".tif"))
  flow_dir &lt;- ch_wbt_flow_direction(no_sink_raster_file, flow_dir_file)
  channel_raster_file &lt;- tempfile("channels", fileext = c(".tif"))
  channel_vector_file &lt;- tempfile("channels", fileext = c(".shp"))
  channels &lt;- ch_wbt_channels(flow_acc_file, flow_dir_file, channel_raster_file,
  channel_vector_file, 1)
  plot(channels)
} else {
  message("Examples not run as Whitebox executable not found")
}
</code></pre>


</div>