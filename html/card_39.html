<div class="container">

<table style="width: 100%;"><tr>
<td>recur_survival_table</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recurrent Survival Data Format</h2>

<h3>Description</h3>

<p>Reformats recurrent event data (wide) into different models for
survival analysis, but can also be used for simple survival analysis tables
as well. Importantly, for large datasets, this function will show
significant slow-down since it uses an intuitive approach on defining the
datasets. Future iterations will create a vectorized approach that should
provide performance speed-ups.
</p>

<ul>
<li>
<p> For recurrent events, the final censoring event can include death, or can
be ignored if its not considered a failure event.
</p>
</li>
<li>
<p> For simple survival analysis, death censoring should be left as NULL, and
the event (e.g. "date_of_death"), should be used as a single <code>event.dates</code>
parameter. The function will do the rest.
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">recur_survival_table(
  data,
  id,
  first,
  last,
  event.dates,
  model.type,
  death = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A dataframe containing the subsequent parameters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>Column in dataframe that contains unique IDs for each row</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>first</code></td>
<td>
<p>Column with left/enrollment dates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>last</code></td>
<td>
<p>Column with right/censoring time point, or last contact</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event.dates</code></td>
<td>
<p>Vector of columns that contain event dates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.type</code></td>
<td>
<p>Character/string = c("marginal", "pwptt", "pwpgt")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>death</code></td>
<td>
<p>Column created for if death is known (0 or 1), original
dataframe (e.g. can add column of zeroes PRN). Death defaults to null for
intermediate calculations otherwise.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function takes every data event date, and creates several types
of recurrent event tables. It orders the data chronologically for repeat
events. Currently does marginal and conditional A and B models. The large
</p>


<h3>Value</h3>

<p>A data frame organized into a survival table format
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Data
data("mims")

# Parameters
id &lt;- "patid"
first &lt;- "first_visit_date_bl"
last &lt;- "ldka"
event.dates &lt;- c("mi_date_1", "mi_date_2", "mi_date_3")
model.type &lt;- "marginal"
death &lt;- "DEATH_CV_YN"

# Run analysis
tbl &lt;- recur_survival_table(
  mims, id, first, last, event.dates, model.type, death
)


</code></pre>


</div>