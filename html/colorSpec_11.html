<div class="container">

<table style="width: 100%;"><tr>
<td>colorSpec</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>constructing and testing colorSpec Objects</h2>

<h3>Description</h3>

<p>The function <code>colorSpec()</code> is the constructor for <b>colorSpec</b> objects.
</p>
<p><code>is.colorSpec()</code> tests whether an object is a valid <b>colorSpec</b> object.<br><code>as.colorSpec()</code> converts other variables to a <b>colorSpec</b> object,
and is designed to be overridden by other packages.
</p>


<h3>Usage</h3>

<pre><code class="language-R">colorSpec( data, wavelength, quantity='auto', organization='auto', specnames=NULL )

is.colorSpec(x)

## Default S3 method:
as.colorSpec( ... )
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a vector or matrix of the spectrum values.
In case <code>data</code> is a vector, there is a single spectrum and the number
of points in that spectrum is the length of the vector.
In case <code>data</code> is a matrix, the spectra are stored in the columns,
so the number of points in each spectrum is the number of rows in <code>data</code>,
and the number of spectra is the number of columns in <code>data</code>.
It is OK for the matrix to have only 0 or 1 column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wavelength</code></td>
<td>
<p>a numeric vector of wavelengths for all the spectra, in nm.
The length of this vector must be equal to <code>NROW(data)</code>.
The sequence must be increasing.
The <code>wavelength</code> vector can be changed after construction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quantity</code></td>
<td>
<p>a character string giving the <code>quantity</code> of all spectra
in <code>data</code>; see <code>quantity</code> for a list of possible values.  
In case of <code>'auto'</code>, a guess is made from the <code>specnames</code>.
The <code>quantity</code> can be changed after construction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>organization</code></td>
<td>
<p>a character string giving the desired organization 
of the returned <b>colorSpec</b> object.
In case of <code>'auto'</code>, the organization is <code>'vector'</code> or <code>'matrix'</code>
depending on <code>data</code>.
Other possible organizations are <code>'df.col'</code> or <code>'df.row'</code>;
see <code>organization</code> for discussion of all 4 possible organizations.
The organization can be changed after construction.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>specnames</code></td>
<td>
<p>a character vector with length equal to the number of spectra,
and with no duplicates.
If <code>specnames</code> is <code>NULL</code> and <code>data</code> is a vector,
then <code>specnames</code> is set to <code>deparse(substitute(data))</code>.
If <code>specnames</code> is <code>NULL</code> and <code>data</code> is a matrix,
then <code>specnames</code> is set to <code>colnames(data)</code>.
If <code>specnames</code> is <em>still</em> not a character vector with the right length,
or if there are duplicate names, then <code>specnames</code> is set to
<code>'S1', 'S2', ...</code> with a warning message.
The <code>specnames</code> vector can be changed after construction.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an <span style="font-family: Courier New, Courier; color: #666666;"><b>R</b></span> object to test for being a valid <b>colorSpec</b> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments for use in other packages.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Under the hood, a <b>colorSpec</b> object is either a <code>vector</code>, <code>matrix</code>, or <code>data.frame</code>.
It is of S3 class <code>'colorSpec'</code> with these extra attributes:
</p>

<dl>
<dt><code>wavelength</code></dt>
<dd>
<p>a numeric vector of wavelengths for all the spectra.  If the organization of the object is <code>'df.col'</code>, then this is absent.</p>
</dd>
<dt>
<code>quantity</code> </dt>
<dd>
<p>a character string that gives the physical quantity of all spectra, see <code>quantity()</code> for a list of possible values.</p>
</dd>
<dt><code>metadata</code></dt>
<dd>
<p>a named list for user-defined data.  The names <code>'path'</code>, <code>'header'</code> and <code>'date'</code> are already reserved; see <code>metadata()</code>.</p>
</dd>
<dt><code>step.wl</code></dt>
<dd>
<p>step between adjacent wavelengths in nm. This is assigned only when the wavelengths are regular; see <code>is.regular()</code>. </p>
</dd>
<dt>
<code>specname</code> </dt>
<dd>
<p>only assigned when the <code>organization</code> is <code>'vector'</code>, in which case it is equal to the single character string name of the single spectrum.
Note that the word <code>specname</code> is singular. Also see <code>specnames()</code>.</p>
</dd>
</dl>
<p>And there are a few more attributes that exist only in special cases;
see the <b>colorSpec User Guide</b>.
</p>


<h3>Value</h3>

<p><code>colorSpec()</code> returns a <b>colorSpec</b> object, or <code>NULL</code> in case of ERROR.
Compare this function with <code>stats::ts()</code>.
</p>
<p><code>is.colorSpec()</code> returns <code>TRUE</code> or <code>FALSE</code>.
It does more than check the <code>class</code>,
and also checks <code>wavelength</code>, <code>quantity</code>, and <code>organization</code>.
If <code>FALSE</code>, it logs (at <code>loglevel='DEBUG'</code>)
the reason that <code>x</code> is invalid.
</p>
<p><code>as.colorSpec.default()</code> issues an ERROR message and returns <code>NULL</code>
</p>


<h3>See Also</h3>

<p><code>wavelength</code>,
<code>quantity</code>,
<code>organization</code>,  
<code>metadata</code>,
<code>step.wl</code>,
<code>specnames</code>,
<code>is.regular</code>,
<code>coredata</code>  
</p>


<h3>Examples</h3>

<pre><code class="language-R">#  make a synthetic Gaussian bandpass filter

center = 600
wave   = 400:700
trans  = exp( -(wave-center)^2 / 20^2 )

filter.bp   = colorSpec( trans, wave, quantity='transmittance', specnames='myfilter' )

organization( filter.bp )  # returns:  "vector"

# and now plot it
plot( filter.bp )
</code></pre>


</div>