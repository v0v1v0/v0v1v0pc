<div class="container">

<table style="width: 100%;"><tr>
<td>errorBarGraph.cgOneFactorFit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create an Error Bar graph amongst groups in a cgOneFactorFit object
</h2>

<h3>Description</h3>

<p>Creates a graph to see comparisons amongst groups based on the cgOneFactorFit
object. The method of Andrews, Sarner, and Snee (1980) is applied to
visualizes significant differences via non-overlapping error bars.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'cgOneFactorFit'
errorBarGraph(fit, mcadjust = FALSE, alpha =0.05,
 cgtheme = TRUE, device = "single", ...)  
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit </code></td>
<td>

<p>A fit object of class <code>cgOneFactorFit</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mcadjust </code></td>
<td>

<p>Do a multiple comparisons adjustment, based on the simultaneous
inference capabilities of the <span class="pkg">multcomp</span> package. See Details
below. The default value is <code>FALSE</code>.
If <code>mcadjust=TRUE</code> is specified, there will be a delay,
usually just for a few seconds, due to computing time of the
critical point in order to conduct the adjusted comparisons.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha </code></td>
<td>
<p>Significance level, by default set to <code>0.05</code>, which
equates to a 95% confidence level.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cgtheme </code></td>
<td>

<p>When set to the default <code>TRUE</code>, ensures a trellis device is active with
limited color scheme. Namely <code>background</code>,
<code>strip.shingle</code>, and <code>strip.background</code> are each set to <code>"white"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device </code></td>
<td>
<p>Can be one of three values:
</p>

<dl>
<dt><code>"single"</code></dt>
<dd>
<p>The default, which will put all graphs on the same
device page. For example, when resistant &amp; robust and classical
least squares are present and <code>model="both"</code> (the default),
a 2 x 1 paneled graph will be created.</p>
</dd>
<dt><code>"multiple"</code></dt>
<dd>
<p>Relevant only when resistant &amp; robust and classical
least squares are present and <code>model="both"</code> (the default). In
that case, a new graphics device is generated to hold the resistant &amp; robust
version, as a single-paneled graph. 
The classical least squares version is on the previous device.</p>
</dd>
<dt><code>"ask"</code></dt>
<dd>
<p>Relevant only when resistant &amp; robust and classical
least squares are present and <code>model="both"</code> (the default). In
that case, each are portrayed as a single-paneled graph, with the
<code>ask=TRUE</code> argument specified in <code>par</code> so that
the user input confirmation is needed before the graphs are
drawn.
</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>

<p>Additional arguments. Two are currently valid: 
</p>

<dl>
<dt>
<code>model</code> </dt>
<dd>
<p>For <code>cgOneFactorFit</code> objects that have 
classical least squares <code>lm()</code> or resistant &amp; robust
<code>rlm()</code> fits, the following argument values are possible:
</p>

<dl>
<dt><code>"both"</code></dt>
<dd>
<p>Error Bar graphs based on both the ordinary 
classical least squares and resistant &amp; robust fits are
performed. This is the default when both fits are present in
the <code>cgOneFactorFit</code> object specified in the <code>fit</code>
argument. If the resistant &amp; robust fit is not available,
this value is not relevant.
</p>
</dd>
<dt><code>"olsonly"</code></dt>
<dd>
<p>Only an Error Bar graph based on the ordinary 
classical least squares <code>olsfit</code> fit is performed.
</p>
</dd>
<dt><code>"rronly"</code></dt>
<dd>
<p>Only a Error Bar Graph based on the resistant and
robust <code>rrfit</code> fit is performed.
</p>
</dd>
</dl>
<p>For other possible <code>cgOneFactorFit</code> fit slots such as
accelerated failure time or unequal variance models, the <code>model</code>
argument is not relevant, and the appropriate comparisons table will
be calculated for these model types.
</p>
</dd>
<dt><code>ticklabels </code></dt>
<dd>
<p>A list of two components:
</p>

<dl>
<dt><code>mod</code></dt>
<dd>
<p>Can be either of these two values,
</p>

<dl>
<dt><code>"replace"</code></dt>
<dd>
<p>Before graphing the data, remove
any automatically generated tickmarks for the y-axis,
and create the tickmarks specified in the
<code>marks</code> component below.
</p>
</dd>
<dt><code>"add"</code></dt>
<dd>
<p>Before graphing the data, add
tickmarks specified in the 
<code>marks</code> component below, to the automatically
generated ones.
</p>
</dd>
</dl>
</dd>
<dt><code>marks</code></dt>
<dd>
<p>A vector of tickmarks to be
placed on the y-axis. Any numeric representations will
be coerced to character.	
</p>
</dd>
</dl>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>mcadjust=TRUE</code>, a status message of
<code>"Some time may be needed as the critical point"</code><br><code>"from the multcomp::summary.glht function call is calculated"</code>
is displayed at the console. This computed critical point
is used for all interval calculations.
</p>
<p>The <span class="pkg">multcomp</span> package provides a unified way to calculate
critical points based on the comparisons of interest in a
"family". Thus a user does not need to worry about choosing amongst
the myriad names of multiple comparison procedures.
</p>
<p>The <code>errorBarGraph.cgOneFactorFit</code> method is only relevant for
classical least squares and resistant &amp; robust fits in the
<code>cgOneFactorFit</code> object. There is an
<code>errorbargraph</code> core function that could be used for
approximations in other cases like accelerated failure time or unequal
variance fits.
</p>
<p>The statistical method of Andrews, Sarner, and Snee (1980) is applied to
visualize significant differences via non-overlapping error bars. The
method is exact when there are equal sample sizes amongst the
groups for the classical least squares case. When there are unequal
group sample sizes or a resistant &amp; robust fit is used to create the
graph, the method is approximate, and this is noted in the main title
section of the graph. For the unequal sample sizes, the harmonic mean
is calculated to use for all the groups. The method's usefulness
declines as the  sample sizes become more disparate.
</p>
<p>When two groups are compared, nonoverlapping error bars indicate a
statistically significant pairwise difference. Conversely, if the
error bars overlap, there is no such significant difference. In cases
of approximation, or borderline overlap that is seen, the
<code>cgOneFactorComparisonsTable</code> object created with
<code>type="pairwisereflect"</code> or <code>type="pairwise"</code> needs to be
consulted to judge significance with a p-value.
</p>
<p>The minimum and maximum values across all the bar ends
are added inside the plot region in blue, flush against the
y-axis. The number of decimal places are determined by the
<code>digits</code> value in the <code>fit$settings</code> slot.
</p>
<p>If group labels along the x-axis seem to overlap in the standard
horizontal form, they will be rotated 45 degrees.  
</p>


<h3>Value</h3>

<p><code>errorBarGraph.cgOneFactorFit</code> returns
an invisible <code>NULL</code>. The main purpose is the side
effect of graphing to the current device.
</p>


<h3>Note</h3>

<p>Contact <a href="mailto:cg@billpikounis.net">cg@billpikounis.net</a> for bug reports, questions,
concerns, and comments. 
</p>


<h3>Author(s)</h3>

<p>Bill Pikounis [aut, cre, cph], John Oleynick [aut], Eva Ye [ctb]
</p>


<h3>References</h3>

<p>Andrews, H.P., Snee, R.D., Sarner, M.H. (1980). "Graphical Display of Means,"
<em>The American Statistician</em>, 34, 195-199.
</p>
<p>Hothorn, T., Bretz, F., Westfall, P., Heiberger, R.M., and
Schuetzenmeister, A. (2010). The <code>multcomp</code> R package.
</p>
<p>Hothorn, T., Bretz, F., and Westfall, P. (2008).
"Simultaneous Inference in General Parametric Models",
<em>Biometrical Journal</em>, 50, 3, 346-363.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(canine)
canine.data &lt;- prepareCGOneFactorData(canine, format="groupcolumns",
                                      analysisname="Canine",
                                      endptname="Prostate Volume",
                                      endptunits=expression(plain(cm)^3),
                                      digits=1, logscale=TRUE, refgrp="CC")
canine.fit &lt;- fit(canine.data)

errorBarGraph(canine.fit)

errorBarGraph(canine.fit, mcadjust=TRUE, model="olsonly")
</code></pre>


</div>