<div class="container">

<table style="width: 100%;"><tr>
<td>predict.CCM</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Classification from a CCM correlation matrix
</h2>

<h3>Description</h3>

<p>Classification as a function of a CCM correlation matrix that contains the correlations between test and training samples
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'CCM'
predict(object, y, func = mean, ret.scores = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>

<p>a CCM correlation matrix object obtained from <code>create.CCM</code>
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>classes corresponding to the training samples (columns) of ‘object’
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>func</code></td>
<td>

<p>the function that determines how a test sample is classified, defaulting to <var>mean</var>. See details.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ret.scores</code></td>
<td>

<p>If set to TRUE then a matrix of results by class are returned (see details); otherwise a vector of classifications/predictions is returned (the default) 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Additional arguments to <code>func</code>
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function <code>func</code> can be any R function whose first argument is a vector of correlations (x). The CCM assigns each test sample the class that maximizes func(x). If <code>func</code> is <var>mean</var> (the default), the classification is the class with the highest mean correlation. Other useful values for <code>func</code> include <var>median</var> and <var>max</var>. 
</p>
<p>If <code>ret.scores</code> is TRUE, then a matrix of results by class is returned, where the i(th) column corresponds to the i(th) test sample and each row corresponds to a possible class. Entry (i,j) contains func(x), where <code>x</code> is a vector of correlations between the i(th) test sample and all training samples with the class in row j. 
</p>


<h3>Value</h3>

<p>The test sample classifications as a vector or a matrix of results by class.
</p>


<h3>Note</h3>

<p>If the <var>max</var> function is used for <code>func</code>, then the CCM is identical to a 1-nearest neighbor classifier with distance = 1 - r, where 'r' is the correlation (pearson or spearman) specified in the call to <code>create.CCM</code>  
</p>


<h3>Author(s)</h3>

<p>Garrett M. Dancik and Yuanbin Ru
</p>


<h3>See Also</h3>

<p><code>create.CCM</code>

</p>


<h3>Examples</h3>

<pre><code class="language-R">data(data.expr)
data(data.gender)

## split dataset into training / testing ##
train.expr = data.expr[,1:20]
test.expr = data.expr[,21:40]
train.gender = data.gender[1:20]
test.gender = data.gender[21:40]

## CCM using spearman correlation ##
K = create.CCM(test.expr, train.expr, method = "spearman")
## predict based on the class with the highest mean correlation (the default) ##
p = predict(K, train.gender)
table(pred = p, true = test.gender) # check accuracy

## CCM using pearson correlation ##
K = create.CCM(test.expr, train.expr, method = "pearson")
## predict based on the class with the maximum correlation
p = predict(K, train.gender, func = max)
table(pred = p, true = test.gender) # check accuracy
</code></pre>


</div>