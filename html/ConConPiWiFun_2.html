<div class="container">

<table style="width: 100%;"><tr>
<td>OptimPriceStorage</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Optimisation of storage operation with market prices taking into acount storage efficiency and network taxes. 
</h2>

<h3>Description</h3>

<p>Optimisation of storage operation with market prices taking into acount storage efficiency and network taxes. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">OptimPriceStorage(Prices,Pplus,Pmoins,Cplus,Cmoins=0,
                            efficiencyS=0,efficiencyP=efficiencyS,networkTax=0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Prices</code></td>
<td>
<p>A vector of prices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pplus</code></td>
<td>
<p>A value for the upper power constraint or a vector of values with the same size as Prices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pmoins</code></td>
<td>
<p>A value for the lower power constraint or a vector of values with the same size as Prices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cplus</code></td>
<td>
<p>A value for the upper capacity constraint or a vector of values with the same size as Prices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cmoins</code></td>
<td>
<p>A value for the lower capacity constraint or a vector of values with the same size as Prices</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efficiencyS</code></td>
<td>
<p>storage efficiency when storing electricity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>efficiencyP</code></td>
<td>
<p>storage efficiency when producing electricity</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>networkTax</code></td>
<td>
<p>networkTax</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>function OptimPriceStorage solves 
#             min_x sum_i=1^n Y_i*efficiencyP x_i*(x_i&lt;0)+(Y_i*efficiencyS +networkTax)*x_i*(x_i&gt;0)
#                   Pmoins_i&lt;=  x_i  			&lt;=Pplus_i 		i=1,...,n
#					Cmoins_i&lt;=	sum_j=1^i x_j	&lt;=Cplus_i 	i=1,...,n
</p>
<p>when efficiency=1 and networkTax=0 this gives
#             min_x sum_i=1^n Y_i x_i
#                   Pmoins_i&lt;=  x_i				&lt;=Pplus_i 		i=1,...,n
#					Cmoins_i&lt;=	sum_j=1^i x_j	&lt;=Cplus_i 	i=1,...,n
</p>


<h3>Value</h3>

<p>A list with
</p>
<table>
<tr style="vertical-align: top;">
<td><code>Operation </code></td>
<td>
<p>the optimal operation for each time step</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Revenue </code></td>
<td>
<p>the revenue for each time step</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>TODO 
</p>


<h3>Author(s)</h3>

<p>Robin Girard
</p>


<h3>References</h3>

<p>TODO
</p>


<h3>See Also</h3>

<p>to See Also <code>cplfunction</code> (method OptimMargInt that is more general)
</p>


<h3>Examples</h3>

<pre><code class="language-R">


n=8760
Prices=runif(n,1,100) ##uniform random prices in [1;100] in Euro/MWh
Pmax=1; Pmin=-1; Cmax=5; ## 1MW maximum  during 5 hours.
res=OptimPriceStorage(Prices,Pmax,Pmin,Cmax) # solving the optimization problem
sum(res$Revenue)## Revenue
res=OptimPriceStorage(Prices,Pmax,Pmin,Cmax,efficiencyS=0.8) # solving the optimization problem
sum(res$Revenue)## Revenue

</code></pre>


</div>