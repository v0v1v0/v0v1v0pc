<div class="container">

<table style="width: 100%;"><tr>
<td>dcm.design.cand</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Optimal fractional factorial design</h2>

<h3>Description</h3>

<p>Generate an optimal restricted fractional factorial design given
a pre-generated candidate set.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dcm.design.cand(cand, nb, sets, alts, fname=NULL, Rd=20, print=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cand</code></td>
<td>
<p>A data frame of columns representing factors in the design OR a tab-delimited file readable 
using <code>read.table(</code><em>filename</em><code>)</code>.<br>
If <code>cand</code> is not a data frame, an external file is assumed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nb</code></td>
<td>
<p>The number of blocks or versions in the final design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sets</code></td>
<td>
<p>The number of choice sets in <em>each version</em> of the final design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alts</code></td>
<td>
<p>The number of alternatives in each choice set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fname</code></td>
<td>
<p>A character string, usually ending in ".txt", indiciating the name of the file containing 
the levels-coded design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rd</code></td>
<td>
<p>The number of repeats used by the initial design and blocking algorithms. See arg 
<code>nRepeats</code> in <code>optFederov</code> and <code>optBlock</code> for additional details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>print</code></td>
<td>
<p>Boolean indicating whether there is output to the console during execution.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Generates balanced and blocked choice sets from a <em>pre-generated</em> candidate set. 
Typical use will involve (1) generating a full factorial candidate set (see <code>gen.factorial</code>), 
(2) manipulating levels as desired (e.g., adding restrictions) and,
(3) using the manipulated set as input into the function.
</p>
<p>Design optimization and blocking use the same algorithms as those in <code>dcm.design</code>.
</p>
<p>If <code>fname</code> is not <code>NULL</code> a tab-delimited plain-text file is generated in the working 
directory containing the levels-coded design.  
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>levels</code></td>
<td>
<p>A data frame consisting of the levels-coded design with blocks stacked in order. Variables for
card, version and task are appended.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effects</code></td>
<td>
<p>A list of the effects-coded, blocked design and diagnostics. See <code>optBlock</code> for
additional details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d.eff</code></td>
<td>
<p>A list containing <code>D</code> efficiency, the variance-covariance matrix, and parameter
standard deviations from the effects-coded design. See <code>dcm.design.effcy</code> for additional details.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Federov, V.V. (1972). <em>Theory of optimal experiments.</em> Academic Press, New York.
</p>
<p>Wheeler, R.E. (2004). <em>AlgDesign.</em> The R project for statistical computing.
(http://www.r-project.org).
</p>


<h3>See Also</h3>

<p><code>dcm.design</code>, <code>optFederov</code>, <code>optBlock</code></p>


<h3>Examples</h3>

<pre><code class="language-R">## generate full factorial candidate set
cand &lt;- gen.factorial(c(3,3,4), factors="all")

## restrict the candidate set so that level 3 in the first factor 
## cannot occur with level 1 in the second factor
remove.rows &lt;- which(cand[,1] == 3 &amp; cand[,2] == 1)
cand.restr &lt;- cand[-remove.rows,]

## generate the design from the restricted candidate set
## and check that no design rows violate the restriction
des &lt;- dcm.design.cand(cand.restr, 10, 6, 2)
which(des$levels[,4] == 3 &amp; des$levels[,5] == 1)
</code></pre>


</div>