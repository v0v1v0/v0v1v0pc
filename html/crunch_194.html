<div class="container">

<table style="width: 100%;"><tr>
<td>combine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Combine categories or responses</h2>

<h3>Description</h3>

<p>Crunch allows you to create a new categorical variable by combining
the categories of another variable. For instance, you might want to
recode a categorical variable with three categories small, medium, and large
to one that has just small and large.
</p>


<h3>Usage</h3>

<pre><code class="language-R">combine(variable, combinations = list(), ...)

combineCategories(variable, combinations = list(), ...)

combineResponses(variable, combinations = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>variable</code></td>
<td>
<p>Categorical, Categorical Array, or Multiple Response
variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>combinations</code></td>
<td>
<p>list of named lists containing
</p>

<ol>
<li>
<p> "categories": category ids or names for categorical types, or for multiple response,
"responses": subvariable names, aliases, or positional indices;
</p>
</li>
<li>
<p> a "name" for the new category or response; and
</p>
</li>
<li>
<p> optionally, other category ("missing", "numeric_value") or subvariable
("alias", "description") attributes. If <code>combinations</code> is omitted, the resulting variable will
essentially be a copy (but see <code>copy()</code> for a more natural way to copy variables.
</p>
</li>
</ol>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional variable metadata for the new derived variable</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Categorical and categorical array variables can have their
categories combined (by specifying <code>categories</code> in the <code>combinations</code>
argument). Multiple response variables can only have their responses (or
items) combined (by specifying <code>responses</code> in the <code>combinations</code> argument).
Categorical array items are not able to be combined together (even by
specifying <code>responses</code>).
</p>
<p><code>dplyr</code> users may experience a name conflict between <code>crunch::combine()</code> and
<code>dplyr:: combine()</code>. To avoid this, you can either explicitly use the
<code style="white-space: pre;">⁠crunch::⁠</code> prefix, or you can call <code>combineCategories()</code> and
<code>combineResponses()</code>, provided for disambiguation.
</p>


<h3>Value</h3>

<p>A <code>VariableDefinition</code> that will create the new combined-category or
-response derived variable. Categories/responses not referenced in <code>combinations</code> will be
appended to the end of the combinations.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
ds$fav_pet2 &lt;- combine(ds$fav_pet,
    name = "Pets (combined)",
    combinations = list(
        list(name = "Mammals", categories = c("Cat", "Dog")),
        list(name = "Reptiles", categories = c("Snake", "Lizard"))
    )
)
ds$pets_owned2 &lt;- combine(ds$allpets,
    name = "Pets owned (collapsed)",
    combinations = list(list(name = "Mammals", responses = c("Cat", "Dog")))
)

## End(Not run)
</code></pre>


</div>