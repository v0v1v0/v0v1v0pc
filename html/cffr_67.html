<div class="container">

<table style="width: 100%;"><tr>
<td>cff_write_bib</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Export <strong>R</strong> objects to different file types</h2>

<h3>Description</h3>

<p>Export <strong>R</strong> objects representing citations to specific file types:
</p>

<ul>
<li> <p><code>cff_write_bib()</code> creates a <code>.bib</code> file.
</p>
</li>
<li> <p><code>cff_write_citation()</code> creates a <strong>R</strong> citation file as explained in
Section 1.9 CITATION files of <em>Writing R Extensions</em> (R Core Team 2023).
</p>
</li>
</ul>
<h3>Usage</h3>

<pre><code class="language-R">cff_write_bib(
  x,
  file = tempfile(fileext = ".bib"),
  append = FALSE,
  verbose = TRUE,
  ascii = FALSE,
  ...
)

cff_write_citation(
  x,
  file = tempfile("CITATION_"),
  append = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>bibentry</code> or a <code>cff</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>Name of the file to be created. If <code>NULL</code> it would display the
lines to be written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>append</code></td>
<td>
<p>Whether to append the entries to an existing file or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Display informative messages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ascii</code></td>
<td>
<p>Whether to write the entries using ASCII characters only or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>

<p>Arguments passed on to <code>as_bibentry.cff</code>, <code>as_bibentry.cff_ref</code>, <code>as_bibentry.cff_ref_lst</code>
</p>

<dl>
<dt><code>what</code></dt>
<dd>
<p>Fields to extract from a full <code>cff</code> object. The value could be:
</p>

<ul>
<li> <p><code>preferred</code>: This would create a single entry with the main citation
info of the package (key <code>preferred-citation</code>).
</p>
</li>
<li> <p><code>references</code>: Extract all the entries of <code>references</code> key.
</p>
</li>
<li> <p><code>all</code>: A combination of the previous two options. This would extract
both the <code>preferred-citation</code> and the <code>references</code> key.
</p>
</li>
</ul>
<p>See <code>vignette("crosswalk", package = "cffr")</code>.</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>When <code>x</code> is a <code>cff</code> object it would be converted to <code>Bibtex</code> using
<code>toBibtex.cff()</code>.
</p>
<p>For security reasons, if the file already exists the function would create
a backup copy on the same directory.
</p>


<h3>Value</h3>

<p>Writes the corresponding file specified on the <code>file</code> parameter.
</p>


<h3>References</h3>


<ul><li>
<p> R Core Team (2023). <em>Writing R Extensions</em>.
<a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html">https://cran.r-project.org/doc/manuals/r-release/R-exts.html</a>
</p>
</li></ul>
<h3>See Also</h3>

<p><code>vignette("bibtex_cff", "cffr")</code>, <code>knitr::write_bib()</code> and the
following packages:
</p>

<ul>
<li> <p><a href="https://CRAN.R-project.org/package=bibtex"><span class="pkg">bibtex</span></a>.
</p>
</li>
<li> <p><a href="https://CRAN.R-project.org/package=RefManageR"><span class="pkg">RefManageR</span></a>
</p>
</li>
<li> <p><a href="https://CRAN.R-project.org/package=rbibutils"><span class="pkg">rbibutils</span></a>
</p>
</li>
</ul>
<p>Other functions for working with BibTeX format:
<code>as_bibentry()</code>,
<code>cff_read()</code>,
<code>cff_read_bib_text()</code>,
<code>encoded_utf_to_latex()</code>
</p>
<p>Other functions for creating external files:
<code>cff_write()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
bib &lt;- bibentry("Misc",
  title = "My title",
  author = "Fran PÃ©rez"
)

my_temp_bib &lt;- tempfile(fileext = ".bib")

cff_write_bib(bib, file = my_temp_bib)

cat(readLines(my_temp_bib), sep = "\n")

cff_write_bib(bib, file = my_temp_bib, ascii = TRUE, append = TRUE)

cat(readLines(my_temp_bib), sep = "\n")

# Create a CITATION file

# Use a system file
f &lt;- system.file("examples/preferred-citation-book.cff", package = "cffr")
a_cff &lt;- cff_read(f)

out &lt;- file.path(tempdir(), "CITATION")
cff_write_citation(a_cff, file = out)

# Check by reading, use meta object
meta &lt;- packageDescription("cffr")
meta$Encoding &lt;- "UTF-8"

utils::readCitationFile(out, meta)
</code></pre>


</div>