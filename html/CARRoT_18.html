<div class="container">

<table style="width: 100%;"><tr>
<td>regr_ind</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Indices of the best regressions</h2>

<h3>Description</h3>

<p>One of the two main functions of the package. Identifies the predictors included into regressions with the highest average predictive power
</p>


<h3>Usage</h3>

<pre><code class="language-R">regr_ind(
  vari,
  outi,
  crv,
  cutoff = NULL,
  part = 10,
  mode,
  cmode = "det",
  predm = "exact",
  objfun = "acc",
  parallel = FALSE,
  cores,
  minx = 1,
  maxx = NULL,
  nr = NULL,
  maxw = NULL,
  st = NULL,
  rule = 10,
  corr = 1,
  Rsq = F,
  marg = 0
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vari</code></td>
<td>
<p>set of predictors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outi</code></td>
<td>
<p>array of outcomes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crv</code></td>
<td>
<p>number of cross-validations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>cut-off value for mode <code>'binary'</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>part</code></td>
<td>
<p>for each cross-validation partitions the dataset into training and test set in a proportion <code>(part-1):part</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p><code>'binary'</code> (logistic regression), <code>'multin'</code> (multinomial regression)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cmode</code></td>
<td>
<p><code>'det'</code> or <code>''</code>; <code>'det'</code> always predicts the more likely outcome as determined by the odds ratio; <code>''</code> predicts certain outcome with probability corresponding to its odds ratio (more conservative). Option available for multinomial/logistic regression</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predm</code></td>
<td>
<p><code>'exact'</code> or <code>''</code>; for logistic and multinomial regression; <code>'exact'</code> computes how many times the exact outcome category was predicted, <code>''</code> computes how many times either the exact outcome category or its nearest neighbour was predicted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>objfun</code></td>
<td>
<p><code>'roc'</code> for maximising the predictive power with respect to AUC, available only for <code>mode='binary'</code>; <code>'acc'</code> for maximising predictive power with respect to accuracy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>TRUE if using parallel toolbox, FALSE if not. Defaults to FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>number of cores to use in case of parallel=TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minx</code></td>
<td>
<p>minimum number of predictors to be included in a regression, defaults to 1</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxx</code></td>
<td>
<p>maximum number of predictors to be included in a regression, defaults to maximum feasible number according to one in ten rule</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nr</code></td>
<td>
<p>a subset of the data-set, such that <code>1/part</code> of it lies in the test set and <code>1-1/part</code> is in the training set, defaults to empty set. This is to ensure that elements of this subset are included both in the training and in the test set.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxw</code></td>
<td>
<p>maximum weight of predictors to be included in a regression, defaults to maximum weight according to one in ten rule</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>st</code></td>
<td>
<p>a subset of predictors to be always included into a predictive model,defaults to empty set</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rule</code></td>
<td>
<p>an Events per Variable (EPV) rule, defaults to 10'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>corr</code></td>
<td>
<p>maximum correlation between a pair of predictors in a model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Rsq</code></td>
<td>
<p>whether the R-squared statistics constraint is introduced</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>marg</code></td>
<td>
<p>margin of error for R-squared statistics constraint</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Prints the best predictive power provided by a regression, predictive accuracy of the empirical prediction (value of <code>emp</code> computed by <code>cross_val</code> for logistic and linear regression). Returns indices of the predictors included into regressions with the highest predictive power written in a list. For <code>mode='linear'</code> outputs a list of two lists. First list corresponds to the smallest absolute error, second corresponds to the smallest relative error
</p>


<h3>See Also</h3>

<p>Uses <code>compute_weights</code>, <code>make_numeric</code>, <code>compute_max_weight</code>, <code>compute_weights</code>, <code>compute_max_length</code>, <code>cross_val</code>,<code>av_out</code>, <code>get_indices</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">#creating variables for linear regression mode

variables_lin&lt;-matrix(c(rnorm(56,0,1),rnorm(56,1,2)),ncol=2)

#creating outcomes for linear regression mode

outcomes_lin&lt;-rnorm(56,2,1)

#running the function

regr_ind(variables_lin,outcomes_lin,100,mode='linear',parallel=TRUE,cores=2)

#creating variables for binary mode

vari&lt;-matrix(c(1:100,seq(1,300,3)),ncol=2)

#creating outcomes for binary mode

out&lt;-rbinom(100,1,0.3)

#running the function

regr_ind(vari,out,20,cutoff=0.5,part=10,mode='binary',parallel=TRUE,cores=2,nr=c(1,10,20),maxx=1)
</code></pre>


</div>