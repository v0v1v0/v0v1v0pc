<div class="container">

<table style="width: 100%;"><tr>
<td>qqGraph.cgOneFactorFit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Quantile-Quantile (QQ) Graphs of a cgOneFactorFit object
</h2>

<h3>Description</h3>

<p>Create a Q-Q Gaussian graph of the residuals of a cgOneFactorFit object
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'cgOneFactorFit'
qqGraph(fit, line=NULL, cgtheme = TRUE, device = "single", ...)  
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit </code></td>
<td>

<p>A fit object of class <code>cgOneFactorFit</code>. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line </code></td>
<td>

<p>Add a line through the estimated 25th and 75th percentiles.
When set to the default <code>NULL</code>, the addition
of a line depends on the following: When there is no censored
data, the line will be added with the <code>qqline</code> algorithm.
If any censored data residuals are present, no line is added unless
<code>line=TRUE</code> is explicitly specified below.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cgtheme </code></td>
<td>

<p>When set to the default <code>TRUE</code>, ensures a trellis device is active with
limited color scheme. Namely, <code>background</code>,
<code>strip.shingle</code>, and <code>strip.background</code> are each set to <code>"white"</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>device </code></td>
<td>
<p>Can be one of three values:
</p>

<dl>
<dt><code>"single"</code></dt>
<dd>
<p>The default, which will put all graphs on the same
device page. For example, when resistant &amp; robust and classical
least squares are present and <code>model="both"</code> (the default),
a 2 x 1 paneled graph will be created.</p>
</dd>
<dt><code>"multiple"</code></dt>
<dd>
<p>Relevant only when resistant &amp; robust and classical
least squares are present and <code>model="both"</code> (the default) or 
<code>model="extended"</code>. In
those cases, a new graphics device is generated to hold the resistant &amp; robust
version, as a single-paneled graph, 
and the classical least squares version is on the previous device.
If <code>model="extended"</code>, then
a second new graphics device is generated to hold the unweighted
resistant &amp; robust residuals, as another single-paneled graph.</p>
</dd>
<dt><code>"ask"</code></dt>
<dd>
<p>Relevant only when resistant &amp; robust and classical
least squares are present and <code>model="both"</code> (the default) or
<code>model="extended"</code>. In
that case, each are portrayed as a single-paneled graph, with the
<code>ask=TRUE</code> argument specified in <code>par</code> so that
the user input confirmation is needed before the graphs are
drawn.
</p>
</dd>
</dl>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>

<p>Additional arguments. One is currently valid: 
</p>

<dl>
<dt>
<code>model</code> </dt>
<dd>
<p>For <code>cgOneFactorFit</code> <code>fit</code> objects that have 
classical least squares <code>lm()</code> or resistant &amp; robust
<code>rlm()</code> fits, the following argument values are possible:
</p>

<dl>
<dt><code>"both"</code></dt>
<dd>
<p>Q-Q graphs of the residuals from both the ordinary 
classical least squares and resistant &amp; robust fits are
plotted. This is the default when both fits are present in
the <code>cgOneFactorFit</code> object specified in the <code>fit</code>
argument. If the resistant &amp; robust fit is not available,
this value is not relevant.
</p>
</dd>
<dt><code>"olsonly"</code></dt>
<dd>
<p>Only a Q-Q graph of the residuals from
the ordinary 
classical least squares <code>olsfit</code> fit is performed.
</p>
</dd>
<dt>
<code>"rronly"</code> or <code>"rrwtdonly"</code>
</dt>
<dd>
<p>Only a Q-Q graph of the 
weighted residuals from 
the resistant and
robust <code>rrfit</code> fit is plotted.
</p>
</dd>
<dt><code>"rrunwtdonly"</code></dt>
<dd>
<p>Only a Q-Q graph of the unweighted 
residuals from 
the resistant and
robust <code>rrfit</code> fit is plotted.
</p>
</dd>
</dl>
<p>For other possible <code>cgOneFactorFit</code> fit slots such as
accelerated failure time or unequal variance models, the <code>model</code>
argument is not relevant, and the appropriate Q-Q graph will
be plotted for these model types.
</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For censored data residuals, left-censored values are shown as a shallow "V",
which is actually just a rotated downward "&lt;" sign. Similarly, right-censored
values are shown as a deeper "^", which is a rotated upwared "&gt;" sign.
</p>
<p>For the <code>line</code> argument, an added line when censored data residuals
are present needs to be interpreted very cautiously. If "too many"
censored data values are present, the line will appear nonsensical if
indeed it can even be estimated with 25th and 75th percentiles in the
presence of the the censored data residuals. These percentiles are
estimated via the Kaplan-Meier method as proposed by Gentleman and Crowley
(1991), with the <span class="pkg">survival</span>::<code>survfit</code> function.
</p>
<p>The heading for the graph is taken from the <code>cgOneFactorData</code> object,
which <code>prepareCGOneFactorData</code> sets from its <code>analysisname</code> 
argument.
</p>
<p>The label for the Y-axis of residuals is derived from the <code>cgOneFactorData</code> object,
which <code>prepareCGOneFactorData</code> sets from its <code>endptname</code> 
argument.
</p>
<p>The number of decimal places printed in the ticks on the Y-axis is taken
from the <code>cgOneFactorData</code> object,
which <code>prepareCGOneFactorData</code> sets from its <code>digits</code> 
argument.
</p>
<p>The minimum and maximum values from the range of the residuals are
respectively labeled in the bottom and top left corners of the graph region.
</p>


<h3>Value</h3>

<p><code>qqGraph.cgOneFactorFit</code> returns
an invisible <code>NULL</code>. The main purpose is the side
effect of graphing to the current device.
</p>


<h3>Note</h3>

<p>Contact <a href="mailto:cg@billpikounis.net">cg@billpikounis.net</a> for bug reports, questions,
concerns, and comments. 
</p>


<h3>Author(s)</h3>

<p>Bill Pikounis [aut, cre, cph], John Oleynick [aut], Eva Ye [ctb]
</p>


<h3>References</h3>

<p>Gentleman, R.C. and Crowley, J. (1991).  "Graphical Methods for Censored
Data", <em>Journal of the American Statistical Association</em>, Volume
86, 678-683.
</p>


<h3>See Also</h3>

<p><code>qqline</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(canine)
canine.data &lt;- prepareCGOneFactorData(canine, format="groupcolumns",
                                      analysisname="Canine",
                                      endptname="Prostate Volume",
                                      endptunits=expression(plain(cm)^3),
                                      digits=1, logscale=TRUE, refgrp="CC")
canine.fit &lt;- fit(canine.data)

qqGraph(canine.fit)

qqGraph(canine.fit, model="olsonly")

</code></pre>


</div>