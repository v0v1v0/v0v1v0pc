<div class="container">

<table style="width: 100%;"><tr>
<td>ipt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Isometric planar transform</h2>

<h3>Description</h3>

<p>Compute the isometric planar  transform of a (dataset of)
composition(s) and its inverse.
</p>


<h3>Usage</h3>

<pre><code class="language-R">          ipt( x , V = ilrBase(x),... )
          iptInv( z , V = ilrBase(z=z),...,orig=gsi.orig(z))
          uciptInv( z , V = ilrBase(z=z),...,orig=gsi.orig(z) )
          </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a composition or a data matrix of compositions, not necessarily closed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>the ipt-transform of a composition or a data matrix of
ipt-transforms of compositions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>
<p>a matrix with columns giving the chosen basis of the clr-plane</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>generic arguments. not used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orig</code></td>
<td>
<p>a compositional object which should be mimicked 
by the inverse transformation. It is especially used to
reconstruct the names of the parts.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The ipt-transform maps a composition in the D-part real-simplex
isometrically to a D-1 dimensonal euclidian vector. Although the
transformation does not reach the whole <code class="reqn">R^{D-1}</code>, resulting covariance
matrices are typically of full rank.
<br> 
The data can then
be analysed in this transformation by all classical multivariate
analysis tools. However, interpretation of results may be
difficult, since the
transform does not keep the variable names, given that there is no
one-to-one relation between the original parts and each transformed variables. See
<code>cpt</code> and <code>apt</code> for alternatives. <br></p>
<p>The isometric planar transform is given by
</p>
<p style="text-align: center;"><code class="reqn"> ipt(x) := V^t cpt(x)  </code>
</p>

<p>with <code>cpt</code>(x) the centred planar transform and
<code class="reqn">V\in R^{d \times (d-1)}</code> a matrix which columns form an orthonormal 
basis of the clr-plane. A default matrix <code class="reqn">V</code> is given by
<code>ilrBase(<var>D</var>)</code>
</p>


<h3>Value</h3>

<p><code>ipt</code> gives the centered planar transform,
<code>iptInv</code> gives closed compositions with with the given ipt-transforms,
<code>uciptInv</code> unconstrained iptInv does the same as iptInv but
sets illegal values to NA rather than giving an error. This is a
workaround to allow procedures not honoring the constraints of the
space.  
</p>


<h3>Author(s)</h3>

<p>K.Gerald v.d. Boogaart <a href="http://www.stat.boogaart.de">http://www.stat.boogaart.de</a></p>


<h3>References</h3>

<p>van den Boogaart, K.G. and R. Tolosana-Delgado (2008) "compositions": a unified 
R package to analyze Compositional Data, <em>Computers &amp;
Geosciences</em>, 34 (4), pages 320-338, doi: <a href="https://doi.org/10.1016/j.cageo.2006.11.017">10.1016/j.cageo.2006.11.017</a>.
</p>


<h3>See Also</h3>

<p><code>ilr</code>,<code>ilrBase</code>, <code>cpt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">(tmp &lt;- ipt(c(1,2,3)))
iptInv(tmp)
iptInv(tmp) - clo(c(1,2,3)) # 0
data(Hydrochem)
cdata &lt;- Hydrochem[,6:19]
pairs(ipt(cdata)) 
</code></pre>


</div>