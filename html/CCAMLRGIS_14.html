<div class="container">

<table style="width: 100%;"><tr>
<td>create_CircularArrow</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create Circular Arrow</h2>

<h3>Description</h3>

<p>Create one or multiple arrows on an elliptical path, or a custom path (using <code>Input</code>).
This function uses <code>create_Arrow</code> and <code>create_Ellipse</code>.
Defaults are set for a simplified Weddell Sea gyre.
</p>


<h3>Usage</h3>

<pre><code class="language-R">create_CircularArrow(
  Latc = -67,
  Lonc = -30,
  Lmaj = 800,
  Lmin = 500,
  Ang = 140,
  Npe = 100,
  dir = "cw",
  Narr = 1,
  Spc = 0,
  Stp = 0,
  Npa = 50,
  Pwidth = 5,
  Hlength = 15,
  Hwidth = 10,
  dlength = 0,
  Atype = "normal",
  Acol = "green",
  Atrans = 0,
  yx = FALSE,
  Input = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Latc</code></td>
<td>
<p>numeric, latitude of the ellipse centre in decimal degrees, or Y projected 
coordinate if <code>yx</code> is set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Lonc</code></td>
<td>
<p>numeric, longitude of the ellipse centre in decimal degrees, or X projected 
coordinate if <code>yx</code> is set to <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Lmaj</code></td>
<td>
<p>numeric, length of major axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Lmin</code></td>
<td>
<p>numeric, length of minor axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ang</code></td>
<td>
<p>numeric, angle of rotation (0-360).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Npe</code></td>
<td>
<p>integer, number of points on the ellipse.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir</code></td>
<td>
<p>character, direction along the ellipse, either <code>"cw"</code> (clockwise)
or <code>"ccw"</code> (counterclockwise).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Narr</code></td>
<td>
<p>integer, number of arrows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Spc</code></td>
<td>
<p>integer, spacing between arrows, or length of single arrow.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Stp</code></td>
<td>
<p>numeric, starting point of an arrow on the ellipse (0 to 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Npa</code></td>
<td>
<p>integer, number of points to build the path of the arrow.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Pwidth</code></td>
<td>
<p>numeric, width of the arrow's path.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Hlength</code></td>
<td>
<p>numeric, length of the arrow's head.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Hwidth</code></td>
<td>
<p>numeric, width of the arrow's head.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dlength</code></td>
<td>
<p>numeric, length of dashes for dashed arrows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Atype</code></td>
<td>
<p>character, arrow type either "normal" or "dashed". A normal arrow is a single polygon,
with a single color (set by <code>Acol</code>) and transparency (set by <code>Atrans</code>). A dashed arrow
is a series of polygons which can be colored separately by setting two or more values as
<code>Acol=c("color start","color end")</code> and two or more transparency values as
<code>Atrans=c("transparency start","transparency end")</code>. The length of dashes is controlled
by <code>dlength</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Acol</code></td>
<td>
<p>Color of the arrow, see <code>Atype</code> above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Atrans</code></td>
<td>
<p>Numeric, transparency of the arrow, see <code>Atype</code> above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yx</code></td>
<td>
<p>Logical, if set to <code>TRUE</code> the input coordinates are projected.
Give Y in the first column, X in the second.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Input</code></td>
<td>
<p>Either <code>NULL</code>, or a projected spatial object to control the arrow's
path (see examples).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Spatial object in your environment.
</p>


<h3>See Also</h3>

<p><code>create_Ellipse</code>, <code>create_Arrow</code>, <code>create_Polys</code>,
<code>add_Legend</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# For more examples, see:
# https://github.com/ccamlr/CCAMLRGIS#27-create-circular-arrow

#Example 1
Arr=create_CircularArrow()

terra::plot(SmallBathy(),xlim=c(-3e6,0),ylim=c(0,3e6),breaks=Depth_cuts,
            col=Depth_cols,axes=FALSE,box=FALSE,legend=FALSE,main="Example 1")
plot(st_geometry(Coast[Coast$ID=='All',]),col='grey',add=TRUE)
plot(st_geometry(Arr),col=Arr$col,border=NA,add=TRUE)


#Example 2
Arr=create_CircularArrow(Narr=2,Spc=5)

terra::plot(SmallBathy(),xlim=c(-3e6,0),ylim=c(0,3e6),breaks=Depth_cuts,
            col=Depth_cols,axes=FALSE,box=FALSE,legend=FALSE,main="Example 2")
plot(st_geometry(Coast[Coast$ID=='All',]),col='grey',add=TRUE)
plot(st_geometry(Arr),col=Arr$col,border=NA,add=TRUE)


#Example 3
Arr=create_CircularArrow(Narr=10,Spc=-4,Hwidth=15,Hlength=20)

terra::plot(SmallBathy(),xlim=c(-3e6,0),ylim=c(0,3e6),breaks=Depth_cuts,
            col=Depth_cols,axes=FALSE,box=FALSE,legend=FALSE,main="Example 3")
plot(st_geometry(Coast[Coast$ID=='All',]),col='grey',add=TRUE)
plot(st_geometry(Arr),col=Arr$col,border=NA,add=TRUE)


#Example 4
Arr=create_CircularArrow(Narr=8,Spc=-2,Npa=200,Acol=c("red","orange","green"),
                         Atrans = c(0,0.9,0),Atype = "dashed")

terra::plot(SmallBathy(),xlim=c(-3e6,0),ylim=c(0,3e6),breaks=Depth_cuts,
            col=Depth_cols,axes=FALSE,box=FALSE,legend=FALSE,main="Example 4")
plot(st_geometry(Coast[Coast$ID=='All',]),col='grey',add=TRUE)
plot(st_geometry(Arr),col=Arr$col,border=NA,add=TRUE)


#Example 5 Path around two ellipses
El1=create_Ellipse(Latc=-61,Lonc=-50,Lmaj=500,Lmin=250,Ang=120)
El2=create_Ellipse(Latc=-68,Lonc=-57,Lmaj=400,Lmin=200,Ang=35)
#Merge ellipses and take convex hull
El=st_union(st_geometry(El1),st_geometry(El2))
El=st_convex_hull(El)
El=st_segmentize(El,dfMaxLength = 10000)
#Go counterclockwise if desired:
#El=st_coordinates(El)
#El=st_polygon(list(El[nrow(El):1,])) 

Arr=create_CircularArrow(Narr=10,Spc=3,Npa=200,Acol=c("green","darkgreen"),
                         Atype = "dashed",Input=El)

terra::plot(SmallBathy(),xlim=c(-3e6,0),ylim=c(0,3e6),breaks=Depth_cuts,
            col=Depth_cols,axes=FALSE,box=FALSE,legend=FALSE,main="Example 5")
plot(st_geometry(Coast[Coast$ID=='All',]),col='grey',add=TRUE)
plot(st_geometry(Arr),col=Arr$col,border=NA,add=TRUE)




</code></pre>


</div>