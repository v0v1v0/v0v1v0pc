<div class="container">

<table style="width: 100%;"><tr>
<td>cube-computing</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Work with CrunchCubes, MultitableResults, and TabBookResults</h2>

<h3>Description</h3>

<p>These functions provide an interface like <code>base::margin.table()</code> and
<code>base::prop.table()</code> for the CrunchCube object. CrunchCubes
contain richer metadata than standard R <code>array</code> objects, and they also conceal certain
complexity in the data structures from the user. In particular,
multiple-response variables are generally represented as single dimensions in
result tables, but in the actual data, they may comprise two dimensions.
These methods understand the subtleties in the Crunch data types and
correctly compute margins and percentages off of them.
</p>


<h3>Usage</h3>

<pre><code class="language-R">margin.table(x, margin = NULL)

prop.table(x, margin = NULL)

bases(x, margin = NULL)

## S4 method for signature 'CrunchCube'
prop.table(x, margin = NULL)

## S4 method for signature 'CrunchCube'
round(x, digits = 0)

## S4 method for signature 'CrunchCube'
bases(x, margin = NULL)

## S4 method for signature 'CrunchCube'
margin.table(x, margin = NULL)

## S4 method for signature 'MultitableResult'
prop.table(x, margin = NULL)

## S4 method for signature 'TabBookResult'
prop.table(x, margin = NULL)

## S4 method for signature 'TabBookResult'
bases(x, margin = NULL)

## S4 method for signature 'MultitableResult'
bases(x, margin = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a CrunchCube</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>index, or vector of indices to generate margin for. See
<code>base::prop.table()</code>. <code>bases()</code> accepts <code>0</code> as an additional
valid value for <code>margin</code>, which yields the unweighted counts for the query.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>For <code>round</code>, the number of decimal places to round to. See
<code>base::round()</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions also generalize to MultitableResults and TabBookResults,
which are returned from a <code>tabBook()</code> request. When called on one of those
objects, they effectively apply over each CrunchCube contained in them.
</p>
<p><code>bases</code> is an additional method for CrunchCubes. When making weighted
requests, <code>bases</code> allows you to access the unweighted counts for every cell
in the resulting table (array). The <code>bases</code> function takes a "margin"
argument to work like <code>margin.table</code>, or with <code>margin=0</code> gives all cell
counts.
</p>


<h3>Value</h3>

<p>When called on CrunchCubes, these functions return an <code>array</code>.
Calling prop.table on a MultitableResult returns a list of prop.tables of
the CrunchCubes it contains. Likewise, prop.table on a TabBookResult
returns a list of lists of prop.tables.
</p>


<h3>See Also</h3>

<p><code>margin.table()</code> <code>prop.table()</code>
</p>


</div>