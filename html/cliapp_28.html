<div class="container">

<table style="width: 100%;"><tr>
<td>themes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>CLI themes</h2>

<h3>Description</h3>

<p>CLI elements can be styled via a CSS-like language of selectors and
properties. Note that while most of the CSS3 language is supported,
a lot visual properties cannot be implemented on a terminal, so these
will be ignored.
</p>


<h3>Adding themes</h3>

<p>The style of an element is calculated from themes from four sources.
These form a stack, and the styles on the top of the stack take
precedence, over styles in the bottom.
</p>

<ol>
<li>
<p> The cliapp package has a builtin theme. This is always active.
See <code>builtin_theme()</code>.
</p>
</li>
<li>
<p> When an app object is created via <code>start_app()</code>, the caller can
specify a theme, that is added to theme stack. If no theme is
specified for <code>start_app()</code>, the content of the <code>cli.theme</code> option
is used. Removed when the corresponding app stops.
</p>
</li>
<li>
<p> The user may speficy a theme in the <code>cli.user_theme</code> option. This
is added to the stack <em>after</em> the app's theme (step 2.), so it can
override its settings. Removed when the app that added it stops.
</p>
</li>
<li>
<p> Themes specified explicitly in <code>cli_div()</code> elements. These are
removed from the theme stack, when the corresponding <code>cli_div()</code>
elements are closed.
</p>
</li>
</ol>
<h3>Writing themes</h3>

<p>A theme is a named list of lists. The name of each entry is a CSS
selector. Most features of CSS selectors are supported here:, for a
complete reference, see the selectr package.
</p>
<p>The content of a theme list entry is another named list, where the
names are CSS properties, e.g. <code>color</code>, or <code>font-weight</code> or
<code>margin-left</code>, and the list entries themselves define the values of
the properties. See <code>builtin_theme()</code> and <code>simple_theme()</code> for examples.
</p>


<h3>CSS pseudo elements</h3>

<p>Currently only the <code style="white-space: pre;">⁠::before⁠</code> and <code style="white-space: pre;">⁠::after⁠</code> pseudo elements are
supported.
</p>


<h3>Formatter callbacks</h3>

<p>For flexibility, themes may also define formatter functions, with
property name <code>fmt</code>. These will be called once the other styles are
applied to an element. They are only called on elements that produce
output, i.e. <em>not</em> on container elements.
</p>


<h3>Supported properties</h3>

<p>Right now only a limited set of properties are supported. These include
left, right, top and bottom margins, background and foreground colors,
bold and italic fonts, underlined text. The <code>content</code> property is
supported to insert text via <code style="white-space: pre;">⁠::before⁠</code> and <code style="white-space: pre;">⁠::after⁠</code> selectors.
</p>
<p>More properties might be adder later.
</p>
<p>Please see the example themes and the source code for now for the
details.
</p>


<h3>Examples</h3>

<p>Color of headers, that are only active in paragraphs with an
'output' class:
</p>
<div class="sourceCode"><pre>list(
  "par.output h1" = list("background-color" = "red", color = "#e0e0e0"),
  "par.output h2" = list("background-color" = "orange", color = "#e0e0e0"),
  "par.output h3" = list("background-color" = "blue", color = "#e0e0e0")
)
</pre></div>
<p>Create a custom alert type:
</p>
<div class="sourceCode"><pre>list(
  ".alert-start::before" = list(content = symbol$play),
  ".alert-stop::before"  = list(content = symbol$stop)
)
</pre></div>


</div>