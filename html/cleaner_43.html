<div class="container">

<table style="width: 100%;"><tr>
<td>freq</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Frequency table</h2>

<h3>Description</h3>

<p>Create a frequency table of a <code>vector</code> or a <code>data.frame</code>. It supports tidyverse's quasiquotation and RMarkdown for reports. Easiest practice is: <code>data %&gt;% freq(var)</code> using the <a href="https://magrittr.tidyverse.org/#usage">tidyverse</a>.
</p>
<p><code>top_freq</code> can be used to get the top/bottom <em>n</em> items of a frequency table, with counts as names. It respects ties.
</p>


<h3>Usage</h3>

<pre><code class="language-R">freq(x, ...)

## Default S3 method:
freq(
  x,
  sort.count = TRUE,
  nmax = getOption("max.print.freq"),
  na.rm = TRUE,
  row.names = TRUE,
  markdown = !interactive(),
  digits = 2,
  quote = NULL,
  header = TRUE,
  title = NULL,
  na = "&lt;NA&gt;",
  sep = " ",
  decimal.mark = getOption("OutDec"),
  big.mark = "",
  wt = NULL,
  ...
)

## S3 method for class 'factor'
freq(x, ..., droplevels = FALSE)

## S3 method for class 'matrix'
freq(x, ..., quote = FALSE)

## S3 method for class 'table'
freq(x, ..., sep = " ")

## S3 method for class 'numeric'
freq(x, ..., digits = 2)

## S3 method for class 'Date'
freq(x, ..., format = "yyyy-mm-dd")

## S3 method for class 'hms'
freq(x, ..., format = "HH:MM:SS")

is.freq(f)

top_freq(f, n)

header(f, property = NULL)

## S3 method for class 'freq'
print(
  x,
  nmax = getOption("max.print.freq", default = 10),
  markdown = !interactive(),
  header = TRUE,
  decimal.mark = getOption("OutDec"),
  big.mark = ifelse(decimal.mark != ",", ",", "."),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>vector of any class or a <code>data.frame</code> or <code>table</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>up to nine different columns of <code>x</code> when <code>x</code> is a <code>data.frame</code> or <code>tibble</code>, to calculate frequencies from - see Examples. Also supports quasiquotion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort.count</code></td>
<td>
<p>sort on count, i.e. frequencies. This will be <code>TRUE</code> at default for everything except when using grouping variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmax</code></td>
<td>
<p>number of row to print. The default, <code>10</code>, uses <code>getOption("max.print.freq")</code>. Use <code>nmax = 0</code>, <code>nmax = Inf</code>, <code>nmax = NULL</code> or <code>nmax = NA</code> to print all rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>a logical value indicating whether <code>NA</code> values should be removed from the frequency table. The header (if set) will always print the amount of <code>NA</code>s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names</code></td>
<td>
<p>a logical value indicating whether row indices should be printed as <code>1:nrow(x)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>markdown</code></td>
<td>
<p>a logical value indicating whether the frequency table should be printed in markdown format. This will print all rows (except when <code>nmax</code> is defined) and is default behaviour in non-interactive R sessions (like when knitting RMarkdown files).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>how many significant digits are to be used for numeric values in the header (not for the items themselves, that depends on <code>getOption("digits")</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quote</code></td>
<td>
<p>a logical value indicating whether or not strings should be printed with surrounding quotes. Default is to print them only around characters that are actually numeric values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>a logical value indicating whether an informative header should be printed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>text to show above frequency table, at default to tries to coerce from the variables passed to <code>x</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na</code></td>
<td>
<p>a character string that should be used to show empty (<code>NA</code>) values (only useful when <code>na.rm = FALSE</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sep</code></td>
<td>
<p>a character string to separate the terms when selecting multiple columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>decimal.mark</code></td>
<td>
<p>the character to be used to indicate the numeric decimal point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>big.mark</code></td>
<td>
<p>character; if not empty used as mark between every 'big.interval' decimals <em>before</em> (hence big) the decimal point</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wt</code></td>
<td>
<p>frequency weights. If a variable, computes <code>sum(wt)</code> instead of counting the rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>droplevels</code></td>
<td>
<p>a logical value indicating whether in factors empty levels should be dropped</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>a character to define the printing format (it supports <code>format_datetime</code> to transform e.g. <code>"d mmmm yyyy"</code> to <code>"%e %B %Y"</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>a frequency table</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of top <em>n</em> items to return, use -n for the bottom <em>n</em> items. It will include more than <code>n</code> rows if there are ties.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>property</code></td>
<td>
<p>property in header to return this value directly</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Frequency tables (or frequency distributions) are summaries of the distribution of values in a sample. With the 'freq' function, you can create univariate frequency tables. Multiple variables will be pasted into one variable, so it forces a univariate distribution. 
</p>
<p>Input can be done in many different ways. Base R methods are:
</p>
<pre>
freq(df$variable)
freq(df[, "variable"])
</pre>
<p>Tidyverse methods are:
</p>
<pre>
df$variable %&gt;% freq()
df[, "variable"] %&gt;% freq()
df %&gt;% freq("variable")
df %&gt;% freq(variable)
</pre>
<p>For numeric values of any class, these additional values will all be calculated with <code>na.rm = TRUE</code> and shown into the header:
</p>

<ul>
<li>
<p>Mean, using <code>mean</code>
</p>
</li>
<li>
<p>Standard Deviation, using <code>sd</code>
</p>
</li>
<li>
<p>Coefficient of Variation (CV), the standard deviation divided by the mean
</p>
</li>
<li>
<p>Mean Absolute Deviation (MAD), using <code>mad</code>
</p>
</li>
<li>
<p>Tukey Five-Number Summaries (minimum, Q1, median, Q3, maximum), see <em>NOTE</em> below
</p>
</li>
<li>
<p>Interquartile Range (IQR) calculated as <code>Q3 - Q1</code>, see <em>NOTE</em> below
</p>
</li>
<li>
<p>Coefficient of Quartile Variation (CQV, sometimes called coefficient of dispersion) calculated as <code>(Q3 - Q1) / (Q3 + Q1)</code>, see <em>NOTE</em> below
</p>
</li>
<li>
<p>Outliers (total count and percentage), using <code>boxplot.stats</code>
</p>
</li>
</ul>
<p><em>NOTE</em>: These values are calculated using the same algorithm as used by Minitab and SPSS: <em>p[k] = E[F(x[k])]</em>. See Type 6 on the <code>quantile</code> page.
</p>
<p>For dates and times of any class, these additional values will be calculated with <code>na.rm = TRUE</code> and shown into the header:
</p>

<ul>
<li>
<p>Oldest, using <code>min</code>
</p>
</li>
<li>
<p>Newest, using <code>max</code>, with difference between newest and oldest
</p>
</li>
</ul>
<p>In factors, all factor levels that are not existing in the input data will be dropped at default.
</p>
<p>The function <code>top_freq</code> will include more than <code>n</code> rows if there are ties. Use a negative number for <em>n</em> (like <code>n = -3</code>) to select the bottom <em>n</em> values.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> (with an additional class <code>"freq"</code>) with five columns: <code>item</code>, <code>count</code>, <code>percent</code>, <code>cum_count</code> and <code>cum_percent</code>.
</p>


<h3>Extending the <code>freq()</code> function</h3>

<p>Interested in extending the <code>freq()</code> function with your own class? Add a method like below to your package, and optionally define some header info by passing a <code>list</code> to the <code>.add_header</code> parameter, like below example for class <code>difftime</code>. This example assumes that you use the <code>roxygen2</code> package for package development.
</p>
<pre>
#' @method freq difftime
#' @importFrom cleaner freq.default
#' @export
#' @noRd
freq.difftime &lt;- function(x, ...) {
  freq.default(x = x, ...,
               .add_header = list(units = attributes(x)$units))
}
</pre>
<p>Be sure to call <code>freq.default</code> in your function and not just <code>freq</code>. Also, add <code>cleaner</code> to the <code>Imports:</code> field of your <code>DESCRIPTION</code> file, to make sure that it will be installed with your package, e.g.:
</p>
<pre>
Imports: cleaner
</pre>


<h3>Examples</h3>

<pre><code class="language-R">freq(unclean$gender, markdown = FALSE)

freq(x = clean_factor(unclean$gender, 
                      levels = c("^m" = "Male", 
                                 "^f" = "Female")),
     markdown = TRUE,
     title = "Frequencies of a cleaned version for a markdown report!",
     header = FALSE,
     quote = TRUE)
</code></pre>


</div>