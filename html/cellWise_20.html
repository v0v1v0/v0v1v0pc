<div class="container">

<table style="width: 100%;"><tr>
<td>generateData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Generates artificial datasets with outliers
</h2>

<h3>Description</h3>

<p>This function generates multivariate normal datasets with several possible types of outliers.
It is used in several simulation studies. For a detailed description, see the referenced papers.
</p>


<h3>Usage</h3>

<pre><code class="language-R">generateData(n, d, mu, Sigma, perout, gamma,
             outlierType = "casewise", seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>The number of observations
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>The dimension of the data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>The center of the clean data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Sigma</code></td>
<td>
<p>The covariance matrix of the clean data. Could be obtained from <code>generateCorMat</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlierType</code></td>
<td>
<p>The type of contamination to be generated. Should be one of:
</p>

<ul>
<li> <p><code>"casewise"</code>: Generates point contamination in the direction of the last eigenvector of <code>Sigma</code>.
</p>
</li>
<li> <p><code>"cellwisePlain"</code>: Generates cellwise contamination by randomly replacing a number of cells by <code>gamma</code>.
</p>
</li>
<li> <p><code>"cellwiseStructured"</code>: Generates cellwise contamination by first randomly sampling contaminated cells, after which for each row, they are replaced by a multiple of the smallest eigenvector of <code>Sigma</code> restricted to the dimensions of the contaminated cells.
</p>
</li>
<li> <p><code>"both"</code>: combines <code>"casewise"</code> and <code>"cellwiseStructured"</code>.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perout</code></td>
<td>
<p>The percentage of generated outliers. For <code>outlierType = "casewise"</code> this is a fraction of rows. For <code>outlierType = "cellWisePlain"</code> or <code>outlierType = "cellWiseStructured"</code>, a fraction of <code>perout</code> cells are replaced by contaminated cells.
For <code>outlierType = "both"</code>, a fraction of <code class="reqn">0.5*</code><code>perout</code> of rowwise
outliers is generated, after which the remaining data is contaminated with a fraction of 
<code class="reqn">0.5*</code><code>perout</code> outlying cells.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma</code></td>
<td>
<p>How far outliers are from the center of the distribution.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>

<p>Seed used to generate the data.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with components:
</p>

<ul>
<li>
<p><code>X</code> <br>
The generated data matrix of size <code class="reqn">n \times d</code>.

</p>
</li>
<li>
<p><code>indcells</code> <br>
A vector with the indices of the contaminated cells.

</p>
</li>
<li>
<p><code>indrows</code> <br>
A vector with the indices of the rowwise outliers.

</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>J. Raymaekers and P.J. Rousseeuw
</p>


<h3>References</h3>

<p>C. Agostinelli, Leung, A., Yohai, V. J., and Zamar, R. H. (2015).
Robust Estimation of Multivariate Location and Scatter in the Presence of Cellwise and Casewise Contamination. <em>Test</em>, 24, 441-461.
</p>
<p>Rousseeuw, P.J., Van den Bossche W. (2018). Detecting Deviating Data Cells. <em>Technometrics</em>, <b>60</b>(2), 135-145. <a href="https://www.tandfonline.com/doi/full/10.1080/00401706.2017.1340909">(link to open access pdf)</a>
</p>
<p>J. Raymaekers and P.J. Rousseeuw (2020). Handling cellwise outliers by sparse
regression and robust covariance. <em>Arxiv: 1912.12446</em>. <a href="https://arxiv.org/abs/1912.12446">(link to open access pdf)</a>
</p>


<h3>See Also</h3>

<p><code>generateCorMat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">n     &lt;- 100
d     &lt;- 5
mu    &lt;- rep(0, d)
Sigma &lt;- diag(d)
perout &lt;- 0.1
gamma &lt;- 10
data &lt;- generateData(n, d, mu, Sigma, perout, gamma, outlierType = "cellwisePlain", seed  = 1)
pairs(data$X)
data$indcells
</code></pre>


</div>