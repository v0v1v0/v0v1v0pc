<div class="container">

<table style="width: 100%;"><tr>
<td>cluster.im.ivreg</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cluster-Adjusted Confidence Intervals And p-Values For GLM</h2>

<h3>Description</h3>

<p>Computes p-values and confidence intervals for GLM models based on cluster-specific model estimation (Ibragimov and Muller 2010). A separate model is estimated in each cluster, and then p-values and confidence intervals are computed based on a t/normal distribution of the cluster-specific estimates.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cluster.im.ivreg(
  mod,
  dat,
  cluster,
  ci.level = 0.95,
  report = TRUE,
  drop = FALSE,
  return.vcv = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>A model estimated using <code>ivreg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>The data set used to estimate <code>mod</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>A formula of the clustering variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci.level</code></td>
<td>
<p>What confidence level should CIs reflect?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>report</code></td>
<td>
<p>Should a table of results be printed to the console?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>drop</code></td>
<td>
<p>Should clusters within which a model cannot be estimated be dropped?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.vcv</code></td>
<td>
<p>Should a VCV matrix and the means of cluster-specific coefficient estimates be returned?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with the elements
</p>
<table>
<tr style="vertical-align: top;">
<td><code>p.values</code></td>
<td>
<p>A matrix of the estimated p-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci</code></td>
<td>
<p>A matrix of confidence intervals.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Confidence intervals are centered on the cluster averaged estimate, which can diverge from original model estimates under several circumstances (e.g., if clusters have different numbers of observations). Consequently, confidence intervals may not be centered on original model estimates. If drop = TRUE, any cluster for which all coefficients cannot be estimated will be automatically dropped from the analysis.
</p>


<h3>Author(s)</h3>

<p>Justin Esarey
</p>


<h3>References</h3>

<p>Esarey, Justin, and Andrew Menger. 2017. "Practical and Effective Approaches to Dealing with Clustered Data." <em>Political Science Research and Methods</em> forthcoming: 1-35. &lt;URL:http://jee3.web.rice.edu/cluster-paper.pdf&gt;.
</p>
<p>Ibragimov, Rustam, and Ulrich K. Muller. 2010. "t-Statistic Based Correlation and Heterogeneity Robust Inference." <em>Journal of Business &amp; Economic Statistics</em> 28(4): 453-468. &lt;DOI:10.1198/jbes.2009.08046&gt;.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 

# example: pooled IV analysis of employment
require(plm)
require(AER)
data(EmplUK)
EmplUK$lag.wage &lt;- lag(EmplUK$wage)
emp.iv &lt;- ivreg(emp ~ wage + log(capital+1) | output + lag.wage + log(capital+1), data = EmplUK)

# compute cluster-adjusted p-values
cluster.im.e &lt;- cluster.im.ivreg(mod=emp.iv, dat=EmplUK, cluster = ~firm)


## End(Not run)
</code></pre>


</div>