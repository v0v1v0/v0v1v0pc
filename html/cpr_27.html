<div class="container">

<table style="width: 100%;"><tr>
<td>influence_of_iknots</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine the influence of the internal knots of a control polygon</h2>

<h3>Description</h3>

<p>Determine the influence of the internal knots of a control polygon
</p>


<h3>Usage</h3>

<pre><code class="language-R">influence_of_iknots(x, verbose = FALSE, ...)

## S3 method for class 'cpr_cn'
influence_of_iknots(
  x,
  verbose = FALSE,
  margin = seq_along(x$bspline_list),
  n_polycoef = 20L,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>cpr_cp</code> or <code>cpr_cn</code> object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>print status messages</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>pass through</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>margin</code></td>
<td>
<p>which margin(s) to consider the influence of iknots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_polycoef</code></td>
<td>
<p>number of polynomial coefficients to use when assessing the
influence of a iknot</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>cpr_influence_of_iknots</code> object.  A list of six elements:
</p>

<dl>
<dt>original_cp</dt>
<dd></dd>
<dt>coarsened_cps</dt>
<dd></dd>
<dt>restored_cps</dt>
<dd></dd>
<dt>d</dt>
<dd></dd>
<dt>influence</dt>
<dd></dd>
<dt>chisq</dt>
<dd></dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">x &lt;- seq(0 + 1/5000, 6 - 1/5000, length.out = 5000)
bmat &lt;- bsplines(x, iknots = c(1, 1.5, 2.3, 4, 4.5), bknots = c(0, 6))
theta &lt;- matrix(c(1, 0, 3.5, 4.2, 3.7, -0.5, -0.7, 2, 1.5), ncol = 1)
cp0 &lt;- cp(bmat, theta)

icp0 &lt;- influence_of_iknots(cp0)

plot(cp0, icp0$coarsened_cps[[1]], icp0$restored_cps[[1]], color = TRUE, show_spline = TRUE)
plot(cp0, icp0$restored_cps[[1]], color = TRUE, show_spline = TRUE)

plot(cp0, icp0$coarsened_cps[[2]], icp0$restored_cps[[2]], color = TRUE, show_spline = TRUE)
plot(cp0, icp0$restored_cps[[2]], color = TRUE, show_spline = TRUE)

plot(cp0, icp0$coarsened_cps[[3]], icp0$restored_cps[[3]], color = TRUE, show_spline = TRUE)
plot(cp0, icp0$restored_cps[[3]], color = TRUE, show_spline = TRUE)

plot(cp0, icp0$coarsened_cps[[4]], icp0$restored_cps[[4]], color = TRUE, show_spline = TRUE)
plot(cp0, icp0$restored_cps[[4]], color = TRUE, show_spline = TRUE)

plot(cp0, icp0$coarsened_cps[[5]], icp0$restored_cps[[5]], color = TRUE, show_spline = TRUE)
plot(cp0, icp0$restored_cps[[5]], color = TRUE, show_spline = TRUE)

# When the cp was defined by regression
df &lt;- data.frame(x = x, y = as.numeric(bmat %*% theta) + rnorm(5000, sd = 0.2))
cp1 &lt;- cp(y ~ bsplines(x, iknots = c(1, 1.5, 2.3, 3, 4, 4.5), bknots = c(0, 6)), data = df)
icp1 &lt;- influence_of_iknots(cp1)
icp1

</code></pre>


</div>