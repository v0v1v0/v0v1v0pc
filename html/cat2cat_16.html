<div class="container">

<table style="width: 100%;"><tr>
<td>summary_c2c</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adjusted summary for linear regression when based on replicated dataset</h2>

<h3>Description</h3>

<p>adjusting lm object results according to original number of
degree of freedom.
The standard errors, t statistics and p values have to be adjusted because of
replicated observations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">summary_c2c(x, df_old, df_new = x$df.residual)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>lm object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_old</code></td>
<td>
<p>integer number of d.f in original dataset. For bigger datasets
'nrow' should be sufficient.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df_new</code></td>
<td>
<p>integer number of d.f in dataset with replicated rows,
Default: x$df.residual</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The size of the correction is equal to sqrt(df_new / df_old).
Where standard errors are multiplied and t statistics divided by it.
In most cases the default <code>df_new</code> value should be used.
</p>


<h3>Value</h3>

<p>data.frame with additional columns over a regular summary.lm output,
like correct and statistics adjusted by it.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("occup_small", package = "cat2cat")
data("trans", package = "cat2cat")

occup_old &lt;- occup_small[occup_small$year == 2008, ]
occup_new &lt;- occup_small[occup_small$year == 2010, ]

occup_2 &lt;- cat2cat(
  data = list(
    old = occup_old,
    new = occup_new,
    cat_var = "code",
    time_var = "year"
  ),
  mappings = list(trans = trans, direction = "backward"),
  ml = list(
    data = occup_new,
    cat_var = "code",
    method = "knn",
    features = c("age", "sex", "edu", "exp", "parttime", "salary"),
    args = list(k = 10)
  )
)

# Regression
# we have to adjust size of std as we artificialy enlarge degrees of freedom
lms &lt;- lm(
  formula = I(log(salary)) ~ age + sex + factor(edu) + parttime + exp,
  data = occup_2$old,
  weights = multiplier * wei_freq_c2c
)

summary_c2c(lms, df_old = nrow(occup_old))
</code></pre>


</div>