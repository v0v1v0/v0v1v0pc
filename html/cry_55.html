<div class="container">

<table style="width: 100%;"><tr>
<td>readMTZHeader</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Reads and output an MTZ header</h2>

<h3>Description</h3>

<p>An MTZ file is a binary file created to carry information on
x-ray diffraction experiments on crystals. It includes x-ray
diffraction data and information on the experiment and the
crystal.
</p>


<h3>Usage</h3>

<pre><code class="language-R">readMTZHeader(filename, message = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>A character string. The path to a valid mtz file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>A logical variable. If TRUE the function prints
a message highlighting what is included in the mtz header.
Default value is <code>message=FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function returns a named list whose components are
the <code>reflections</code>, the <code>header</code> and the
<code>batch_header</code>. The <code>header</code> is a named list whose
components are:
</p>

<dl>
<dt>TITLE</dt>
<dd>
<p>A character string containing the title of the
MTZ file.</p>
</dd>
<dt>NCOL</dt>
<dd>
<p>Number of columns in data frame
<code>reflections</code>.</p>
</dd>
<dt>CELL</dt>
<dd>
<p>A numeric vector of length 6, containing the
unit cell parameters.</p>
</dd>
<dt>SORT</dt>
<dd>
<p>An integer vector of length 5, containing the
sort order of the first 5 columns of data.</p>
</dd>
<dt>SYMINF</dt>
<dd>
<p>Un-named list with 6 components: the number
of symmetry operations (an integer), the number of
primitive operations (an integer), the lattice type
(a one-letter character), the space group number (an
integer), the space group name (a 10-letter character
string) and the point group name (a 6-letter character).</p>
</dd>
<dt>RESO</dt>
<dd>
<p>Minimum and maximum data resolution, stored as
<code class="reqn">{1/d^2}</code>.</p>
</dd>
<dt>NDIF</dt>
<dd>
<p>Number of datasets whose reflection data are
present in the file.</p>
</dd>
<dt>SYMM</dt>
<dd>
<p>A character vector whose length depends on the
type of symmetry. It describes the symmetry operations in
human-readable format, International Tables style. Each
string is 80 characters long.</p>
</dd>
<dt>PROJECT</dt>
<dd>
<p>A data frame whose rows provide an ID and a
name (called "pname") for the projects for which the data
contained have been produced.</p>
</dd>
<dt>CRYSTAL</dt>
<dd>
<p>A data frame whose rows provide an ID and a
name (called "pname") for the crystals for which the data
contained have been produced.</p>
</dd>
<dt>DATASET</dt>
<dd>
<p>A data frame whose rows provide an ID and a
name (called "pname") for the datasets included in the
reflections record.</p>
</dd>
<dt>DCELL</dt>
<dd>
<p>A data frame whose rows contain the
<code>CRYSTAL</code> IDs and cell parameters of each crystal
that has contributed to the data in the reflections record.</p>
</dd>
<dt>DWAVEL</dt>
<dd>
<p>A data frame whose rows contain the
<code>DATASET</code> IDs and the wavelength with which the
reflection data were collected.</p>
</dd>
<dt>COLUMN</dt>
<dd>
<p>A data frame describing the type of data
included in the reflections record. The data frame includes
the labels for each column, the dtype (see
<code>merged_reflections</code>) for each column, min and
max values and the <code>DATASET</code> ID.</p>
</dd>
<dt>COLSRC</dt>
<dd>
<p>A data frame with three columns. The first
includes the labels of each reflections record column. The
second includes a time stamp of when each data column was
created. The third is the dataset ID as a string.</p>
</dd>
<dt>COLGRP</dt>
<dd>
<p>A character string vector where each component
is an 80-letters string describing the name and type of
data.</p>
</dd>
<dt>HISTORY</dt>
<dd>
<p>A character string vector of variable length.
Each component is an 80-letter string summarising the steps
that lead to the current reflections record. HISTORY can
contain a maximum of 30 lines.</p>
</dd>
</dl>
<h3>Value</h3>

<p>A named list. Each name correspond to a valid field in the mtz
header (see details).
</p>


<h3>Examples</h3>

<pre><code class="language-R">datadir &lt;- system.file("extdata",package="cry")
filename &lt;- file.path(datadir,"1dei_phases.mtz")
ltmp &lt;- readMTZHeader(filename)
print(names(ltmp))
print(ltmp$CELL)
print(ltmp$SYMM)

</code></pre>


</div>