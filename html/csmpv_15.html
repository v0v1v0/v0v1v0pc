<div class="container">

<table style="width: 100%;"><tr>
<td>XGBtraining_predict</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predicting XGBoost Model Scores and Performing Validation</h2>

<h3>Description</h3>

<p>This function predicts XGBoost model scores using an XGBtraining object and a new dataset. 
It converts the input data to the required xgb.DMatrix format and returns the model scores. 
If the new dataset includes an outcome variable, the function also performs validation, 
comparing predictions with observed outcomes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">XGBtraining_predict(
  xgbtrainingObj = NULL,
  newdata = NULL,
  newY = FALSE,
  outfile = "nameWithPath"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xgbtrainingObj</code></td>
<td>
<p>An XGBtraining object returned from the XGBtraining function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>A data matrix or a data frame, samples are in rows, and features/traits are in columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newY</code></td>
<td>
<p>A logical variable indicating if 'newdata' contains the outcome variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outfile</code></td>
<td>
<p>A string for the output file including path if necessary but without file type extension.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of predicted values is return. If an outcome variable is available for the new dataset, validation is performed.
</p>
<table><tr style="vertical-align: top;">
<td><code>predicted</code></td>
<td>
<p>A vector of model prediction values. For continuous outcome, this is a vector of model scores; 
for binary outcome, this is a vector representing the probability of the positive class;
for time to event outcome, this is a vector of risk scores</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Aixiang Jiang
</p>


<h3>References</h3>

<p>Tianqi Chen and Carlos Guestrin, "XGBoost: A Scalable Tree Boosting System", 22nd SIGKDD Conference on Knowledge Discovery and Data Mining, 2016, https://arxiv.org/abs/1603.02754
</p>
<p>Harrell Jr F (2023). rms: Regression Modeling Strategies_. R package version 6.7-1, &lt;https://CRAN.R-project.org/package=rms&gt;
</p>
<p>Harrell Jr F (2023). Hmisc: Harrell Miscellaneous_. R package version 5.1-1, &lt;https://CRAN.R-project.org/package=Hmisc&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load in data sets:
data("datlist", package = "csmpv")
tdat = datlist$training
vdat = datlist$validation

# The function saves files locally. You can define your own temporary directory. 
# If not, tempdir() can be used to get the system's temporary directory.
temp_dir = tempdir()
# As an example, let's define Xvars, which will be used later:
Xvars = c("highIPI", "B.Symptoms", "MYC.IHC", "BCL2.IHC", "CD10.IHC", "BCL6.IHC")

# The function can work with multiple models and multiple outcome types. 
# Here, we provide an example using the XGBoost model with a time-to-event outcome:
txfit = XGBtraining(data = tdat, biomks = Xvars,
                    outcomeType = "time-to-event",
                    time = "FFP..Years.",event = "Code.FFP",
                    outfile = paste0(temp_dir, "/survival_XGBoost"))
ptxfit = XGBtraining_predict(txfit, newdata = vdat,
                    outfile = paste0(temp_dir, "/pred_XGBoost_time_to_event"))
# To delete the "temp_dir", use the following:
unlink(temp_dir)
</code></pre>


</div>