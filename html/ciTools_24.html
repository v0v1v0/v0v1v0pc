<div class="container">

<table style="width: 100%;"><tr>
<td>add_quantile.glmerMod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Response Quantiles for Generalized Linear Mixed Model Predictions</h2>

<h3>Description</h3>

<p>This function is one of the methods for <code>add_pi</code>, and is
called automatically when <code>add_pi</code> is used on a <code>fit</code> of
class <code>glmerMod</code>. This function is experimental.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'glmerMod'
add_quantile(
  df,
  fit,
  p,
  name = NULL,
  yhatName = "pred",
  type = "boot",
  includeRanef = TRUE,
  nSims = 10000,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class <code>glmerMod</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>A real number between 0 and 1. Sets the probability level
of the quantiles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p><code>NULL</code> or a string. If <code>NULL</code>, quantile
automatically will be named by <code>add_quantile</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p><code>NULL</code> or a string. Name of the predictions vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>A string. Must be <code>"boot"</code>, If <code>type =
"boot"</code>, then <code>add_ci</code> calls <code>lme4::simulate</code> to
calculate the confidence intervals. This method may be time
consuming, but is applicable with random slope and random
intercept models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeRanef</code></td>
<td>
<p>A logical. Default is <code>TRUE</code>. Set whether
the predictions and intervals should be made conditional on the
random effects. If <code>FALSE</code>, random effects will not be
included.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nSims</code></td>
<td>
<p>A positive integer.  Controls the number of bootstrap
replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>IncludeRanef</code> is False, random slopes and intercepts are set to 0. Unlike in
'lmer' fits, settings random effects to 0 does not mean they are marginalized out. Consider
generalized estimating equations if this is desired.
</p>


<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values and quantiles attached.
</p>


<h3>See Also</h3>

<p><code>add_pi.glmerMod</code> for prediction intervals
of <code>glmerMod</code> objects, <code>add_probs.glmerMod</code> for
conditional probabilities of <code>glmerMod</code> objects, and
<code>add_ci.glmerMod</code> for confidence intervals of
<code>glmerMod</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R">n &lt;- 300
x &lt;- runif(n)
f &lt;- factor(sample(1:5, size = n, replace = TRUE))
y &lt;- rpois(n, lambda = exp(1 - 0.05 * x * as.numeric(f) + 2 * as.numeric(f)))
df &lt;- data.frame(x = x, f = f, y = y)
fit &lt;- lme4::glmer(y ~ (1+x|f), data=df, family = "poisson")

add_quantile(df, fit, name = "quant0.6", p = 0.6, nSims = 500)

</code></pre>


</div>