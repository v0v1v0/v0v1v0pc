<div class="container">

<table style="width: 100%;"><tr>
<td>tCorpus$code_features</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Code features in a tCorpus based on a search string</h2>

<h3>Description</h3>

<p>like <code>search_features</code>, but instead of return hits only adds a column to the token data that contains a code (the query label) for tokens that match the query.
Note that only one code can be assigned to each token, so if there are overlapping results for different queries, the code for the last query
will be used. This means that the order of queries (in the query argument) matters.
</p>
<p><strong>Usage:</strong>
</p>
<p>## R6 method for class tCorpus. Use as tc$method (where tc is a tCorpus object).
</p>
<pre>code_features(query, code=NULL, feature='token', column='code', ...)</pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>A character string that is a query. See search_features for documentation of the query language.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>The code given to the tokens that match the query (usefull when looking for multiple queries). Can also put code label in query with # (see details)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature</code></td>
<td>
<p>The name of the feature column within which to search.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>column</code></td>
<td>
<p>The name of the column that is added to the data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_column</code></td>
<td>
<p>list of name-value pairs, used to add additional columns. The name will become the column name, and the value should be a vector of the same length as the query vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>context_level</code></td>
<td>
<p>Select whether the queries should occur within while "documents" or specific "sentences".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_ascii</code></td>
<td>
<p>if TRUE, perform search in ascii.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If TRUE, progress messages will be printed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overwrite</code></td>
<td>
<p>If TRUE (default) and column already exists, overwrite previous results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>alternative way to specify name-value pairs for adding additional columns</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">tc = create_tcorpus('Anna and Bob are secretive')

tc$code_features(c("actors# anna bob", "associations# secretive"))
tc$tokens
</code></pre>


</div>