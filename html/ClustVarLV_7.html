<div class="container">

<table style="width: 100%;"><tr>
<td>CLV</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Hierarchical clustering of variables with consolidation</h2>

<h3>Description</h3>

<p>Hierarchical Cluster Analysis of a set of variables with consolidation.
Directional or local groups may be defined. Each group of variables is associated with a latent component.
Moreover, the latent component may be constrained using external information collected on the observations or on the variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CLV(
  X,
  Xu = NULL,
  Xr = NULL,
  method = NULL,
  sX = TRUE,
  sXr = FALSE,
  sXu = FALSE,
  nmax = 20,
  maxiter = 20,
  graph = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>: The matrix of variables to be clustered</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xu</code></td>
<td>
<p>: The external variables associated with the columns of X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xr</code></td>
<td>
<p>: The external variables associated with the rows of X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>: The criterion to be use in the cluster analysis.  <br>
1 or "directional" : the squared covariance is used as a measure of proximity (directional groups). <br>    
2 or "local"       : the covariance is used as a measure of proximity (local groups)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sX</code></td>
<td>
<p>,TRUE/FALSE : standardization or not of the columns X (TRUE by default)<br>
(predefined -&gt; cX = TRUE : column-centering of X)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sXr</code></td>
<td>
<p>,TRUE/FALSE : standardization or not of the columns Xr (FALSE by default)<br>
(predefined -&gt; cXr    = TRUE : column-centering of Xr)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sXu</code></td>
<td>
<p>,TRUE/FALSE : standardization or not of the columns Xu (FALSE by default)<br>
(predefined -&gt; cXu= FALSE : no centering, Xu considered as a weight matrix)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nmax</code></td>
<td>
<p>: maximum number of partitions for which the consolidation will be done (by default nmax=20)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxiter</code></td>
<td>
<p>: maximum number of iterations allowed for the consolidation/partitioning algorithm (by default maxiter=20)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph, </code></td>
<td>
<p>TRUE/FALSE (by default TRUE) : dendrogram and variation of the optimization criterion. <br> 
These plots can also be obtained with "plot"</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If external variables are used, define either Xr or Xu, but not both.
Use the LCLV function when Xr and Xu are simultaneously provided.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tabres</code></td>
<td>
<p> Results of the clustering algorithm.
In each line you find the results of one specific step of the hierarchical clustering.
</p>

<ul>
<li> <p>Columns 1 and 2 : The numbers of the two groups which are merged
</p>
</li>
<li> <p>Column 3 : Name of the new cluster
</p>
</li>
<li> <p>Column 4 : The value of the aggregation criterion for the Hierarchical Ascendant Clustering (HAC)
</p>
</li>
<li> <p>Column 5 : The value of the clustering criterion for the HAC 
</p>
</li>
<li> <p>Column 6 : The percentage of the explained initial criterion value<br>
(method 1 =&gt; % var. expl. by the latent comp.)
</p>
</li>
<li> <p>Column 7 : The value of the clustering criterion after consolidation
</p>
</li>
<li> <p>Column 8 : The percentage of the explained initial criterion value after consolidation        
</p>
</li>
<li> <p>Column 9 : The number of iterations in the partitioning algorithm. <br>
Remark : A zero in columns 7 to 9 indicates that no consolidation was done
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>partition K</code></td>
<td>
<p> contains a list for each number of clusters of the partition, K=2 to nmax with
</p>

<ul>
<li> <p>clusters :  in line 1, the groups membership before consolidation; in line 2 the groups membership after consolidation 
</p>
</li>
<li> <p>comp : The latent components of the clusters (after consolidation)
</p>
</li>
<li> <p>loading : if there are external variables Xr or Xu :  The loadings of the external variables (after consolidation)
</p>
</li>
</ul>
</td>
</tr>
</table>
<h3>References</h3>

<p>Vigneau E., Qannari E.M. (2003). Clustering of variables around latents components. Comm. Stat, 32(4), 1131-1150.
</p>
<p>Vigneau E., Chen M., Qannari E.M. (2015). ClustVarLV:  An R Package for the clustering of Variables around Latent Variables. The R Journal, 7(2), 134-148
</p>


<h3>See Also</h3>

<p>CLV_kmeans, LCLV
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(apples_sh)
#directional groups
resclvX &lt;- CLV(X = apples_sh$senso, method = "directional", sX = TRUE)
plot(resclvX,type="dendrogram")
plot(resclvX,type="delta")
#local groups with external variables Xr
resclvYX &lt;- CLV(X = apples_sh$pref, Xr = apples_sh$senso, method = "local", sX = FALSE, sXr = TRUE)

</code></pre>


</div>