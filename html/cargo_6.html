<div class="container">

<table style="width: 100%;"><tr>
<td>run</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Run Cargo</h2>

<h3>Description</h3>

<p>This function runs Cargo (Rust's package manager) with the <code>...</code>
arguments passed as command line arguments.
</p>


<h3>Usage</h3>

<pre><code class="language-R">run(
  ...,
  minimum_version = ".",
  search_methods = c("cache", "convention", "path"),
  leave_no_trace = FALSE,
  environment_variables = list(),
  rustflags = NULL,
  verbose = TRUE,
  run_twice = FALSE,
  stdout = "",
  stderr = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Character vector of command line arguments passed to the
<code>cargo</code> command.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimum_version</code></td>
<td>
<p>A character string representing the minimum version of
Rust that is needed. Or a path to the root of a package (i.e., the
directory containing the DESCRIPTION file), in which case the value is
found from the field: <code>SystemRequirements: Cargo (&gt;= XXXX)</code>. For the
<code>search_methods</code> being <code>"cache"</code>, the shell command <code>rustup</code>
is used to upgrade the Cargo installation if needed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>search_methods</code></td>
<td>
<p>A character vector potentially containing values
<code>"path"</code>, <code>"convention"</code>, and <code>"cache"</code>. This indicates the
methods to use (and their order) when searching for a suitable Cargo
installation. <code>"path"</code> indicates to try to use <code>base::Sys.which()</code>.
<code>"convention"</code> indicates to try to use the directories <code>.cargo</code>
in the user's home directory. <code>"cache"</code> indicates to try to use the
directory from the cargo package's own installation as given by the
<code>tools::R_user_dir('cargo', 'cache')</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>leave_no_trace</code></td>
<td>
<p>If <code>TRUE</code>, the <code>CARGO_HOME</code> environment
variable is set to a temporary directory that is subsequently deleted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>environment_variables</code></td>
<td>
<p>A named character vector providing environment
variables which should be temporarily set while running Cargo.  Note that
the <code>CARGO_HOME</code> and <code>RUSTUP_HOME</code> environment variables are
automatically set when using the <code>"cache"</code> search method.  Also, the
<code>CARGO_HOME</code> environment variable is also set when
<code>leave_no_trace == TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rustflags</code></td>
<td>
<p>A character vector from which the
<code>CARGO_ENCODED_RUSTFLAGS</code> environment variables is constructed and
then temporarily set. Or, if <code>NULL</code>, this environment variable is left
unchanged.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>If <code>TRUE</code>, details of the search for Cargo are shown. If
<code>FALSE</code>, no details are shown.  If it is a connection, then details
are shown and also written to the connection.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run_twice</code></td>
<td>
<p>Should the cargo command be run twice? The environment
variable <code>R_CARGO_RUN_COUNTER</code> is set to either <code>1</code> or <code>2</code>
during each run.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stdout</code></td>
<td>
<p>See argument of the same name in <code>base::system2()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stderr</code></td>
<td>
<p>See argument of the same name in <code>base::system2()</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The same value and behavior as the <code>base::system2()</code> function, except
a non-zero exit code will be given in Cargo is not found.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (run("--version") != 0) {
  message("Cargo is not installed. Please run cargo::install() in an interactive session.")
}

</code></pre>


</div>