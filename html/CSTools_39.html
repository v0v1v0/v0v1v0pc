<div class="container">

<table style="width: 100%;"><tr>
<td>CST_SplitDim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to Split Dimension</h2>

<h3>Description</h3>

<p>This function split a dimension in two. The user can select the 
dimension to split and provide indices indicating how to split that dimension 
or dates and the frequency expected (monthly or by day, month and year). The 
user can also provide a numeric frequency indicating the length of each 
division.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CST_SplitDim(
  data,
  split_dim = "time",
  indices = NULL,
  freq = "monthly",
  new_dim_name = NULL,
  insert_ftime = NULL,
  ftime_dim = "time",
  sdate_dim = "sdate",
  return_indices = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A 's2dv_cube' object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_dim</code></td>
<td>
<p>A character string indicating the name of the dimension to 
split. It is set as 'time' by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indices</code></td>
<td>
<p>A vector of numeric indices or dates. If left at NULL, the 
dates provided in the s2dv_cube object (element Dates) will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>freq</code></td>
<td>
<p>A character string indicating the frequency: by 'day', 'month' and 
'year' or 'monthly' (by default). 'month' identifies months between 1 and 12 
independently of the year they belong to, while 'monthly' differenciates 
months from different years.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_dim_name</code></td>
<td>
<p>A character string indicating the name of the new 
dimension.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>insert_ftime</code></td>
<td>
<p>An integer indicating the number of time steps to add at 
the begining of the time series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ftime_dim</code></td>
<td>
<p>A character string indicating the name of the forecast time
dimension. It is set as 'time' by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sdate_dim</code></td>
<td>
<p>A character string indicating the name of the start date 
dimension. It is set as 'sdate' by default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_indices</code></td>
<td>
<p>A logical value that if it is TRUE, the indices 
used in splitting the dimension will be returned. It is FALSE by default.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Parameter 'insert_ftime' has been included for the case of using 
daily data, requiring split the temporal dimensions by months (or similar) and 
the first lead time doesn't correspondt to the 1st day of the month. In this 
case, the insert_ftime could be used, to get a final output correctly 
organized. E.g.: leadtime 1 is the 2nd of November and the input time series 
extend to the 31st of December. When requiring split by month with 
<code>inset_ftime = 1</code>, the 'monthly' dimension of length two will indicate 
the month (position 1 for November and position 2 for December), dimension 
'time' will be length 31. For November, the position 1 and 31 will be NAs, 
while from positon 2 to 30 will be filled with the data provided. This allows 
to select correctly days trhough time dimension.
</p>


<h3>Author(s)</h3>

<p>Nuria Perez-Zanon, <a href="mailto:nuria.perez@bsc.es">nuria.perez@bsc.es</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data &lt;- 1 : 20
dim(data) &lt;- c(time = 10, lat = 2)
data &lt;-list(data = data)
class(data) &lt;- 's2dv_cube'
indices &lt;- c(rep(1,5), rep(2,5))
new_data &lt;- CST_SplitDim(data, indices = indices)
time &lt;- c(seq(ISOdate(1903, 1, 1), ISOdate(1903, 1, 4), "days"),
         seq(ISOdate(1903, 2, 1), ISOdate(1903, 2, 4), "days"),
         seq(ISOdate(1904, 1, 1), ISOdate(1904, 1, 2), "days"))
data &lt;- list(data = data$data, Dates = time)
class(data) &lt;- 's2dv_cube'
new_data &lt;- CST_SplitDim(data, indices = time)
new_data &lt;- CST_SplitDim(data, indices = time, freq = 'day')
new_data &lt;- CST_SplitDim(data, indices = time, freq = 'month')
new_data &lt;- CST_SplitDim(data, indices = time, freq = 'year')
</code></pre>


</div>