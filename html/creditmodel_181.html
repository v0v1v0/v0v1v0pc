<div class="container">

<table style="width: 100%;"><tr>
<td>training_model</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Training model</h2>

<h3>Description</h3>

<p><code>training_model</code> Model builder
</p>


<h3>Usage</h3>

<pre><code class="language-R">training_model(
  model_name = "mymodel",
  dat,
  dat_test = NULL,
  target = NULL,
  occur_time = NULL,
  obs_id = NULL,
  x_list = NULL,
  ex_cols = NULL,
  pos_flag = NULL,
  prop = 0.7,
  split_type = if (!is.null(occur_time)) "OOT" else "Random",
  preproc = TRUE,
  low_var = 0.99,
  missing_rate = 0.98,
  merge_cat = 30,
  remove_dup = TRUE,
  outlier_proc = TRUE,
  missing_proc = "median",
  default_miss = list(-1, "missing"),
  miss_values = NULL,
  one_hot = FALSE,
  trans_log = FALSE,
  feature_filter = list(filter = c("IV", "PSI", "COR", "XGB"), iv_cp = 0.02, psi_cp =
    0.1, xgb_cp = 0, cv_folds = 1, hopper = FALSE),
  algorithm = list("LR", "XGB", "GBM", "RF"),
  LR.params = lr_params(),
  XGB.params = xgb_params(),
  GBM.params = gbm_params(),
  RF.params = rf_params(),
  breaks_list = NULL,
  parallel = FALSE,
  cores_num = NULL,
  save_pmml = FALSE,
  plot_show = FALSE,
  vars_plot = TRUE,
  model_path = tempdir(),
  seed = 46,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model_name</code></td>
<td>
<p>A string, name of the project. Default is "mymodel"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>A data.frame with independent variables and target variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat_test</code></td>
<td>
<p>A data.frame of test data. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>The name of target variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>occur_time</code></td>
<td>
<p>The name of the variable that represents the time at which each observation takes place.Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs_id</code></td>
<td>
<p>The name of ID of observations or key variable of data. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_list</code></td>
<td>
<p>Names of independent variables. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ex_cols</code></td>
<td>
<p>Names of excluded variables. Regular expressions can also be used to match variable names. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pos_flag</code></td>
<td>
<p>The value of positive class of target variable, default: "1".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prop</code></td>
<td>
<p>Percentage of train-data after the partition. Default: 0.7.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>split_type</code></td>
<td>
<p>Methods for partition. See details at :  <code>train_test_split</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preproc</code></td>
<td>
<p>Logical. Preprocess data. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>low_var</code></td>
<td>
<p>Logical, delete low variance variables or not. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_rate</code></td>
<td>
<p>The maximum percent of missing values for recoding values to missing and non_missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>merge_cat</code></td>
<td>
<p>merge categories of character variables that  is more than m.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_dup</code></td>
<td>
<p>Logical, if TRUE, remove the duplicated observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outlier_proc</code></td>
<td>
<p>Logical, process outliers or not. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_proc</code></td>
<td>
<p>If logical, process missing values or not. If "median", then Nas imputation with k neighbors median. If "avg_dist", the distance weighted average method is applied to determine the NAs imputation with k neighbors. If "default", assigning the missing values to -1 or "missing", otherwise ,processing the missing values according to the results of missing analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>default_miss</code></td>
<td>
<p>Default value of missing data imputation, Defualt is list(-1,'missing').</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>miss_values</code></td>
<td>
<p>Other extreme value might be used to represent missing values, e.g: -9999, -9998. These miss_values will be encoded to -1 or "missing".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>one_hot</code></td>
<td>
<p>Logical. If TRUE, one-hot_encoding  of category variables. Default is FASLE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trans_log</code></td>
<td>
<p>Logical, Logarithmic transformation. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature_filter</code></td>
<td>
<p>Parameters for selecting important and stable features.See details at: <code>feature_selector</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>algorithm</code></td>
<td>
<p>Algorithms for training a model. list("LR", "XGB", "GBDT", "RF") are available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LR.params</code></td>
<td>
<p>Parameters of logistic regression &amp; scorecard. See details at :  <code>lr_params</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>XGB.params</code></td>
<td>
<p>Parameters of xgboost. See details at :  <code>xgb_params</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>GBM.params</code></td>
<td>
<p>Parameters of GBM. See details at :  <code>gbm_params</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RF.params</code></td>
<td>
<p>Parameters of Random Forest. See details at :  <code>rf_params</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>breaks_list</code></td>
<td>
<p>A table containing a list of splitting points for each independent variable. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores_num</code></td>
<td>
<p>The number of CPU cores to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_pmml</code></td>
<td>
<p>Logical, save model in PMML format. Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot_show</code></td>
<td>
<p>Logical, show model performance in current graphic device. Default is FALSE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vars_plot</code></td>
<td>
<p>Logical, if TRUE, plot distribution ,correlation or partial dependence of model input variables . Default is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_path</code></td>
<td>
<p>The path for periodically saved data file. Default is <code>tempdir()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random number seed. Default is 46.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing Model Objects.
</p>


<h3>See Also</h3>

<p><code>train_test_split</code>,<code>data_cleansing</code>, <code>feature_selector</code>,   <code>lr_params</code>, <code>xgb_params</code>, <code>gbm_params</code>, <code>rf_params</code>,<code>fast_high_cor_filter</code>,<code>get_breaks_all</code>,<code>lasso_filter</code>, <code>woe_trans_all</code>, <code>get_logistic_coef</code>, <code>score_transfer</code>,<code>get_score_card</code>, <code>model_key_index</code>,<code>ks_psi_plot</code>,<code>ks_table_plot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">sub = cv_split(UCICreditCard, k = 30)[[1]]
dat = UCICreditCard[sub,]
x_list = c("LIMIT_BAL")
B_model = training_model(dat = dat,
                         model_name = "UCICreditCard",
                         target = "default.payment.next.month",
							x_list = x_list,
                         occur_time =NULL,
                         obs_id =NULL,
							dat_test = NULL,
                         preproc = FALSE,
                         outlier_proc = FALSE,
                         missing_proc = FALSE,
                         feature_filter = NULL,
                         algorithm = list("LR"),
                         LR.params = lr_params(lasso = FALSE,
                                               step_wise = FALSE,
                                                 score_card = FALSE),
                         breaks_list = NULL,
                         parallel = FALSE,
                         cores_num = NULL,
                         save_pmml = FALSE,
                         plot_show = FALSE,
                         vars_plot = FALSE,
                         model_path = tempdir(),
                         seed = 46)

</code></pre>


</div>