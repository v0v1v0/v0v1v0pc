<div class="container">

<table style="width: 100%;"><tr>
<td>cvWtTuning</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Cross-validation for Selecting Weight Tuning Parameter
</h2>

<h3>Description</h3>

<p>Calibration weights require specification of tuning parameter <code class="reqn">delta</code> or <code class="reqn">lambda</code>. This function uses K-fold cross-validation to select tuning parameter used for calibration weights, with standardized net benfeit (sNB) as objective function. Either one of <code class="reqn">delta</code> or <code class="reqn">lambda</code> must be specificed. The sequence of tuning parameters can be obtained from the <code>RAWgrid</code> function.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cvWtTuning(p,y,r,rl,ru,kFold=5,cvParm,tuneSeq,cv.seed=1111)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>Vector of binary outcomes, with 1 indicating event (cases) and 0 indicating no event (controls)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>

<p>Vector of risk score values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>

<p>Clinically relevant risk threshold</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rl</code></td>
<td>

<p>Lower bound of clinically relevant region</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ru</code></td>
<td>

<p>Upper bound of clinically relevant region</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kFold</code></td>
<td>

<p>Number of folds for cross-validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cvParm</code></td>
<td>

<p>Parameter to be selected via cross-validation. Can be either <code class="reqn">delta</code> the weight assigned to observations outside the clinically relevant region [R_l,R_u], or the <code class="reqn">lambda</code> tuning parameter controlling exponential decay within the clinically relevant region [R_l,R_u]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tuneSeq</code></td>
<td>

<p>Sequence of values of tuning parameters to perform cross-validation over</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.seed</code></td>
<td>

<p>Intial seed set for random splitting of data into K folds</p>
</td>
</tr>
</table>
<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cv.res</code></td>
<td>
<p>Matrix containing sequence of tuning parameters and corresponding cross-validation sNB</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.param</code></td>
<td>
<p>Value of tuning parameter selected via cross validation</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv.full</code></td>
<td>
<p>Matrix of cross-validation results for all folds</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Note this function does not split data into training and validaion set, but performs the K-fold cross-validation procedure on all data included. We advise that a separate, validation subset should be split from the data used in this function.
</p>


<h3>Author(s)</h3>

<p>Anu Mishra
</p>


<h3>References</h3>

<p>Mishra, A. (2019). Methods for Risk Markers that Incorporate Clinical Utility (Doctoral dissertation). (Available Upon Request)</p>


<h3>See Also</h3>

<p><code>calWt</code>,
<code>RAWgrid</code>,
<code>nb</code>,
<code>cvRepWtTuning</code>
</p>


</div>