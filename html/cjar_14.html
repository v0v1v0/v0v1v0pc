<div class="container">

<table style="width: 100%;"><tr>
<td>cja_get_calculatedmetrics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get a list of calculated metrics.</h2>

<h3>Description</h3>

<p>Retrieve a list of available calculated metrics. The results will always include these default items:
<code>id</code>, <code>name</code>, <code>description</code>, <code>owner</code>, <code>polarity</code>, <code>precision</code>, <code>type</code>. Other attributes can
be optionally requested through the <code>expansion</code> field.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cja_get_calculatedmetrics(
  expansion = NULL,
  includeType = "all",
  dataviewIds = NULL,
  ownerId = NULL,
  filterByIds = NULL,
  toBeUsedInRsid = NULL,
  locale = "en_US",
  favorite = NULL,
  approved = NULL,
  pagination = TRUE,
  limit = 10,
  page = 0,
  sortDirection = "DESC",
  sortProperty = NULL,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>expansion</code></td>
<td>
<p>Additional calculated metric metadata fields to include in the results:
"dataName" "approved" "favorite" "shares" "tags" "sharesFullName" "usageSummary"
"usageSummaryWithRelevancyScore" "reportSuiteName" "siteTitle" "ownerFullName"
"modified" "migratedIds" "isDeleted" "definition" "authorization" "compatibility"
"legacyId" "internal" "dataGroup" "categories".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>includeType</code></td>
<td>
<p>Include additional calculated metrics not owned by user. Available values are <code>all</code> (default),
<code>shared</code>, <code>templates</code>, <code>unauthorized</code>, <code>deleted</code>, <code>internal</code>, and <code>curatedItem</code>. The <code>all</code> option takes precedence over <code>shared</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataviewIds</code></td>
<td>
<p>Filter the list to only include calculated metrics tied to a specified dataviewId or
list of dataviewIds. Specify multiple dataviewIds as a vector (i.e., "<code style="white-space: pre;">⁠dataviewIds = c("dataviewid_1", dataviewid_2",...dataviewid_n")⁠</code>").
Use <code>cja_get_dataviews</code> to get a list of available <code>dataviewId</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ownerId</code></td>
<td>
<p>Filter the list to only include calculated metrics owned by the specified loginId.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filterByIds</code></td>
<td>
<p>Filter the list to only include calculated metrics in the specified list as
specified by a single string or as a vector of strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toBeUsedInRsid</code></td>
<td>
<p>The data view where the calculated metric intended to be used.
This data view will be used to determine things like compatibility and permissions.
If it is not specified then the permissions will be calculated based on the union of all metrics
authorized in all groups the user belongs to. If the compatibility expansion is specified and toBeUsedInRsid
is not then the compatibility returned is based off the compatibility from the last time the calculated metric was saved.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locale</code></td>
<td>
<p>The locale that system-named metrics should be returned in. Non-localized values will
be returned for title, name, description, etc. if a localized value is not available.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>favorite</code></td>
<td>
<p>Set to <code>TRUE</code> to only include calculated metrics that are favorites in the results. A
value of <code>FALSE</code> will return all calculated metrics, including those that are favorites.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approved</code></td>
<td>
<p>Set to <code>TRUE</code> to only include calculated metrics that are approved in the results. A
value of <code>FALSE</code> will return all calculated metrics, including those that are approved and those that are not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pagination</code></td>
<td>
<p>return paginated results. Set to 'TRUE' by default</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>limit</code></td>
<td>
<p>Number of results per page. Default is 10</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>page</code></td>
<td>
<p>The "page" of results to display. This works in conjunction with the <code>limit</code> argument and is
zero-based. For instance, if <code>limit = 10</code> and <code>page = 1</code>, the results returned would be 11 through 20.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortDirection</code></td>
<td>
<p>The sort direction for the results: <code>ASC</code> (default) for ascending or <code>DESC</code> for
descending. (This is case insensitive, so <code>asc</code> and <code>desc</code> work as well.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortProperty</code></td>
<td>
<p>The property to sort the results by. Currently available values are <code>id</code> (default), <code>name</code>,
and <code>modified_date</code>. Note that setting <code>expansion = modified</code> returns results with a column added called
<code>modified</code>, which is the last date the calculated metric was modified. When using this value for <code>sortProperty</code>,
though, the name of the argument is <code>modified_date</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is useful/needed to identify the specific ID of a calculated metric for use in other
functions like <code>cja_freeform_report</code>.
</p>
<p>The <code>expansion</code> argument accepts the following values, which will then include additional columns
in the results:
</p>

<ul>
<li> <p><strong>ownerFullName</strong>: adds <code>owner.name</code> and <code>owner.login</code> columns to the results (<code>owner.id</code> is
already included by default).
</p>
</li>
<li> <p><strong>modified</strong>: adds a <code>modified</code> column to the output with the date (ISO 8601 format) each
calculated metric was last modified.
</p>
</li>
<li> <p><strong>definition</strong>: adds <em>multiple</em> columns (the number will vary based on the number and complexity
of calculated metrics returns) that provide the actual formula for each of the calculated metrics.
This is returned from the API as a JSON object and converted into columns by the function, which
means it is pretty messy, so, really, it's not recommended that you use this value.
</p>
</li>
<li> <p><strong>compatability</strong>: should add a column with the products that the metric is compatible with, but this
behavior has not actually been shown to be true, so this may actually do nothing if included.
</p>
</li>
<li> <p><strong>reportSuiteName</strong>: adds a <code>reportSuiteName</code> and a <code>siteTitle</code> column with the friendly report
suite name for the RSID.
</p>
</li>
<li> <p><strong>tags</strong>: adds a column with an embedded data frame with all of the existing tags that are
associated with the calculated metric. This can be a bit messy to work with, but the information
is, at least, there.
</p>
</li>
</ul>
<p>Other Expansion options that are available: "dataName", "approved", "favorite",
"shares", "sharesFullName", "usageSummary", "usageSummaryWithRelevancyScore",
"siteTitle", "migratedIds", "isDeleted", "authorization", "legacyId",
"internal", "dataGroup", "categories"
</p>
<p>Multiple values for <code>expansion</code> can be included in the argument as a vector. For instance,
<code>expansion = c("tags", "modified")</code> will add both a <code>tags</code> column and a <code>modified</code> column to the output.
</p>


<h3>Value</h3>

<p>A data frame of calculated metrics and their metadata.
</p>


<h3>See Also</h3>

<p><code>cja_get_metrics</code>
</p>


</div>