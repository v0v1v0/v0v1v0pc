<div class="container">

<table style="width: 100%;"><tr>
<td>pairwiseplot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a paneled plot like pairs for two different datasets. </h2>

<h3>Description</h3>

<p>Creates a plot for each element of two lists or each column of each
dataset against each of the second.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pairwisePlot(X,Y,...)
## Default S3 method:
pairwisePlot(X,Y=X,...,
                xlab=deparse(substitute(X)),ylab=deparse(substitute(Y)),
                nm=c(length(Y),length(X)),panel=plot,
                add.line=FALSE, line.col=2,add.robust=FALSE,rob.col=4)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>a list, a data.frame, or a matrix representing the first set
of things to be displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Y</code></td>
<td>
<p>a list, a data.frame, or a matrix representing the second set
of things to be displayed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>furter parameters to the panel function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>The sequence of labels for the elements of
X. Alternatively the labels can be given as colnames or names
of X. This option takes precedence if specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>The sequence of labels for the elements of
Y. Alternatively the labels can be given as colnames or names
of Y. This option takes precedence if specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nm</code></td>
<td>
<p>the parameter to be used in the call
<code>par(mfrow=nm)</code>. If NULL no parameter is setted and a
sequence of plots can be generated. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>panel</code></td>
<td>
<p>The panel function to plot the individual panels.
If the panel function admits a formula interface, it is called
as <code>panel(y~x, xlab=xlab,ylab=ylab,...)</code>, otherwise
as <code>panel(x, y,xlab=xlab,ylab=ylab,...)</code>. Thus the
panel function must be capable of taking these arguments. It must
also set up its own plot. There is no negotiation on coordinate
system.     
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.line</code></td>
<td>
<p>logical, to control the addition of a regression line
in each panel</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>line.col</code></td>
<td>
<p>in case the regression line is added, which color should be
used? defaults to red. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.robust</code></td>
<td>
<p>logical, to control the addition of a robust regression line
in each panel. Ignored if covariable is a factor. This is nowadays 
based on <code>lmrob</code>, but this can change in the future.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rob.col</code></td>
<td>
<p>in case the robust regression line is added, which color should be
used? Defaults to blue. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p> This is a light-weight convenience function to plot several
aspects of one dataset against several aspects of another dataset.  It
is far more straight-forward than e.g. the <code>pairs</code> function and
does not do any internal computation rather than organizing the names.
Of course, the rows of the two data sets must be the same.
</p>
<p>The current implementation may display a warning about the function
<code>panel</code> dispatching methods for generic <code>plot</code>. It can be
ignored without harm.
</p>
<p>Optionally, classical and/or robust regression lines can be drawn, though
only for non-factor covariables.
</p>
<p>It may be convenient to use <code>par</code> capabilities to fit the device
characteristics to the plot, in particular arguments <code>mar</code> and <code>oma</code>.
</p>


<h3>Author(s)</h3>

<p>K.Gerald v.d. Boogaart <a href="http://www.stat.boogaart.de">http://www.stat.boogaart.de</a>, Raimon
Tolosana-Delgado</p>


<h3>References</h3>

<p>Boogaart, K.G. v.d. , R. Tolosana (2008) Mixing Compositions and Other
scales, Proceedings of CodaWork 08.
</p>
<p><a href="https://ima.udg.edu/Activitats/CoDaWork03/">https://ima.udg.edu/Activitats/CoDaWork03/</a><br></p>
<p><a href="https://ima.udg.edu/Activitats/CoDaWork05/">https://ima.udg.edu/Activitats/CoDaWork05/</a>
</p>
<p><a href="https://ima.udg.edu/Activitats/CoDaWork08/">https://ima.udg.edu/Activitats/CoDaWork08/</a>
</p>


<h3>See Also</h3>

<p><code>plot.aplus</code>, <code>balance</code>, <code>pwlrPlot</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
X &lt;- rnorm(100)
Y &lt;- rnorm.acomp(100,acomp(c(A=1,B=1,C=1)),0.1*diag(3))+acomp(t(outer(c(0.2,0.3,0.4),X,"^")))

pairs(cbind(ilr(Y),X),panel=function(x,y,...) {points(x,y,...);abline(lm(y~x))})
pairs(cbind(balance(Y,~A/B/C),X),
         panel=function(x,y,...) {points(x,y,...);abline(lm(y~x))})
pairwisePlot(balance(Y,~A/B/C),X)
pairwisePlot(X,balance(Y,~A/B/C),
         panel=function(x,y,...) {plot(x,y,...);abline(lm(y~x))})
pairwisePlot(X,balance01(Y,~A/B/C))

# A function to extract a portion representation of subcompsitions
# with two elements:
subComps &lt;- function(X,...,all=list(...)) {
  X &lt;- oneOrDataset(X)
  nams &lt;- sapply(all,function(x) paste(x[[2]],x[[3]],sep=","))
  val  &lt;- sapply(all,function(x){ 
             a = X[,match(as.character(x[[2]]),colnames(X)) ]
             b = X[,match(as.character(x[[2]]),colnames(X)) ]
             c = X[,match(as.character(x[[3]]),colnames(X)) ]
             return(a/(b+c))
           })
  colnames(val)&lt;-nams
  val
}

pairwisePlot(X,subComps(Y,A~B,A~C,B~C))

## using Hydrochemical data set as illustration of mixed possibilities
data(Hydrochem)
xc = acomp(Hydrochem[,c("Ca","Mg","Na","K")])
fk = Hydrochem$River
pH = -log10(Hydrochem$H)
covars = data.frame(pH, River=fk)
pairwisePlot(clr(xc), pH)
pairwisePlot(clr(xc), pH, col=fk)
pairwisePlot(pH, ilr(xc), add.line=TRUE)
pairwisePlot(covars, ilr(xc), add.line=TRUE, line.col="magenta")
pairwisePlot(clr(xc), covars, add.robust=TRUE)

</code></pre>


</div>