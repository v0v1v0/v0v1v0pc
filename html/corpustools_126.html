<div class="container">

<table style="width: 100%;"><tr>
<td>tCorpus_modify_by_reference</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Modify tCorpus by reference</h2>

<h3>Description</h3>

<p>(back to overview)
</p>


<h3>Details</h3>

<p>If any tCorpus method is used that changes the corpus (e.g., set, subset),
the change is made by reference. This is convenient when working with a large
corpus, because it means that the corpus does not have to be copied when changes are made,
which is slower and less memory efficient.
</p>
<p>To illustrate, for a tCorpus object named 'tc', the subset method can be called like this:
</p>
<p><strong>tc$subset(doc_id %in% selection)</strong>
</p>
<p>The 'tc' object itself is now modified, and does not have to be assigned to a name, as would be the more
common R philosophy. Like this:
</p>
<p><strong>tc = tc$subset(doc_id %in% selection)</strong>
</p>
<p>The results of both lines of code are the same. The assignment in the second approach is not necessary,
but doesn't harm either because tc$subset returns the modified corpus invisibly (see ?invisible if that sounds spooky).
</p>
<p>Be aware, however, that the following does not work!!
</p>
<p><strong>tc2 = tc$subset(doc_id %in% selection)</strong>
</p>
<p>In this case, tc2 does contain the subsetted corpus, but tc itself will also be subsetted!!
</p>
<p>Using the R6 method for subset forces this approach on you, because it is faster and more memory efficient.
If you do want to make a copy, there are several solutions.
</p>
<p>Firstly, for some methods we provide identical functions. For example, instead of the $subset() R6 method,
we can use the subset() function.
</p>
<p><strong>tc2 = subset(tc, doc_id %in% selection)</strong>
</p>
<p>We promise that only the R6 methods (called as tc$method()) will change the data by reference.
</p>
<p>A second option is that R6 methods where copying is often usefull have copy parameter
Modifying by reference only happens in the R6 methods
</p>
<p><strong>tc2 = tc$subset(doc_id %in% selection, copy=TRUE)</strong>
</p>
<p>Finally, you can always make a deep copy of the entire tCorpus before modifying it, using the $copy() method.
</p>
<p><strong>tc2 = tc$copy()</strong>
</p>


</div>