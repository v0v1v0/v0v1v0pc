<div class="container">

<table style="width: 100%;"><tr>
<td>prototypical_context</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Find most "prototypical" contexts.</h2>

<h3>Description</h3>

<p>Contexts most similar on average to the full set of contexts.
</p>


<h3>Usage</h3>

<pre><code class="language-R">prototypical_context(
  context,
  pre_trained,
  transform = TRUE,
  transform_matrix,
  N = 3,
  norm = "l2"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>context</code></td>
<td>
<p>(character) vector of texts - <code>context</code> variable in get_context output</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_trained</code></td>
<td>
<p>(numeric) a F x D matrix corresponding to pretrained embeddings.
F = number of features and D = embedding dimensions.
rownames(pre_trained) = set of features for which there is a pre-trained embedding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>(logical) - if TRUE (default) apply the a la carte transformation, if FALSE ouput untransformed averaged embedding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform_matrix</code></td>
<td>
<p>(numeric) a D x D 'a la carte' transformation matrix.
D = dimensions of pretrained embeddings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>(numeric) number of most "prototypical" contexts to return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norm</code></td>
<td>
<p>(character) - how to compute similarity (see ?text2vec::sim2):
</p>

<dl>
<dt><code>"l2"</code></dt>
<dd>
<p>cosine similarity</p>
</dd>
<dt><code>"none"</code></dt>
<dd>
<p>inner product</p>
</dd>
</dl>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>data.frame</code> with the following columns:
</p>

<dl>
<dt><code>doc_id</code></dt>
<dd>
<p> (integer) document id.</p>
</dd>
<dt><code>typicality_score</code></dt>
<dd>
<p>(numeric) average similarity score to all other contexts</p>
</dd>
<dt><code>context</code></dt>
<dd>
<p>(character) contexts</p>
</dd>
</dl>
<h3>Examples</h3>

<pre><code class="language-R">
# find contexts of immigration
context_immigration &lt;- get_context(x = cr_sample_corpus, target = 'immigration',
                                   window = 6, valuetype = "fixed", case_insensitive = TRUE,
                                   hard_cut = FALSE, verbose = FALSE)

# identify top N prototypical contexts and compute typicality score
pt_context &lt;- prototypical_context(context = context_immigration$context,
pre_trained = cr_glove_subset,
transform = TRUE,
transform_matrix = cr_transform,
N = 3, norm = 'l2')
</code></pre>


</div>