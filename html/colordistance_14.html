<div class="container">

<table style="width: 100%;"><tr>
<td>getKMeanColors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit pixels to clusters using KMeans clustering</h2>

<h3>Description</h3>

<p>Uses <a href="https://en.wikipedia.org/wiki/K-means_clustering">KMeans
clustering</a> to determine color clusters that minimize the sum of distances
between pixels and their assigned clusters. Useful for parsing common color
motifs in an object.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getKMeanColors(
  path,
  n = 10,
  sample.size = 20000,
  plotting = TRUE,
  lower = c(0, 0.55, 0),
  upper = c(0.24, 1, 0.24),
  iter.max = 50,
  nstart = 5,
  return.clust = TRUE,
  color.space = "rgb",
  from = "sRGB",
  ref.white
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Path to an image (JPG or PNG).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Number of KMeans clusters to fit. Unlike <code>getImageHist</code>,
this represents the actual final number of bins, rather than the number of
breaks in each channel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.size</code></td>
<td>
<p>Number of pixels to be randomly sampled from filtered pixel
array for performing fit. If set to <code>FALSE</code>, all pixels are fit, but
this can be time-consuming, especially for large images.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotting</code></td>
<td>
<p>Logical. Should the results of the KMeans fit (original image
+ histogram of colors and bin sizes) be plotted?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>RGB triplet specifying the lower bounds for background
pixels. Default upper and lower bounds are set to values that work well for
a bright green background (RGB [0, 1, 0]).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>RGB triplet specifying the upper bounds for background
pixels. Default upper and lower bounds are set to values that work well for
a bright green background (RGB [0, 1, 0]). Determining these bounds may
take some trial and error, but the following bounds may work for certain
common background colors: </p>
 <ul>
<li>
<p> Black: lower=c(0, 0, 0);
upper=c(0.1, 0.1, 0.1) </p>
</li>
<li>
<p> White: lower=c(0.8, 0.8, 0.8); upper=c(1, 1,
1) </p>
</li>
<li>
<p> Green: lower=c(0, 0.55, 0); upper=c(0.24, 1, 0.24) </p>
</li>
<li>
<p> Blue:
lower=c(0, 0, 0.55); upper=c(0.24, 0.24, 1) </p>
</li>
</ul>
<p> If no background filtering is
needed, set bounds to some non-numeric value (<code>NULL</code>, <code>FALSE</code>,
<code>"off"</code>, etc); any non-numeric value is interpreted as <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter.max</code></td>
<td>
<p>Inherited from <code>kmeans</code>. The maximum
number of iterations allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstart</code></td>
<td>
<p>Inherited from <code>kmeans</code>. How many random
sets should be chosen?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.clust</code></td>
<td>
<p>Logical. Should clusters be returned? If <code>FALSE</code>,
results are plotted but not returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.space</code></td>
<td>
<p>The color space (<code>"rgb"</code>, <code>"hsv"</code>, or
<code>"lab"</code>) in which to cluster pixels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>Display color space of image if clustering in CIE Lab space,
probably either "sRGB" or "Apple RGB", depending on your computer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.white</code></td>
<td>
<p>The reference white passed to
<code>convertColorSpace</code>; must be specified if using CIE
Lab space. See convertColorSpace.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>kmeans</code> fit object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">colordistance::getKMeanColors(system.file("extdata",
"Heliconius/Heliconius_B/Heliconius_07.jpeg", package="colordistance"), n=3,
return.clust=FALSE, lower=rep(0.8, 3), upper=rep(1, 3))
</code></pre>


</div>