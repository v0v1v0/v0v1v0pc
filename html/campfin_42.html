<div class="container">

<table style="width: 100%;"><tr>
<td>normal_city</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Normalize city names</h2>

<h3>Description</h3>

<p>Return consistent version of a city names using <code style="white-space: pre;">⁠stringr::str_*()⁠</code> functions.
Letters are capitalized, hyphens and underscores are replaced with
whitespace, other punctuation is removed, numbers are removed, and excess
whitespace is trimmed and squished. Optionally, geographic abbreviations
("MT") can be replaced with their long form ("MOUNT"). Invalid addresses from
a vector can be removed (possibly using invalid_city) as well as single
(repeating) character strings ("XXXXXX").
</p>


<h3>Usage</h3>

<pre><code class="language-R">normal_city(city, abbs = NULL, states = NULL, na = c("", "NA"), na_rep = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>city</code></td>
<td>
<p>A vector of city names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abbs</code></td>
<td>
<p>A named vector or data frame of abbreviations passed to
expand_abbrev; see expand_abbrev for format of <code>abb</code> argument or use
the usps_city tibble.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>states</code></td>
<td>
<p>A vector of state abbreviations ("VT") to remove from the
<em>end</em> (and only end) of city names ("STOWE VT").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na</code></td>
<td>
<p>A vector of values to make <code>NA</code> (useful with the invalid_city
vector).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na_rep</code></td>
<td>
<p>logical; If <code>TRUE</code>, replace all single digit (repeating)
strings with <code>NA</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector of normalized city names.
</p>


<h3>See Also</h3>

<p>Other geographic normalization functions: 
<code>abbrev_full()</code>,
<code>abbrev_state()</code>,
<code>check_city()</code>,
<code>expand_abbrev()</code>,
<code>expand_state()</code>,
<code>fetch_city()</code>,
<code>normal_address()</code>,
<code>normal_state()</code>,
<code>normal_zip()</code>,
<code>str_normal()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">normal_city(
  city = c("Stowe, VT", "UNKNOWN CITY", "Burlington", "ST JOHNSBURY", "XXX"),
  abbs = c("ST" = "SAINT"),
  states = "VT",
  na = invalid_city,
  na_rep = TRUE
)
</code></pre>


</div>