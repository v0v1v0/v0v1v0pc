<div class="container">

<table style="width: 100%;"><tr>
<td>scancn</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Read a Text File by Auto-Detecting Encoding</h2>

<h3>Description</h3>

<p>The function reads a text file and tries to detect file encoding. If you have Chinese files from 
different sources and cannot give them a single encoding, just let this function detect and 
read them. The function can save you much time on dealing with unrecognizable characters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">scancn(x, enc = "auto", collapse = "   ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a length 1 character specifying filename.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enc</code></td>
<td>
<p>a length 1 character of file encoding specified by user. The default is "auto", which 
means let the function detect encoding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collapse</code></td>
<td>
<p>this is used by the <code>collapse</code> argument 
of <code>paste</code> in order to link characters together.
Default is "   " (three spaces).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function calls <code>scan(x, what = "character", ...)</code> and 
auto-detects file 
encoding. Sometimes 
a Chinese file is encoded in "UTF-8", but what is actually read is a "?". When this happens, 
the function reads it twice and uses <code>stringi::stri_encode</code> to convert it.
If invalid inputs are found in the content, the file will also be read twice.
</p>
<p>The function always returns a length 1 character. If the return of <code>scan</code> is a vector 
with length larger than 1, 
elements will be pasted together with three spaces 
or other specified symbols. 
</p>
<p>It will return 
a " " (one space) when all the elements of the vector are <code>NA</code>.
If not all elements 
are <code>NA</code>, those equal to <code>NA</code> will be changed to "" (a size 0 string) before being 
pasted together.
</p>


<h3>Value</h3>

<p>a length 1 character of text.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># No Chinese is allowed, so try an English file
x &lt;- file.path(find.package("base"), "CITATION")
scancn(x)
</code></pre>


</div>