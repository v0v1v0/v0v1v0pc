<div class="container">

<table style="width: 100%;"><tr>
<td>ccmm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Causal Compositional Mediation Model
</h2>

<h3>Description</h3>

<p>Estimate the direct and indirect (mediation) effects of treatment on the outcome when intermediate variables (mediators) are compositional and high-dimensional.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ccmm(y, M, tr, x = NULL, w = NULL, method.est.cov = "bootstrap", n.boot = 2000,
	sig.level = 0.05, tol = 1e-06, max.iter = 5000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>Vector of continuous outcomes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>Matrix of compositional data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tr</code></td>
<td>
<p>Vector of continuous or binary treatments</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Matrix of covariates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Vector of weights on samples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.est.cov</code></td>
<td>
<p>One of two options ("bootstrap", "normal") to estimate the variance of indirect effects</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.boot</code></td>
<td>
<p>Number of bootstrap samples</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig.level</code></td>
<td>
<p>Significance level to estimate bootstrap confidence intervals for direct and indirect effects of treatment</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>Error tolerance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.iter</code></td>
<td>
<p>Maximum number of iteration in a debias procedure</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If method.est.cov is "bootstrap",
</p>
<table>
<tr style="vertical-align: top;">
<td><code>DE</code></td>
<td>
<p>Direct effect of treatment on an outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>DE.CI</code></td>
<td>
<p>Bootstrap confidence interval for the direct effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TIDE</code></td>
<td>
<p>Total indirect effect of treatment on an outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TIDE.CI</code></td>
<td>
<p>Bootstrap confidence interval for the indirect effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IDEs</code></td>
<td>
<p>Component-wise indirect effects of treatment on an outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IDE.CIs</code></td>
<td>
<p>Bootstrap confidence intervals for the component-wise indirect effects</p>
</td>
</tr>
</table>
<p>If method.est.cov is "normal",
</p>
<table>
<tr style="vertical-align: top;">
<td><code>DE</code></td>
<td>
<p>Direct effect of treatment on an outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Var.DE</code></td>
<td>
<p>Variance of the direct effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TIDE</code></td>
<td>
<p>Total indirect effect of treatment on an outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Var.TIDE</code></td>
<td>
<p>Variance of the indirect effect</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>IDEs</code></td>
<td>
<p>Component-wise indirect effects of treatment on an outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Var.IDEs</code></td>
<td>
<p>Variances of the component-wise indirect effects</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michael B. Sohn
</p>
<p>Maintainer: Michael B. Sohn &lt;msohn@mail.med.upenn.edu&gt;
</p>


<h3>References</h3>

<p>Sohn, M.B. and Li, H. (2017). Compositional Mediation Analysis for Microbiome Studies (AOAS: In revision)
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Load test data
data(ccmm_test_data);
outcome &lt;- ccmm_test_data[,1];
treatment &lt;- ccmm_test_data[,2];
mediators &lt;- as.matrix(ccmm_test_data[,3:22]);
covariates &lt;- as.matrix(ccmm_test_data[,23:24]);

# Run CCMM
rslt.ccmm &lt;- ccmm(outcome, mediators, treatment, covariates);
</code></pre>


</div>