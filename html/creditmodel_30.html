<div class="container">

<table style="width: 100%;"><tr>
<td>customer_segmentation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Customer Segmentation</h2>

<h3>Description</h3>

<p><code>customer_segmentation</code> is  a function for clustering and find the best segment variable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">customer_segmentation(
  dat,
  x_list = NULL,
  ex_cols = NULL,
  cluster_control = list(meth = "Kmeans", kc = 2, nstart = 1, epsm = 1e-06, sf = 2,
    max_iter = 100),
  tree_control = list(cv_folds = 5, maxdepth = kc + 1, minbucket = nrow(dat)/(kc + 1)),
  save_data = FALSE,
  file_name = NULL,
  dir_path = tempdir()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>A data.frame contained only predict variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_list</code></td>
<td>
<p>A list of x variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ex_cols</code></td>
<td>
<p>A list of excluded variables. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster_control</code></td>
<td>
<p>A list controls cluster. kc is the number of cluster center (default is 2), nstart is the number of random groups (default is 1), max_iter max iteration number(default is 100) .
</p>

<ul>
<li> <p><code>meth</code> Method of clustering. Provides two mehods,"Kmeans" and "FCM(Fuzzy Cluster Means)"(default is "Kmeans").
</p>
</li>
<li> <p><code>kc</code>  Number of cluster center (default is 2).
</p>
</li>
<li> <p><code>nstart</code> Number of random groups (default is 1).
</p>
</li>
<li> <p><code>max_iter</code>  Max iteration number(default is 100).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tree_control</code></td>
<td>
<p>A list of controls for desison tree to find the best segment variable.
</p>

<ul>
<li> <p><code>cv_folds</code>  Number of cross-validations(default is 5).
</p>
</li>
<li> <p><code>maxdepth</code> Maximum depth of a tree(default is kc +1).
</p>
</li>
<li> <p><code>minbucket</code>  Minimum percent of observations in any terminal &lt;leaf&gt; node (default is nrow(dat) / (kc + 1)).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>save_data</code></td>
<td>
<p>Logical. If TRUE, save outliers analysis file to the specified folder at <code>dir_path</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file_name</code></td>
<td>
<p>The name for periodically saved segmentation file. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dir_path</code></td>
<td>
<p>The path for periodically saved segmentation file.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A "data.frame" object contains cluster results.
</p>


<h3>References</h3>

<p>Bezdek, James C. "FCM: The fuzzy c-means clustering algorithm".
Computers &amp; Geosciences (0098-3004),doi: <a href="https://doi.org/10.1016/0098-3004(84)90020-7">10.1016/0098-3004(84)90020-7</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">clust = customer_segmentation(dat = lendingclub[1:10000,20:30],
                              x_list = NULL, ex_cols = "id$|loan_status",
                              cluster_control = list(meth = "FCM", kc = 2),  save_data = FALSE,
                              tree_control = list(minbucket = round(nrow(lendingclub) / 10)),
                              file_name = NULL, dir_path = tempdir())
</code></pre>


</div>