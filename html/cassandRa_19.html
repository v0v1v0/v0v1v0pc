<div class="container">

<table style="width: 100%;"><tr>
<td>RarefyNetwork</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recalculate Network Metrics With Rarefied Webs</h2>

<h3>Description</h3>

<p>Resamples empirical network observations at a range of sampling levels and calls networklevel()
function from bipartite package to calculate network metrics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">RarefyNetwork(
  web,
  n_per_level = 1000,
  frac_sample_levels = seq(0.2, 1, l = 5),
  abs_sample_levels = NULL,
  metrics = "info",
  PARALLEL = FALSE,
  cores = 2,
  output = "df",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>web</code></td>
<td>
<p>A matrix format web, as for <code>bipartite</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_per_level</code></td>
<td>
<p>How many samples to take per sample level. Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>frac_sample_levels</code></td>
<td>
<p>Sequence of fractions of original sample size to resample at.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abs_sample_levels</code></td>
<td>
<p>If supplied, vector of absolute sample sizes to use to override  <code>frac_sample_levels</code>. Default = NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metrics</code></td>
<td>
<p>vector of metrics to calculate. Will be passed to  <code>index</code> of  <code>networklevel()</code>. Default = 'info'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>PARALLEL</code></td>
<td>
<p>Logical. If TRUE, will use parallel package to speed up metric calculation. Default = FALSE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cores</code></td>
<td>
<p>If using parallel, how man cores to use. Default = 2</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output</code></td>
<td>
<p>String specifying output. If 'plot' will return a ggplot facetted by metric using  <code>PlotRarefaction()</code>. If
'CI' will return a data frame (using  <code>ComputeCI()</code> containing 5 columns: Metric, LowerCI, UpperCI, Mean, SampleSize. Otherwise will return a
data frame of the raw recalculated metrics, with a separate column for each metric, and the last column specifying the resample size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass to <code>networklevel</code>. e.g. empty.web=FALSE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Can return either a data frame of raw metrics, a ggplot or a data frame of 'confidence intervals'.
</p>
<p>These CI are calculated from the set of resamples by ordering the network values and taking the
value of the metric ranked at the 5th and 95th percentile. (this method is very similar to that
employed by Casas <em>et al.</em> 2018 <em>Assessing sampling sufficiency of network metrics using bootstrap</em>
Ecological Complexity 36:268-275.)
</p>
<p>Note that confidence intervals for many metrics, particularly qualitative ones, will be biased by
the issue of false-negatives. Resampling of observations will not introduce missing links.
</p>
<p>By default the size of resamples are taken to be proportional to the original sample size. Original sample size is
defined as the sum of the supplied web. If a specific set of sample sizes is wanted, use <code>abs_sample_levels</code>
</p>
<p>It is possible to extrapolate how increases sample size may lead to increased confidence in a metric too.
Set the sequence to <code>frac_sample_levels</code> to go beyond 1.
</p>


<h3>Value</h3>

<p>Either a dataframe or a ggplot object. See details.
</p>


<h3>See Also</h3>

<p><code>networklevel</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(Safariland, package = 'bipartite')
RarefyNetwork(Safariland, n_per_level = 100)
</code></pre>


</div>