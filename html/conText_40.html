<div class="container">

<table style="width: 100%;"><tr>
<td>plot_nns_ratio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot output of <code>get_nns_ratio()</code>
</h2>

<h3>Description</h3>

<p>A way of visualizing the top nearest neighbors of a pair of ALC embeddings that captures
how "discriminant" each feature is of each embedding (group).
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_nns_ratio(x, alpha = 0.01, horizontal = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>output of get_nns_ratio</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>(numerical) betwee 0 and 1. Significance threshold to identify significant values.
These are denoted by a <code>*</code> on the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>horizontal</code></td>
<td>
<p>(logical) defines the type of plot. if TRUE results are plotted on 1 dimension.
If FALSE, results are plotted on 2 dimensions, with the second dimension catpuring the ranking
of cosine ratio similarties.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>ggplot-class</code> object.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(ggplot2)
library(quanteda)

# tokenize corpus
toks &lt;- tokens(cr_sample_corpus)

# build a tokenized corpus of contexts sorrounding a target term
immig_toks &lt;- tokens_context(x = toks, pattern = "immigration", window = 6L)

# sample 100 instances of the target term, stratifying by party (only for example purposes)
set.seed(2022L)
immig_toks &lt;- tokens_sample(immig_toks, size = 100, by = docvars(immig_toks, 'party'))

# we limit candidates to features in our corpus
feats &lt;- featnames(dfm(immig_toks))

# compute ratio
set.seed(2022L)
immig_nns_ratio &lt;- get_nns_ratio(x = immig_toks,
                                 N = 10,
                                 groups = docvars(immig_toks, 'party'),
                                 numerator = "R",
                                 candidates = feats,
                                 pre_trained = cr_glove_subset,
                                 transform = TRUE,
                                 transform_matrix = cr_transform,
                                 bootstrap = FALSE,
                                 num_bootstraps = 100,
                                 permute = FALSE,
                                 num_permutations = 10,
                                 verbose = FALSE)

plot_nns_ratio(x = immig_nns_ratio, alpha = 0.01, horizontal = TRUE)
</code></pre>


</div>