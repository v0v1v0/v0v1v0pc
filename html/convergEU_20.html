<div class="container">

<table style="width: 100%;"><tr>
<td>departure_best_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot of deviations from the best performer</h2>

<h3>Description</h3>

<p>Deviations from the best performer  are added over years
and plotted by country.
</p>


<h3>Usage</h3>

<pre><code class="language-R">departure_best_plot(
  cumulaDifVector,
  mainCountry = NA,
  countries = c(NA, NA),
  displace = 0.25,
  axis_name_y = "Countries",
  val_alpha = 0.95,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cumulaDifVector</code></td>
<td>
<p>a vector of cumulated differences, say from
a call to departure_best()$res$cumulated_dif, with named elements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mainCountry</code></td>
<td>
<p>the main country of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>countries</code></td>
<td>
<p>selection of countries to display; NA means all countries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>displace</code></td>
<td>
<p>graphical displacement</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis_name_y</code></td>
<td>
<p>name of the axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>val_alpha</code></td>
<td>
<p>transparency value in (0,1].</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>a flag to get debug information as msg component</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list with ggplot2 graphical object within res component
</p>


<h3>References</h3>

<p><a href="https://www.eurofound.europa.eu/system/files/2022-04/introduction-to-the-convergeu-package-0.6.4-tutorial-v2-apr2022.pdf">https://www.eurofound.europa.eu/system/files/2022-04/introduction-to-the-convergeu-package-0.6.4-tutorial-v2-apr2022.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Example 1
# Sorted dataframe in the format years by countries:
require(tibble)
testTB &lt;- dplyr::tribble(
~time, ~countryA ,  ~countryB,  ~countryC,
2000,     0.8,   2.7,    3.9,
2001,     1.2,   3.2,    4.2,
2002,     0.9,   2.9,    0.1,
2003,     1.3,   2.9,    1.0,
2004,     1.2,   3.1,    4.1,
2005,     1.2,   3.0,    4.0
)

# Departures from the best country according to the "highBest" indicator:
mySTB &lt;- departure_best(testTB,timeName="time",indiType = "highBest")

# Plot of deviations from the best performer:
departure_best_plot(cumulaDifVector = mySTB$res$cumulated_dif, mainCountry = "countryC",
countries = c("countryA","countryB"),displace = 0.25,
axis_name_y = "Countries",val_alpha  = 0.95,debug=FALSE)

# Departures from the best country according to the "lowBest" indicator:
mySTB1 &lt;- departure_best(testTB,timeName="time",indiType = "lowBest")
departure_best_plot(cumulaDifVector = mySTB1$res$cumulated_dif, mainCountry = "countryC",
countries = c("countryA","countryB"),displace = 0.25,
axis_name_y = "Countries",val_alpha  = 0.95,debug=FALSE)

# Example 2
# Departures from the best country for the emp_20_64_MS Eurofound dataset:
mySTB2 &lt;- departure_best(emp_20_64_MS,timeName="time",indiType = "highBest")
# Plot of deviations from the best performer with Italy as the country of interest:
departure_best_plot(mySTB2$res$cumulated_dif,
  mainCountry = "IT",
  countries=c("AT", "DE", "FR","SE","SK"),
  displace = 0.25,
  axis_name_y = "Countries",
  val_alpha  = 0.95,
  debug=FALSE)

 mySTB3 &lt;- departure_best(emp_20_64_MS,timeName="time",indiType = "lowBest")
 # Plot of deviations from the best performer with Germany as the country of interest:
 departure_best_plot(mySTB3$res$cumulated_dif,
 mainCountry = "DE",
 countries=c("AT", "SE", "FR","IT","SK"),
 displace = 0.25,
 axis_name_y = "Countries",
 val_alpha  = 0.95,
 debug=FALSE)
 
</code></pre>


</div>