<div class="container">

<table style="width: 100%;"><tr>
<td>demea_change</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate changes of deviations from the mean</h2>

<h3>Description</h3>

<p>Deviations from the mean of a collection of countries is calculated for
each year. Then differences at subsequent times are calculated within
each member state. Finally negative differences are added over years within
member state, and similarly  positive differences are added over years
within member state.
The output is made by  datasets with intermediate calculations,
and by the component statistics which is  member state by statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">demea_change(
  myTB,
  timeName = "time",
  time_0 = NA,
  time_t = NA,
  sele_countries = NA,
  doplot = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>myTB</code></td>
<td>
<p>a dataset time by countries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeName</code></td>
<td>
<p>name of the variable representing time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_0</code></td>
<td>
<p>starting time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_t</code></td>
<td>
<p>ending time</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sele_countries</code></td>
<td>
<p>selection of countries to display;
NA means all countries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doplot</code></td>
<td>
<p>if a ggplot2 graphical object desired then TRUE, otherwise
it is FALSE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Let </p>
<p style="text-align: center;"><code class="reqn">Y_{i,t,m}</code>
</p>
<p> be the indicator value i at time t for
country m.
Let </p>
<p style="text-align: center;"><code class="reqn">D_{i,t,m} = Y_{i,t,m} - M_{i,t,m}</code>
</p>
<p> be the departure from the mean
at time t.
Let </p>
<p style="text-align: center;"><code class="reqn">d_{i,t,m} = | D_{i,t,m}| - | D_{i,t,m}|</code>
</p>
<p> be the difference of
absolute values within country m at time t.
Then the overall negative and positive changes   are
</p>
<p style="text-align: center;"><code class="reqn">Cn(i,t,m) = \sum_{t} d_{i,t,m} I_{d&lt;=0}(d)</code>
</p>

<p>and
</p>
<p style="text-align: center;"><code class="reqn">Cp(i,t,m) = \sum_{t} d_{i,t,m} I_{d&gt;0}(d)</code>
</p>



<h3>Value</h3>

<p>A list with intermediate and final statistics; list component res_graph
is a ggplot2 object if the argument doplot = TRUE; to plot the object
use function plot().
</p>


<h3>References</h3>

<p><a href="https://www.eurofound.europa.eu/system/files/2022-04/introduction-to-the-convergeu-package-0.6.4-tutorial-v2-apr2022.pdf">https://www.eurofound.europa.eu/system/files/2022-04/introduction-to-the-convergeu-package-0.6.4-tutorial-v2-apr2022.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

# Example 1
# A dataset in the format time by countries:
require(tibble)
testTB &lt;- dplyr::tribble(
~time, ~countryA ,  ~countryB,  ~countryC,
2000,     0.8,   2.7,    3.9,
2001,     1.2,   3.2,    4.2,
2002,     0.9,   2.9,    4.1,
2003,     1.3,   2.9,    4.0,
2004,     1.2,   3.1,    4.1,
2005,     1.2,   3.0,    4.0
)
res &lt;- demea_change(testTB,
             timeName="time",
             time_0 = 2000,
             time_t = 2005,
             sele_countries= NA,
             doplot=TRUE)


plot(res$res$res_graph)


# Example 2
# Deviations from the mean for the emp_20_64_MS Eurofound dataset
data(emp_20_64_MS)

# Calculate deviations from the mean from 2013 to 2016 for Italy, France and Germany
res1&lt;-demea_change(emp_20_64_MS,
      timeName="time",
      time_0 = 2013,
      time_t = 2016,
      sele_countries= c('IT','FR','DE'),
      doplot=TRUE)

plot(res1$res$res_graph)



</code></pre>


</div>