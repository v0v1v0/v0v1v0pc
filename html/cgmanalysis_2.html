<div class="container">

<table style="width: 100%;"><tr>
<td>cgmvariables</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate CGM Variables</h2>

<h3>Description</h3>

<p>This function takes cleaned CGM data and returns clinically relevant measures
(e.g. percent time spent over 140, MAGE, MODD, etc.).
</p>


<h3>Usage</h3>

<pre><code class="language-R">cgmvariables(inputdirectory,
outputdirectory = tempdir(),
outputname = "REDCap Upload",
customintervals = list(c(180,250),c(250,400)),
aboveexcursionlength = 35,
belowexcursionlength = 10,
magedef = "1sd",
congan = 1,
daystart = 6,
dayend = 22,
id_filename = F,
format = "rows",
printname = F,
unit = "mg/dL")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inputdirectory</code></td>
<td>
<p>The directory containing cleaned CSV files for
analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputdirectory</code></td>
<td>
<p>The directory where you would like the results
spreadsheet to be written.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputname</code></td>
<td>
<p>The name of the file containing final CGM variables 
(without the file extension).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>customintervals</code></td>
<td>
<p>A list of custom blood glucose intervals. Minutes and 
percent time below the lower bound, in the specified range, and above the 
upper bound are calculated for each interval in the list. Number of 
excursions below the lower bound and above the upper bound are also 
calculated for each interval.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aboveexcursionlength</code></td>
<td>
<p>The number of minutes blood sugar must be above 
threshold to count an excursion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>belowexcursionlength</code></td>
<td>
<p>The number of minutes blood sugar must be below 
threshold to count an excursion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>magedef</code></td>
<td>
<p>How large an excursion needs to be in order to count in the 
MAGE calculation (e.g. greater than 1 standard deviation).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>congan</code></td>
<td>
<p>CONGA interval in hours.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>daystart</code></td>
<td>
<p>The numeric hour at which daytime should start (e.g. to start 
counting day time at 6:00am, set daystart = 6).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dayend</code></td>
<td>
<p>The numeric hour at which daytime should end (this parameter 
uses military time, so to stop counting day time at 10:00pm, set dayend = 22).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_filename</code></td>
<td>
<p>If true, the file name will be used for subject ID 
rather than the ID contained in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>Whether observations are in rows or columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>printname</code></td>
<td>
<p>Whether or not to print each file name (for troubleshooting).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit</code></td>
<td>
<p>Default unit is mg/dL. Any other value will multiply the 
"sensorglucose" column by 18 (i.e. the package assumes that unit != "mg/dL"
implies that the units are mmol/L). All relevant results are output in 
mg/dL.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>All files must be saved as a csv, and must have three columns, the first of 
which contains the subject ID in the first cell and date of CGM placement in 
the second (see example files). The names of the columns must be "subjectid" 
"timestamp" and "sensorglucose" (without quotes) respectively. Files can be 
cleaned and formatted using this package's cleandata() function.
</p>


<h3>Value</h3>

<p>A data frame containing calculated CGM variables, with each column
representing one CGM file.
</p>


<h3>Examples</h3>

<pre><code class="language-R">cgmvariables(system.file("extdata","Cleaned",package = "cgmanalysis"))
</code></pre>


</div>