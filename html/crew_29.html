<div class="container">

<table style="width: 100%;"><tr>
<td>crew_options_metrics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Options for logging resource usage metrics.</h2>

<h3>Description</h3>

<p>If a <code>crew_options_metrics()</code> object is
supplied to the <code>options_metrics</code> argument of a <code>crew</code>
controller function, then the <code>autometric</code> R package will
record resource usage metrics (such as CPU and memory usage)
for each running worker. Logging happens in
the background (through a detached POSIX) so as not to disrupt
the R session. On Unix-like systems, <code>crew_options_metrics()</code>
can specify <code style="white-space: pre;">⁠/dev/stdout⁠</code> or <code style="white-space: pre;">⁠/dev/stderr⁠</code> as the log files, which will
redirect output to existing logs you are already using.
<code>autometric::log_read()</code> and <code>autometric::log_plot()</code> can read and
visualize resource usage data from multiple log files, even
if those files are mixed with other messages.
</p>


<h3>Usage</h3>

<pre><code class="language-R">crew_options_metrics(path = NULL, seconds_interval = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>Where to write resource metric log entries for workers.
<code>path = NULL</code> disables logging. <code>path</code> equal to <code>"/dev/stdout"</code>
(or <code>"/dev/stderr"</code>) sends log messages to the standard output
(or standard error) streams, which is recommended on Unix-like systems
because then output will go to the existing log files already
configured for the
controller, e.g. through <code>crew_options_local()</code> in the case of
<code>crew_controller_local()</code>. If <code>path</code> is not <code>NULL</code>, <code>"/dev/stdout"</code>, or
<code>"/dev/stderr"</code>, it should be a directory path,
in which case each worker instance will write to a new file in that
directory.
</p>
<p>After running enough tasks in <code>crew</code>, you can call
<code>autometric::log_read(path)</code> to read all the data from all the log
files in the files or directories at <code>path</code>,
even if the logs files are mixed with other kinds of messages.
Pass that data into <code>autometric::log_read()</code> to visualize it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seconds_interval</code></td>
<td>
<p>Positive number, seconds between resource metric
log entries written to <code>path</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A classed list of options for logging resource usage metrics.
</p>


<h3>See Also</h3>

<p>Other options: 
<code>crew_options_local()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  crew_options_metrics()
</code></pre>


</div>