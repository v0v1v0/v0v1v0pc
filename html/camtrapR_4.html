<div class="container">

<table style="width: 100%;"><tr>
<td>activityOverlap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot overlapping kernel densities of two-species activities</h2>

<h3>Description</h3>

<p>This function plots kernel density estimates of two species' diel activity
data by calling the function <code>overlapPlot</code> from package
<span class="pkg">overlap</span>. It further computes the overlap coefficient Dhat1 by calling
<code>overlapEst</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">activityOverlap(
  recordTable,
  speciesA,
  speciesB,
  speciesCol = "Species",
  recordDateTimeCol = "DateTimeOriginal",
  recordDateTimeFormat = "ymd HMS",
  plotR = TRUE,
  writePNG = FALSE,
  addLegend = TRUE,
  legendPosition = "topleft",
  plotDirectory,
  createDir = FALSE,
  pngMaxPix = 1000,
  add.rug = TRUE,
  overlapEstimator = c("Dhat1", "Dhat4", "Dhat5"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>recordTable</code></td>
<td>
<p>data.frame. the record table created by
<code>recordTable</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speciesA</code></td>
<td>
<p>Name of species 1 (as found in <code>speciesCol</code> of
recordTable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speciesB</code></td>
<td>
<p>Name of species 2 (as found in <code>speciesCol</code> of
recordTable)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speciesCol</code></td>
<td>
<p>character. name of the column specifying species names in
<code>recordTable</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recordDateTimeCol</code></td>
<td>
<p>character. name of the column specifying date and
time in <code>recordTable</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>recordDateTimeFormat</code></td>
<td>
<p>character. format of column
<code>recordDateTimeCol</code> in <code>recordTable</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotR</code></td>
<td>
<p>logical. Show plots in R graphics device?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>writePNG</code></td>
<td>
<p>logical. Create pngs of the plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>addLegend</code></td>
<td>
<p>logical. Add a legend to the plots?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legendPosition</code></td>
<td>
<p>character. Position of the legend (keyword)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotDirectory</code></td>
<td>
<p>character. Directory in which to create png plots if
<code>writePNG = TRUE</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>createDir</code></td>
<td>
<p>logical. Create <code>plotDirectory</code>?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pngMaxPix</code></td>
<td>
<p>integer. image size of png (pixels along x-axis)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add.rug</code></td>
<td>
<p>logical. add a rug to the plot?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>overlapEstimator</code></td>
<td>
<p>character. Which overlap estimator to return (passed
on to argument <code>type</code> in <code>overlapEst</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments to be passed to function
<code>overlapPlot</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>...</code> can be graphical parameters passed on to function
<code>overlapPlot</code>, e.g. <code>linetype</code>, <code>linewidth</code>,
<code>linecol</code> (see example below).
</p>
<p><code>recordDateTimeFormat</code> defaults to the "YYYY-MM-DD HH:MM:SS"
convention, e.g. "2014-09-30 22:59:59". <code>recordDateTimeFormat</code> can be
interpreted either by base-R via <code>strptime</code> or in
<span class="pkg">lubridate</span> via <code>parse_date_time</code> (argument
"orders"). <span class="pkg">lubridate</span> will be used if there are no "%" characters in
<code>recordDateTimeFormat</code>.
</p>
<p>For "YYYY-MM-DD HH:MM:SS", <code>recordDateTimeFormat</code> would be either
"%Y-%m-%d %H:%M:%S" or "ymd HMS". For details on how to specify date
and time formats in R see <code>strptime</code> or
<code>parse_date_time</code>.
</p>


<h3>Value</h3>

<p>Returns invisibly the <code>data.frame</code> with plot coordinates
returned by <code>overlapPlot</code>.
</p>


<h3>Note</h3>

<p>Please be aware that the function (like the other activity... function
of this package) use clock time, not solar time. If your survey was long
enough to see changes in sunrise and sunset times, this may result in biased
representations of species activity.
</p>


<h3>Author(s)</h3>

<p>Juergen Niedballa
</p>


<h3>References</h3>

<p>Mike Meredith and Martin Ridout (2018). overlap: Estimates of
coefficient of overlapping for animal activity patterns. R package version
0.3.2. <a href="https://CRAN.R-project.org/package=overlap">https://CRAN.R-project.org/package=overlap</a> <br> Ridout, M.S. and
Linkie, M. (2009) Estimating overlap of daily activity patterns from camera
trap data. Journal of Agricultural, Biological and Environmental Statistics,
14, 322-337.
</p>


<h3>See Also</h3>

<p><code>activityDensity</code> <br><a href="https://www.kent.ac.uk/smsas/personal/msr/overlap.html">https://www.kent.ac.uk/smsas/personal/msr/overlap.html</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
if(requireNamespace("overlap")) {

# load record table
data(recordTableSample)

# define species of interest
speciesA_for_activity &lt;- "VTA"    # = Viverra tangalunga, Malay Civet
speciesB_for_activity &lt;- "PBE"    # = Prionailurus bengalensis, Leopard Cat

# create activity overlap plot (basic)
activityOverlap (recordTable = recordTableSample,
                 speciesA    = "VTA",    # = Viverra tangalunga, Malay Civet
                 speciesB    = "PBE",    # = Prionailurus bengalensis, Leopard Cat
                 writePNG    = FALSE,
                 plotR       = TRUE
)


                                     
# create activity overlap plot (prettier and with some overlapPlot arguments set)

activityOverlap (recordTable = recordTableSample,
                 speciesA    = speciesA_for_activity,
                 speciesB    = speciesB_for_activity,
                 writePNG    = FALSE,
                 plotR       = TRUE,
                 createDir   = FALSE,
                 pngMaxPix   = 1000,
                 linecol     = c("black", "blue"),
                 linewidth   = c(5,3),
                 linetype    = c(1, 2),
                 olapcol     = "darkgrey",
                 add.rug     = TRUE,
                 extend      = "lightgrey",
                 ylim        = c(0, 0.25),
                 main        = paste("Activity overlap between ", 
                                     speciesA_for_activity, "and", 
                                     speciesB_for_activity)
)
}

</code></pre>


</div>