<div class="container">

<table style="width: 100%;"><tr>
<td>getKMeansList</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get KMeans clusters for every image in a set</h2>

<h3>Description</h3>

<p>Performs <code>getKMeanColors</code> on every image in a set of images and
returns a list of kmeans fit objects, where each dataframe contains the RGB
coordinates of the clusters and the percentage of pixels in the image
assigned to that cluster.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getKMeansList(
  images,
  bins = 10,
  sample.size = 20000,
  plotting = FALSE,
  lower = c(0, 0.55, 0),
  upper = c(0.24, 1, 0.24),
  iter.max = 50,
  nstart = 5,
  img.type = FALSE,
  color.space = "rgb",
  from = "sRGB",
  ref.white
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>images</code></td>
<td>
<p>A character vector of directories, image paths, or a
combination of both. Takes either absolute or relative filepaths.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bins</code></td>
<td>
<p>Number of KMeans clusters to fit. Unlike <code>getImageHist</code>,
this represents the actual final number of bins, rather than the number of
breaks in each channel.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample.size</code></td>
<td>
<p>Number of pixels to be randomly sampled from filtered pixel
array for performing fit. If set to <code>FALSE</code>, all pixels are fit, but
this can be time-consuming, especially for large images.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotting</code></td>
<td>
<p>Logical. Should the results of the KMeans fit (original image
+ histogram of colors and bin sizes) be plotted for each image?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower</code></td>
<td>
<p>RGB triplet specifying the lower bounds for background
pixels. Default upper and lower bounds are set to values that work well for
a bright green background (RGB [0, 1, 0]).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>upper</code></td>
<td>
<p>RGB triplet specifying the upper bounds for background
pixels. Default upper and lower bounds are set to values that work well for
a bright green background (RGB [0, 1, 0]). Determining these bounds may
take some trial and error, but the following bounds may work for certain
common background colors: </p>
 <ul>
<li>
<p> Black: lower=c(0, 0, 0);
upper=c(0.1, 0.1, 0.1) </p>
</li>
<li>
<p> White: lower=c(0.8, 0.8, 0.8); upper=c(1, 1,
1) </p>
</li>
<li>
<p> Green: lower=c(0, 0.55, 0); upper=c(0.24, 1, 0.24) </p>
</li>
<li>
<p> Blue:
lower=c(0, 0, 0.55); upper=c(0.24, 0.24, 1) </p>
</li>
</ul>
<p> If no background filtering is
needed, set bounds to some non-numeric value (<code>NULL</code>, <code>FALSE</code>,
<code>"off"</code>, etc); any non-numeric value is interpreted as <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter.max</code></td>
<td>
<p>Inherited from <code>kmeans</code>. The maximum
number of iterations allowed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nstart</code></td>
<td>
<p>Inherited from <code>kmeans</code>. How many random
sets should be chosen?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>img.type</code></td>
<td>
<p>Logical. Should the image extension (.PNG or .JPG) be retained
in the list names?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.space</code></td>
<td>
<p>The color space (<code>"rgb"</code>, <code>"hsv"</code>, or
<code>"lab"</code>) in which to cluster pixels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>from</code></td>
<td>
<p>Original color space of images if clustering in CIE Lab space,
probably either "sRGB" or "Apple RGB", depending on your computer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref.white</code></td>
<td>
<p>The reference white passed to
<code>convertColorSpace</code>; must be specified if using CIE
Lab space. See convertColorSpace.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list of kmeans fit objects, where the list element names are the
original image names.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Takes a few seconds to run
kmeans_list &lt;- colordistance::getKMeansList(dir(system.file("extdata",
"Heliconius/", package="colordistance"), full.names=TRUE), bins=3,
lower=rep(0.8, 3), upper=rep(1, 3), plotting=TRUE)

## End(Not run)
</code></pre>


</div>