<div class="container">

<table style="width: 100%;"><tr>
<td>SearchCatalogBy...</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Search collection for available images (vectorization ready)</h2>

<h3>Description</h3>

<p>These functions search the specified collection for available images using the parameters provided.
They are simple wrappers around the 'SearchCatalog' function with arguments organized in a way
that facilitates calling the function in a vectorized manner (using 'lapply' or similar function)
and thus potentially also the parallelization. The 'from' and 'to' arguments are combined into a single argument 'time_range'.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SearchCatalogByTimerange(
  time_range,
  aoi,
  bbox,
  collection,
  as_data_frame = TRUE,
  with_geometry = TRUE,
  filter = NULL,
  client,
  token,
  url = getOption("CDSE.catalog_url")
)

SearchCatalogByAOI(
  aoi,
  time_range,
  collection,
  as_data_frame = TRUE,
  with_geometry = TRUE,
  filter = NULL,
  client,
  token,
  url = getOption("CDSE.catalog_url")
)

SearchCatalogByBbox(
  bbox,
  time_range,
  collection,
  as_data_frame = TRUE,
  with_geometry = TRUE,
  filter = NULL,
  client,
  token,
  url = getOption("CDSE.catalog_url")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time_range</code></td>
<td>
<p>scalar or vector (Date or character that can be converted to date) defining the time interval.
Open interval (one side only) can be obtained by providing the <code>NA</code> or <code>NULL</code> value for the corresponding argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>aoi</code></td>
<td>
<p>sf or sfc object, typically a (multi)polygon, describing the Area of Interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bbox</code></td>
<td>
<p>numeric vector of four elements describing the bounding box of interest.
Specify with a coordinate pair on two (opposite) vertices of the bounding box rectangle.
Coordinates need to be in longitude, latitude.
</p>
<p>Only one of either <code>aoi</code> or <code>bbox</code> may be specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collection</code></td>
<td>
<p>character indicating which collection to search.
Must be one of the collections returned by <code>GetCollections</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_data_frame</code></td>
<td>
<p>logical indicating if the result should be returned as data frame. Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>with_geometry</code></td>
<td>
<p>logical indicating if the granule geometries should be included in the data.frame. Default: TRUE</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>character, CQL2 text filter. Use the function <code>GetQueryables</code> to find out which filters
can bu used with the collection. Default: NULL (no filtering)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>client</code></td>
<td>
<p>OAuth client object to use for authentication.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token</code></td>
<td>
<p>OAuth token character string to use for authentication.
</p>
<p>Exactly one of either <code>client</code> or <code>token</code> must be specified. It is recommended to use <code>client</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>url</code></td>
<td>
<p>character indicating the STAC catalog search endpoint. Default: Copernicus Data Space Ecosystem STAC endpoint</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If no images found, a <code>NULL</code> value is returned.
</p>
<p><code>SearchCatalogByTimerange</code> is arranged for vectorization on time_range (time_range is the first argument).
</p>
<p><code>SearchCatalogByAOI</code> is arranged for vectorization on aoi (aoi is the first argument).
</p>
<p><code>SearchCatalogByBbox</code> is arranged for vectorization on bbox (bbox is the first argument).
</p>


<h3>Value</h3>

<p>A <code>list</code>, <code>data.frame</code> or a <code>sf</code> object.
</p>


<h3>Source</h3>

<p><a href="https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Catalog.html">https://documentation.dataspace.copernicus.eu/APIs/SentinelHub/Catalog.html</a>
</p>


<h3>See Also</h3>

<p><code>SearchCatalog</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
dsn &lt;- system.file("extdata", "centralpark.geojson", package = "CDSE")
aoi &lt;- sf::read_sf(dsn, as_tibble = FALSE)
seasons &lt;- SeasonalTimerange(from = "2020-06-01", to = "2023-08-31")
lst_images_cloudless &lt;- lapply(seasons, SearchCatalogByTimerange, aoi = aoi,
    collection = "sentinel-2-l2a", with_geometry = FALSE,
    filter = "eo:cloud_cover &lt; 5", client = OAuthClient)
images_cloudless &lt;- do.call(rbind, lst_images_cloudless)
images_cloudless &lt;- images_cloudless[rev(order(images_cloudless$acquisitionDate)), ]
row.names(images_cloudless) &lt;- NULL
head(images_cloudless[, 1:5])

## End(Not run)
</code></pre>


</div>