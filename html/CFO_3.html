<div class="container">

<table style="width: 100%;"><tr>
<td>CFO.oc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate operating characteristics of phase I trials single-drug trials in multiple simulations</h2>

<h3>Description</h3>

<p>Based on the toxicity outcomes, this function is used to perform multiple simulations for phase I single-drug trials and obtain relevant operating characteristics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">CFO.oc(nsimu = 5000, design, target, p.true, init.level = 1, ncohort, cohortsize,
       assess.window = NA, tte.para = NA, accrual.rate = NA, accrual.dist = NA, 
       prior.para = list(alp.prior = target, bet.prior = 1 - target),
       cutoff.eli = 0.95, early.stop = 0.95, seeds = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>nsimu</code></td>
<td>
<p>the total number of trials to be simulated. The default value is 5000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>option for selecting different designs, which can be set as <code>'CFO'</code>, <code>'aCFO'</code>,
<code>'TITE-CFO'</code>, <code>'TITE-aCFO'</code>, <code>'fCFO'</code>, <code>'f-aCFO'</code>, <code>'bCFO'</code>,
and <code>'b-aCFO'</code>. Specifically, <code>'bCFO'</code> refers to the benchmark CFO design, and
<code>'b-aCFO'</code> denotes the benchmark aCFO design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>the target DLT rate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.true</code></td>
<td>
<p>the true DLT rates under the different dose levels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init.level</code></td>
<td>
<p>the dose level assigned to the first cohort. The default value <code>init.level</code> is 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncohort</code></td>
<td>
<p>the total number of cohorts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohortsize</code></td>
<td>
<p>the number of patients of each cohort.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>assess.window</code></td>
<td>
<p>the maximal assessment window size. <code>NA</code> should be assigned if the design without late-oneset outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tte.para</code></td>
<td>
<p>the parameter related with the distribution of the time to DLT events. The time to DLT is sampled from a Weibull
distribution, with <code>tte.para</code> representing the proportion of DLTs occurring within the first half of the
assessment window. <code>NA</code> should be assigned if the design without late-oneset outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accrual.rate</code></td>
<td>
<p>the accrual rate, i.e., the number of patients accrued per unit time. <code>NA</code> should be assigned
if the design without late-onset outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>accrual.dist</code></td>
<td>
<p>the distribution of the arrival times of patients. When <code>accrual.dist = 'fix'</code>, it corresponds to all
patients in each cohort arriving simultaneously at a given accrual rate. When <code>accrual.dist = 'unif'</code>,
it corresponds to a uniform distribution, and when <code>accrual.dist = 'exp'</code>, it corresponds to an
exponential distribution. <code>NA</code> should be assigned if the design without late-oneset outcomes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prior.para</code></td>
<td>
<p>the prior parameters for a beta distribution, where set as <code>list(alp.prior = target, bet.prior = 1 - target)</code>
by default, <code>alp.prior</code> and <code>bet.prior</code> represent the parameters of the prior distribution for
the true DLT rate at any dose level. This prior distribution is specified as Beta(<code>alpha.prior</code>, <code>beta.prior</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff.eli</code></td>
<td>
<p>the cutoff to eliminate overly toxic doses for safety. We recommend
the default value of <code>cutoff.eli = 0.95</code> for general use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>early.stop</code></td>
<td>
<p>the threshold value for early stopping. The default value <code>early.stop = 0.95</code>
generally works well.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seeds</code></td>
<td>
<p>a vector of random seeds for each simulation, for example, <code>seeds = 1:nsimu</code> (default is <code>NULL</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The <code>CFO.oc()</code> function returns basic setup of ($simu.setup) and the operating
characteristics of the design: <br></p>

<ul>
<li>
<p> p.true: the true DLT rates under the different dose levels.
</p>
</li>
<li>
<p> selpercent: the selection percentage at each dose level.
</p>
</li>
<li>
<p> npatients: the averaged number of patients treated at each dose level in one simulation.
</p>
</li>
<li>
<p> ntox: the averaged number of toxicity observed at each dose level in one simulation.
</p>
</li>
<li>
<p> MTDsel: the percentage of correct selection of the MTD.
</p>
</li>
<li>
<p> MTDallo: the percentage of patients allocated to the MTD.
</p>
</li>
<li>
<p> oversel: the percentage of selecting a dose above the MTD.
</p>
</li>
<li>
<p> overallo: the percentage of allocating patients at dose levels above the MTD.
</p>
</li>
<li>
<p> averDLT: the percentage of the patients suffering DLT.
</p>
</li>
<li>
<p> averdur: the average trial duration if trials with late-onset toxicities.
</p>
</li>
<li>
<p> percentstop: the percentage of early stopping without selecting the MTD.
</p>
</li>
<li>
<p> simu.setup: the parameters for the simulation set-up.
</p>
</li>
</ul>
<h3>Note</h3>

<p>The operating characteristics are generated by simulating multiple single-drug trials under the
pre-specified true toxicity probabilities of the investigational doses. The choice of which design to execute
is determined by setting the <code>design</code> argument. Some time-related arguments (<code>assess.window</code>, <code>accrual.rate</code>,
<code>tte.para</code>, and <code>accrual.dist</code>) need to be set as values only when running a design that can handle late-onset
toxicities; otherwise, they default to <code>NA</code>.<br>
Additionally, in the example, we set <code>nsimu = 5</code> for testing time considerations. In reality, <code>nsimu</code>
is typically set to 5000 to ensure the accuracy of the results.
</p>


<h3>Author(s)</h3>

<p>Jialu Fang, Wenliang Wang, Ninghao Zhang, and Guosheng Yin
</p>


<h3>References</h3>

<p>Jin H, Yin G (2022). CFO: Calibration-free odds design for phase I/II clinical trials.
<em>Statistical Methods in Medical Research</em>, 31(6), 1051-1066. <br>
Jin H, Yin G (2023). Time‐to‐event calibration‐free odds design: A robust efficient design for
phase I trials with late‐onset outcomes. <em>Pharmaceutical Statistics</em>. 22(5), 773–783.<br>
Yin G, Zheng S, Xu J (2013). Fractional dose-finding methods with late-onset toxicity in
phase I clinical trials. <em>Journal of Biopharmaceutical Statistics</em>, 23(4), 856-870.<br>
Fang J, Yin G (2024). Fractional accumulative calibration‐free odds (f‐aCFO) design for delayed toxicity
in phase I clinical trials. <em>Statistics in Medicine</em>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## setting
nsimu &lt;- 5; target &lt;- 0.2; ncohort &lt;- 10; cohortsize &lt;- 3; init.level &lt;- 1
p.true &lt;- c(0.01, 0.07, 0.20, 0.35, 0.50, 0.65, 0.80)
prior.para = list(alp.prior = target, bet.prior = 1 - target)
assess.window &lt;- 3; accrual.rate &lt;- 2; tte.para &lt;- 0.5; accrual.dist &lt;- 'unif'


## get the operating characteristics for 5 simulations using the f-aCFO design
faCFOoc &lt;- CFO.oc (nsimu, design='f-aCFO', target, p.true, init.level, ncohort, cohortsize,
        assess.window, tte.para, accrual.rate, accrual.dist, seeds = 1:nsimu)
summary(faCFOoc)
plot(faCFOoc)


# This test may take longer than 5 seconds to run
# It is provided for illustration purposes only
# Users can run this code directly

## get the operating characteristics for 5 simulations using the CFO design
CFOoc &lt;- CFO.oc (nsimu, design = 'CFO', target, p.true, init.level, ncohort, cohortsize,
         assess.window = NA, tte.para = NA, accrual.rate = NA, accrual.dist = NA, seeds = 1:nsimu)
summary(CFOoc)
plot(CFOoc)

## get the operating characteristics for 5 simulations using the aCFO design
aCFOoc &lt;- CFO.oc (nsimu, design = 'aCFO', target, p.true, init.level, ncohort, cohortsize,
       assess.window = NA, tte.para = NA, accrual.rate = NA, accrual.dist = NA, seeds = 1:nsimu)
summary(aCFOoc)
plot(aCFOoc)
## get the operating characteristics for 5 simulations using the TITE-CFO design
TITECFOoc &lt;- CFO.oc (nsimu, design = 'TITE-CFO', target, p.true, init.level, ncohort, cohortsize,
        assess.window, tte.para, accrual.rate, accrual.dist, seeds = 1:nsimu)
summary(TITECFOoc)
plot(TITECFOoc)
## get the operating characteristics for 5 simulations using the TITE-aCFO design
TITEaCFOoc &lt;- CFO.oc (nsimu, design = 'TITE-aCFO', target, p.true, init.level, ncohort, cohortsize,
        assess.window, tte.para, accrual.rate, accrual.dist, seeds = 1:nsimu)
summary(TITEaCFOoc)
plot(TITEaCFOoc)
## get the operating characteristics for 5 simulations using the fCFO design
fCFOoc &lt;- CFO.oc (nsimu, design = 'fCFO', target, p.true, init.level, ncohort, cohortsize,
        assess.window, tte.para, accrual.rate, accrual.dist, seeds = 1:nsimu)
summary(fCFOoc)
plot(fCFOoc)
## get the operating characteristics for 5 simulations using the bCFO design
bCFOoc &lt;- CFO.oc (nsimu, design = 'bCFO', target, p.true, init.level, ncohort, cohortsize,
        assess.window, tte.para, accrual.rate, accrual.dist, seeds = 1:nsimu)
summary(bCFOoc)
plot(bCFOoc)
## get the operating characteristics for 5 simulations using the b-aCFO design
baCFOoc &lt;- CFO.oc (nsimu, design = 'b-aCFO', target, p.true, init.level, ncohort, cohortsize,
        assess.window, tte.para, accrual.rate, accrual.dist, seeds = 1:nsimu)
summary(baCFOoc)
plot(baCFOoc)

</code></pre>


</div>