<div class="container">

<table style="width: 100%;"><tr>
<td>cds</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Constrained Dual Scaling for Successive Categories with Groups</h2>

<h3>Description</h3>

<p>Uses an alternating nonnegative least squares algorithm combined with a
k-means-type algorithm to optimize the constrained group dual scaling
criterion outlined in the reference. Parallel computations for random starts
of the grouping matrix is supported via package <span class="pkg">parallel</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cds(x, K = 4, q = NULL, eps.ALS = 0.001, eps.G = 1e-07,
  nr.starts.G = 20, nr.starts.a = 5, maxit.ALS = 20, maxit = 50,
  Gstarts = NULL, astarts = NULL, parallel = FALSE, random.G = FALSE,
  times.a.multistart = 1, info.level = 1, mc.preschedule = TRUE,
  seed = NULL, LB = FALSE, reorder.grps = TRUE, rescale.a = TRUE,
  tol = sqrt(.Machine$double.eps), update.G = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>"dsdata"</code> (see <code>cds.sim()</code>),
or a matrix (or object coercible to a matrix) containing the data for n
individuals on m objects. The data does not yet contain any additional
columns for the rating scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>The number of response style groups to look for. If a vector of 
length greater than one is given, the algorithm is run for each element
and a list of class <code>cdslist</code> is returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The maximum rating (the scale is assumed to be <code>1:q</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps.ALS</code></td>
<td>
<p>Numerical convergence criterion for the alternating least
squares part of the algorithm (updates for row and column scores).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eps.G</code></td>
<td>
<p>Numerical convergence criterion for the k-means part of the
algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nr.starts.G</code></td>
<td>
<p>Number of random starts for the grouping matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nr.starts.a</code></td>
<td>
<p>Number of random starts for the row scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit.ALS</code></td>
<td>
<p>Maximum number of iterations for the ALS part of the
algorithm. A warning is given if this maximum is reached. Often it is not a
concern if this maximum is reached.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>Maximum number of iterations for the k-means part of the
algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Gstarts</code></td>
<td>
<p>Facility to supply a list of explicit starting values for the
grouping matrix G. Each start consists of a two element list: <code>i</code> giving
and integer number the start, and <code>G</code> giving the starting configuration
as an indicator matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>astarts</code></td>
<td>
<p>Supply explicit starts for the a vectors, as a list.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parallel</code></td>
<td>
<p>logical. Should parallelization over starts for the grouping
matrix be used?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>random.G</code></td>
<td>
<p>logical. Should the k-means part consider the individuals in
a random order?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times.a.multistart</code></td>
<td>
<p>The number of times that random starts for the row
scores are used. If == 1, then random starts are only used once for each
start of the grouping matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>info.level</code></td>
<td>
<p>Verbosity of the output. Options are 1, 2, 3 and 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mc.preschedule</code></td>
<td>
<p>Argument to mclapply under Unix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Random seed for random number generators. Only partially
implemented.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>LB</code></td>
<td>
<p>logical. Load-balancing used in parallelization or not? Windows only.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reorder.grps</code></td>
<td>
<p>logical. Use the Hungarian algorithm to reorder group
names so that the trace of the confusion matrix is maximized.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rescale.a</code></td>
<td>
<p>logical. Rescale row score to length sqrt(2n) if TRUE
(after the algorithm has converged).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>tolerance <code>tol</code> passed to <code>lsei</code> of the
<span class="pkg">limSolve</span> package. Defaults to <code>sqrt(.Machine$double.eps)</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>update.G</code></td>
<td>
<p>Logical indicating whether or not to update the G matrix
from its starting configuration. Useful when clustering is known apriori or
not desired.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>See the reference for more details.
</p>


<h3>Value</h3>

<p>Object of class <code>ds</code> with elements: </p>
<table>
<tr style="vertical-align: top;">
<td><code>G</code></td>
<td>
<p>Grouping indicator
matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>Number of groups K.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opt.crit</code></td>
<td>
<p>Optimum value of the
criterion.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>The 2n-vector of row scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bstar</code></td>
<td>
<p>The m-vector
of object scores.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bkmat</code></td>
<td>
<p>The matrix of group-specific boundary scores
for the ratings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alphamat</code></td>
<td>
<p>The estimated spline coefficients for each
group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iter</code></td>
<td>
<p>The number of iterations used for the optimal random
start wrt the grouping matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.G.start</code></td>
<td>
<p>The number of seconds it
took for the algorithm to converge for this optimal random start.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grp</code></td>
<td>
<p>The grouping of the individuals as obtained by the algorithm.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kloss</code></td>
<td>
<p>Loss value from G update (not equivalent to that of ALS
updates).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hitrate, confusion</code></td>
<td>
<p>Confusion and hitrates of original data
object contained a grouping vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loss.G</code></td>
<td>
<p>Optimality criterion
values for the random starts of G.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>q</code></td>
<td>
<p>The number of ratings in the
Likert scale <code>1:q</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.total</code></td>
<td>
<p>Total time taken for the
algorithm over all random starts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The input data object.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Pieter C. Schoonees
</p>


<h3>References</h3>

<p>Schoonees, P.C., Velden, M. van de &amp; Groenen, P.J.F. (2013).
Constrained Dual Scaling for Detecting Response Styles in Categorical Data.
(EI report series EI 2013-10). Rotterdam: Econometric Institute.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(1234)
dat &lt;- cds.sim()
out &lt;- cds(dat)

</code></pre>


</div>