<div class="container">

<table style="width: 100%;"><tr>
<td>convert_to_dlabel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert the intent of a CIFTI file or <code>"xifti"</code> object</h2>

<h3>Description</h3>

<p>Convert the intent of a CIFTI file or <code>"xifti"</code> object
</p>


<h3>Usage</h3>

<pre><code class="language-R">convert_to_dlabel(
  x,
  cifti_target_fname = NULL,
  levels_old = NULL,
  levels = NULL,
  labels = NULL,
  nsig = Inf,
  colors = "Set2",
  add_white = TRUE,
  return_conversion_table = FALSE
)

convert_to_dscalar(x, cifti_target_fname = NULL, names = NULL)

convert_to_dtseries(
  x,
  cifti_target_fname = NULL,
  time_start = 0,
  time_step = 1,
  time_unit = c("second", "hertz", "meter", "radian")
)

convert_xifti(
  x,
  to = c("dscalar", "dtseries", "dlabel"),
  cifti_target_fname = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The CIFTI file name or <code>"xifti"</code> object to convert.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cifti_target_fname</code></td>
<td>
<p>File name for the converted CIFTI. Only used if
<code>x</code> is a CIFTI file name. If <code>NULL</code> (default), will use the same
name as <code>x</code> but with the extension updated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levels_old, levels, labels</code></td>
<td>
<p>(Optional) <code>levels_old</code> is a vector of
the original data values. They should all be unique. They may not all occur
in the <code>"xifti"</code> data, but every datapoint in the <code>"xifti"</code> must
occur in <code>levels_old</code>. If <code>levels_old</code> is not provided it will be set to
the vector of all unique values in the data, in ascending order.
</p>
<p>If <code>levels</code> is not provided, the original values will be re-mapped
to integers from $0$ to $N-1$ (the "Keys" of a "dlabel" CIFTI), with $N$
being the length of <code>levels_old</code>. Otherwise, <code>levels</code> can be a
vector the same length as <code>levels_old</code> specifying the corresponding new
integers to use (rather than $0$ to $N-1$). If <code>x</code> is already "dlabel",
then by setting <code>levels_old</code> to the current label table values and
<code>levels</code> to the desired new values, the data can be re-leveled
(see examples in function documentation). Note that duplicates in
<code>levels_old</code> are allowed, to map multiple existing levels to the same
new level.
</p>
<p>New label names can be set with <code>labels</code>. If provided, it must be a
character vector with the same length as <code>levels</code>. If there are
duplicates in <code>levels</code>, the first label for a given level will be used.
If <code>labels</code> is not provided, the new label names will be set to
<code>levels</code> if it was provided, and <code>levels_old</code> if it was not.
</p>
<p>Note: <code>NA</code> and <code>NaN</code> values are handled a bit differently. Data
locations that are <code>NA</code> or <code>NaN</code> will remain unchanged. <code>NA</code>
and <code>NaN</code> should not be included in <code>levels_old</code> or <code>levels</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsig</code></td>
<td>
<p>Take this many significant digits for the data values. If
<code>Inf</code> (default), do not round.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colors</code></td>
<td>
<p>(Optional) "ROY_BIG_BL", the name of a ColorBrewer palette
(see <code>RColorBrewer::brewer.pal.info</code> and colorbrewer2.org), the name of
a viridisLite palette, or a character vector of colors. Default:
<code>"Set2"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_white</code></td>
<td>
<p>Append white to the beginning of the colors? Default: <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_conversion_table</code></td>
<td>
<p>Return the conversion table along with the
converted <code>"xifti"</code>? Default: <code>FALSE</code>. It will give the original
<code>values</code>, the <code>values_new</code> (i.e. the "Keys"), and the new
<code>label</code> names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>The column names. If <code>NULL</code> (default), will be set to
"Column 1", "Column 2", ... .</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_start, time_step, time_unit</code></td>
<td>
<p>(Optional) metadata for the new dtseries</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to</code></td>
<td>
<p>The desired intent: <code>"dscalar"</code> (default), <code>"dtseries"</code>,
or <code>"dlabel"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Only used if <code>x</code> is a <code>"xifti"</code> object. Additional
options specific to the target type and intent, e.g. for
<code>convert_to_dlabel</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>x</code> is a CIFTI, the target is a <code>"dlabel"</code> and
<code>return_conversion_table</code>, a length-2 list with the first entry being
the ".dlabel" <code>"xifti"</code> and the second being the conversion table.
Otherwise, the <code>"xifti"</code> or the output CIFTI file name is directly
returned.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>convert_to_dlabel()</code>: Give the ".dlabel" intent (code 3007/ConnDenseLabel) to an input
<code>"xifti"</code>. Will use the same label table for each data column. Can also
be used to re-assign values in the label table, or to change label names.
</p>
</li>
<li> <p><code>convert_to_dscalar()</code>: Give the ".dscalar" intent (code 3006/ConnDenseScalar) to an input
CIFTI file or <code>"xifti"</code> object. Can also be used to set the names for
each column with <code>names</code>.
</p>
</li>
<li> <p><code>convert_to_dtseries()</code>: Give the ".dtseries" intent (code 3002/ConnDenseSeries) to an input
<code>"xifti"</code> object. Can also be used to set the time metadata.
</p>
</li>
</ul>
<h3>See Also</h3>

<p>Other manipulating xifti: 
<code>add_surf()</code>,
<code>apply_parc()</code>,
<code>apply_xifti()</code>,
<code>combine_xifti()</code>,
<code>merge_xifti()</code>,
<code>move_to_mwall()</code>,
<code>move_to_submask()</code>,
<code>newdata_xifti()</code>,
<code>remap_cifti()</code>,
<code>remove_xifti()</code>,
<code>resample_cifti()</code>,
<code>resample_cifti_from_template()</code>,
<code>scale_xifti()</code>,
<code>select_xifti()</code>,
<code>set_names_xifti()</code>,
<code>smooth_cifti()</code>,
<code>transform_xifti()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Example: change label names
levels_old &lt;- xii$meta$cifti$labels[[1]]$Key
newLabels &lt;- paste0("New Label #", seq(length(levels_old)))
xii &lt;- convert_to_dlabel(xii, levels_old=levels_old, levels=levels_old, labels=newLabels)
# Example: add an empty level
levels_old &lt;- xii$meta$cifti$labels[[1]]$Key
levels_old &lt;- c(levels_old, max(levels_old)+1)
labels &lt;- c(rownames(xii$meta$cifti$labels[[1]]), "Empty")
xii &lt;- convert_to_dlabel(xii, levels_old=levels_old, levels=levels_old, labels=labels)
# Example: set all but the lowest value to the same value &amp; re-label
levels_old &lt;- xii$meta$cifti$labels[[1]]$Key
levels &lt;- ifelse(levels_old==min(levels_old), min(levels_old), min(levels_old)+1)
labels &lt;- ifelse(levels_old==min(levels_old), "Minimum", "Not minimum")
xii &lt;- convert_to_dlabel(xii, levels_old=levels_old, levels=levels, labels=labels)

## End(Not run)

</code></pre>


</div>