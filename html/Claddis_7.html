<div class="container">

<table style="width: 100%;"><tr>
<td>bin_character_completeness</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Phylogenetic character completeness in time-bins</h2>

<h3>Description</h3>

<p>Given a cladistic matrix, time-scaled tree, and set of time bin boundaries will return the proportional character completeness in each bin.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bin_character_completeness(
  cladistic_matrix,
  time_tree,
  time_bins,
  plot = FALSE,
  confidence.interval = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cladistic_matrix</code></td>
<td>
<p>A cladistic matrix in the form imported by read_nexus_matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_tree</code></td>
<td>
<p>A time-scaled phylogenetic tree containing all the taxa in <code>cladistic_matrix</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_bins</code></td>
<td>
<p>An object of class <code>timeBins</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot</code></td>
<td>
<p>An optional choice to plot the results (default is <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confidence.interval</code></td>
<td>
<p>The confidence interval to be used as a proportion (0 to 1). Default is 0.95 (i.e., 95%).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Character completeness metrics have been used as an additional metric for comparing fossil record quality across time, space, and taxa. However, these only usually refer to point samples of fossils in bins, and not our ability to infer information along the branches of a phylogenetic tree.
</p>
<p>This function returns the proportional phylogenetic character completeness for a set of time bins.
</p>


<h3>Value</h3>

<p>A list summarising the mean, upper and lower confidence interval, and per character proportional character completeness in each time bin.
</p>


<h3>Author(s)</h3>

<p>Graeme T. Lloyd <a href="mailto:graemetlloyd@gmail.com">graemetlloyd@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Create a random tree for the Day et al. 2016 data set:
day_2016tree &lt;- ape::rtree(n = nrow(day_2016$matrix_1$matrix))
day_2016tree$tip.label &lt;- rownames(x = day_2016$matrix_1$matrix)
day_2016tree$root.time &lt;- max(diag(x = ape::vcv(phy = day_2016tree)))

# Build ten equal-length time bins spanning the tree:
time_bins &lt;- matrix(data = c(seq(from = day_2016tree$root.time,
  to = day_2016tree$root.time - max(diag(x = ape::vcv(phy = day_2016tree))),
  length.out = 11)[1:10], seq(from = day_2016tree$root.time,
  to = day_2016tree$root.time - max(diag(x = ape::vcv(phy = day_2016tree))),
  length.out = 11)[2:11]), ncol = 2, dimnames = list(LETTERS[1:10], c("fad", "lad")))

# Set class as timeBins:
class(time_bins) &lt;- "timeBins"

# Get proportional phylogenetic character completeness in ten equal-length
# time bins:
bin_character_completeness(
  cladistic_matrix = day_2016,
  time_tree = day_2016tree,
  time_bins = time_bins
)

# Same, but with a plot:
bin_character_completeness(
  cladistic_matrix = day_2016,
  time_tree = day_2016tree,
  time_bins = time_bins,
  plot = TRUE
)
</code></pre>


</div>