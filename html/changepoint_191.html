<div class="container">

<table style="width: 100%;"><tr>
<td>penalty_decision</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Penalty Decision Function - Only intended for developer use.
</h2>

<h3>Description</h3>

<p>Evaluates the arguments to give a numeric value for the penalty.
</p>
<p>This function is called by <code>cpt.mean</code>, <code>cpt.var</code> and <code>cpt.meanvar</code>.  This is not intended for use by regular users of the package.  It is exported for developers to call directly for speed increases or to fit alternative cost functions.
</p>
<p>WARNING: No checks on arguments are performed!
</p>


<h3>Usage</h3>

<pre><code class="language-R">penalty_decision(penalty, pen.value, n, diffparam, asymcheck, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>penalty</code></td>
<td>

<p>Choice of "None", "SIC", "BIC", "MBIC", AIC", "Hannan-Quinn", "Asymptotic" and "Manual" penalties.  If Manual is specified, the manual penalty is contained in the pen.value parameter. If Asymptotic is specified, the theoretical type I error is contained in the pen.value parameter. The predefined penalties listed DO count the changepoint as a parameter, postfix a 0 e.g."SIC0" to NOT count the changepoint as a parameter.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pen.value</code></td>
<td>

<p>The theoretical type I error e.g.0.05 when using the Asymptotic penalty.  The value of the penalty when using the Manual penalty option - this can be a numeric value or text giving the formula to use.  Available variables are, n=length of original data, null=null likelihood, alt=alternative likelihood, tau=proposed changepoint, diffparam=difference in number of alternatve and null parameters.  
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>

<p>The length of the original data, required to give sensible "no changepoint" output.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diffparam</code></td>
<td>

<p>The difference in the number of parameters (degrees of freedom) when a change is added, required for the SIC, BIC, AIC, Hanna-Quinn and possibly Manual penalties.  Do NOT include the changepoint when calculating this number as this is automatically added.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>asymcheck</code></td>
<td>

<p>A text string which translates to the asymptotic formula for a specific cost function.  Currently implemented values are: <code>mean.norm</code>, <code>var.norm</code>, <code>meanvar.norm</code>, <code>reg.norm</code>, <code>var.css</code>, <code>mean.cusum</code>, <code>meanvar.gamma</code>, <code>meanvar.exp</code>, <code>meanvar.poisson</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>Method used as a text string, see <code>cpt.mean</code> for further details.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function takes the text string input and converts it to a numerical value for the specific length of data specified by n.
</p>
<p>This function is exported for developer use only.  It does not perform any checks on inputs and is included for convenience and speed for those who are developing their own cost functions.
</p>


<h3>Value</h3>

<p>The numeric value of the penalty.
</p>


<h3>Author(s)</h3>

<p>Rebecca Killick
</p>


<h3>References</h3>

<p>SIC/BIC: Schwarz, G. (1978) Estimating the Dimension of a Model, <em>The Annals of Statistics</em> <b>6(2)</b>, 461–464
</p>
<p>MBIC: Zhang, N. R. and Siegmund, D. O. (2007) A Modified Bayes Information Criterion with Applications to the Analysis of Comparative Genomic Hybridization Data. <em>Biometrics</em> <b>63</b>, 22-32.
</p>
<p>AIC: Akaike, H. (1974) A new look at the statistical model identification, <em>Automatic Control, IEEE Transactions on</em> <b>19(6)</b>, 716–723
</p>
<p>Hannan-Quinn: Hannan, E. J. and B. G. Quinn (1979) The Determination of the Order of an Autoregression, <em>Journal of the Royal Statistical Society, B</em> <b>41</b>, 190–195
</p>


<h3>See Also</h3>

<p><code>cpt.mean</code>,<code>cpt.var</code>,<code>cpt.meanvar</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example of finding a change
out=c(100,765.1905,435.6529) # tau, null, alt
decision(out[1],out[2],out[3],penalty="SIC",n=200,diffparam=1) # returns 100 as a true changepoint

# Example of no change found
out=c(53,-22.47768,-24.39894) # tau, null, alt
decision(out[1],out[2],out[3],penalty="Manual",n=200,diffparam=1,pen.value="2*log(n)")
</code></pre>


</div>