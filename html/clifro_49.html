<div class="container">

<table style="width: 100%;"><tr>
<td>plot,cfWind,missing-method</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Clifro Wind Objects</h2>

<h3>Description</h3>

<p>Various plot methods for exploring wind speed and direction patterns for
given CliFlo stations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'cfWind,missing'
plot(
  x,
  y,
  n_directions = 12,
  n_speeds = 5,
  speed_cuts = NULL,
  col_pal = "GnBu",
  ggtheme = c("grey", "gray", "bw", "linedraw", "light", "minimal", "classic"),
  n_col = 1,
  ...
)

## S4 method for signature 'cfWind,missing'
direction_plot(
  x,
  y,
  ggtheme = c("grey", "gray", "bw", "linedraw", "light", "minimal", "classic"),
  contours = 10,
  n_col = 1,
  ...
)

## S4 method for signature 'cfDataList,missing'
direction_plot(x, y, ...)

## S4 method for signature 'cfDataList,numeric'
direction_plot(x, y, ...)

## S4 method for signature 'cfWind,missing'
speed_plot(
  x,
  y,
  ggtheme = c("grey", "gray", "bw", "linedraw", "light", "minimal", "classic"),
  scales = c("fixed", "free_x", "free_y", "free"),
  n_col = 1,
  ...
)

## S4 method for signature 'cfDataList,missing'
speed_plot(x, y, ...)

## S4 method for signature 'cfDataList,numeric'
speed_plot(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <code>cfWind</code> or <code>cfDataList</code> object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>missing if <code>x</code> is a .<code>cfWind</code> object, otherwise a number
indicating the dataframe to plot in the <code>cfDataList</code> (defaults
to 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_directions</code></td>
<td>
<p>the number of direction bins to plot (petals on the
rose). The number of directions defaults to 12.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_speeds</code></td>
<td>
<p>the number of equally spaced wind speed bins to plot. This is
used if <code>spd_cuts</code> is NA (default 5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speed_cuts</code></td>
<td>
<p>numeric vector containing the cut points for the wind speed
intervals, or NA (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>character string indicating the name of the
<code>RColorBrewer</code> colour palette to be
used for plotting, see 'Theme Selection' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggtheme</code></td>
<td>
<p>character string (partially) matching the
<code>ggtheme</code> to be used for plotting, see
'Theme Selection' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_col</code></td>
<td>
<p>the number of columns of plots (default 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>theme</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>contours</code></td>
<td>
<p>the number of contour lines to draw (default 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scales</code></td>
<td>
<p>character string partially matching the <code>scales</code> argument
in the <code>link[ggplot2]{facet_wrap}</code> function.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>x</code> is a <code>cfDataList</code>, by default the first datatype will be
plotted unless <code>y</code> is supplied.
</p>


<h3>Theme Selection</h3>

<p>For black and white windroses that may be preferred if plots are to be used
in journal articles for example, recommended <code>ggtheme</code>s are <code>'bw'</code>,
<code>'linedraw'</code>, <code>'minimal'</code> or <code>'classic'</code> and
the <code>col_pal</code> should be <code>'Greys'</code>. Otherwise, any of the sequential
<code>RColorBrewer</code> colour palettes are recommended for
colour plots.
</p>


<h3>Note</h3>

<p>If <code>x</code> is a <code>cfDataList</code> object and <code>y</code> refers to a
<span class="pkg">clifro</span> dataframe that is not a <code>cfWind</code> object then it will be
passed to another method, if available.
</p>
<p>The default <code>plot</code> method plots a different windrose for each CliFlo
station. The <code>direction_plot</code> method plots wind direction contours
through time to visualise temporal patterns in wind directions. The
<code>speed_plot</code> method plots the time series of wind speeds with a +/-
standard deviation region (if applicable).
</p>
<p>Given a value on the x-axis, the ends of the density function along the
y-axis are not constrained to be equal for any of the derivatives for the
<code>direction_plot</code> method. That is, the contours at direction = 0, do not
match the contours at direction = 360.
</p>
<p>@seealso <code>plot,cfDataList,missing-method</code> for general
information on default plotting of <code>cfData</code> and <code>cfDataList</code>
objects, and the links within. See <code>cf_query</code> for creating
<code>cfWind</code> objects or <code>windrose</code> for plotting any wind data.
Refer to <code>theme</code> for more possible arguments to pass
to these methods. <code>summary,cfWind-method</code> for summarising wind
information at each CliFlo station.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Retrieve maximum wind gust data at the Reefton Ews station from CliFlo
# (public data)
reefton_wind = cf_query(cf_user(), cf_datatype(2, 2, 1, 1), cf_station(),
                        start_date = "2012-01-01-00")

class(reefton_wind)

# Examples of the default plots --------------------------------------------

# Plot a windrose
plot(reefton_wind)

# Plot the wind direction contours
direction_plot(reefton_wind)

# Plot the wind speed time-series
speed_plot(reefton_wind)

# Examples of changing the defaults ----------------------------------------

# Plot black and white windroses
plot(reefton_wind, ggtheme = "bw", col_pal = "Greys")
plot(reefton_wind, ggtheme = "linedraw", col_pal = "Greys")
plot(reefton_wind, ggtheme = "classic", col_pal = "Greys")
plot(reefton_wind, ggtheme = "minimal", col_pal = "Greys")

# Plot the wind directions using 20 contours and the ggtheme 'classic'
direction_plot(reefton_wind, ggtheme = "classic", contours = 20)

# Enlarge all the text to 18pt
library(ggplot2) # for element_text() and geom_point()
direction_plot(reefton_wind, ggtheme = "classic", contours = 20,
               text = element_text(size = 18))

# Include the actual observations in the plots
direction_plot(reefton_wind) + geom_point(alpha = .2, size = 3)

speed_plot(reefton_wind, ggtheme = "classic", text = element_text(size = 16)) +
  geom_point(shape = 1, size = 3)
# or equivalently using base graphics:
plot(reefton_wind$Date, reefton_wind$Speed, type = 'o',
     xlab = NA, ylab = "Daily max gust (m/s)", las = 1, main = "Reefton Ews")

# Example of plotting a cfDataList -----------------------------------------
# Collect both surface wind run and hourly surface wind observations from
# Reefton Ews
reefton_list = cf_query(cf_user(), cf_datatype(2, 1, 1:2, 1),
                        cf_station(), "2012-01-01 00", "2012-02-01 00")

reefton_list

class(reefton_list) #cfDataList

# Plot the first (default) dataframe
plot(reefton_list) # Error - no wind directions for wind run datatypes
# Try speed_plot instead
speed_plot(reefton_list)

# Plot the second dataframe in the cfDataList
plot(reefton_list, 2)           # identical to plot(reefton_list[2])
speed_plot(reefton_list, 2)     # identical to speed_plot(reefton_list[2])
direction_plot(reefton_list, 2) # identical to direction_plot(reefton_list[2])

# Save the ggplot externally -----------------------------------------------

# Save the plot as a png to the current working directory
library(ggplot2) # for ggsave()
ggsave("my_wind_plot.png")

## End(Not run)
</code></pre>


</div>