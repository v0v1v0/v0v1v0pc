<div class="container">

<table style="width: 100%;"><tr>
<td>rockCluster</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Rock Clustering</h2>

<h3>Description</h3>

<p>Cluster a data matrix using the Rock algorithm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">rockCluster(x, n, beta = 1-theta, theta = 0.5, fun = "dist",
            funArgs = list(method="binary"), debug = FALSE)

rockLink(x, beta = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a data matrix; for <code>rockLink</code> an object of class <code>dist</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>the number of desired clusters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>optional distance threshold.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>neighborhood parameter in the range [0,1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fun</code></td>
<td>
<p>distance function to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>funArgs</code></td>
<td>
<p>a <code>list</code> of named parameter arguments to <code>fun</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>debug</code></td>
<td>
<p>turn on/off debugging output.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The intended area of application is the clustering of binary (logical) 
data. For instance in a preprocessing step in data mining. However, 
arbitrary distance metrics could be used (see
<code>dist</code>). 
</p>
<p>According to the reference (see below) the distance threshold and the 
neighborhood parameter are coupled. Thus, higher values of the neighborhood 
parameter <code>theta</code> pose a tighter constraint on the neighborhood. For 
any two data points the latter is defined as the number of other data points 
that are neighbors to both. Further, points only are neighbors (or linked) 
if their distance is less than or equal <code>beta</code>.
</p>
<p>Note that for a tight neighborhood specification the algorithm may be 
running out of clusters to merge, i.e. may terminate with more than the 
desired number of clusters. 
</p>
<p>The <code>debug</code> option can help in determining the proper settings by 
examining lines suffixed with a plus which indicates that non-singleton 
clusters were merged. 
</p>
<p>Note that tie-breaking is not implemented, i.e. the first max encountered 
is used. However, permuting the order of the data can help in determining 
the dependence of a solution on ties.
</p>
<p>Function <code>rockLink</code> is provided for applications that need to compute
link count distances efficiently. Note that <code>NA</code> and <code>NaN</code>
distances are ignored but supplying such values for the threshold
<code>beta</code> results in an error.
</p>


<h3>Value</h3>

<p><code>rockCluster</code> returns an object of class <code>rock</code>, a list with
the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>the data matrix or a subset of it.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cl</code></td>
<td>
<p>a factor of cluster labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size</code></td>
<td>
<p>a vector of cluster sizes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>see above.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta</code></td>
<td>
<p>see above.</p>
</td>
</tr>
</table>
<p><code>rockLink</code> returns an object of class <code>dist</code>.
</p>


<h3>Author(s)</h3>

<p>Christian Buchta</p>


<h3>References</h3>

<p>S. Guha, R. Rastogi, and K. Shim. ROCK: A Robust Clustering Algorithm for 
Categorical Attributes. <em>Information Science</em>, Vol. 25, No. 5, 2000.
</p>


<h3>See Also</h3>

<p><code>dist</code> for common distance functions,
<code>predict</code> for classifying new data samples, and
<code>fitted</code> for classifying the clustered data samples.
</p>


<h3>Examples</h3>

<pre><code class="language-R">### example from paper
data(Votes)
x &lt;- as.dummy(Votes[-17])
rc &lt;- rockCluster(x, n=2, theta=0.73, debug=TRUE)
print(rc)
rf &lt;- fitted(rc)
table(Votes$Class, rf$cl)
## Not run: 
### large example from paper
data("Mushroom")
x &lt;- as.dummy(Mushroom[-1])
rc &lt;- rockCluster(x[sample(dim(x)[1],1000),], n=10, theta=0.8)
print(rc)
rp &lt;- predict(rc, x)
table(Mushroom$class, rp$cl)

## End(Not run)
### real valued example
gdist &lt;- function(x, y=NULL) 1-exp(-dist(x, y)^2)
xr &lt;- matrix(rnorm(200, sd=0.6)+rep(rep(c(1,-1),each=50),2), ncol=2)
rcr &lt;- rockCluster(xr, n=2, theta=0.75, fun=gdist, funArgs=NULL)
print(rcr)
</code></pre>


</div>