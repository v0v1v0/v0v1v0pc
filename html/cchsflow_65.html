<div class="container">

<table style="width: 100%;"><tr>
<td>pct_time_fun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Percent time in Canada</h2>

<h3>Description</h3>

<p>This function creates a derived variable (pct_time_der) that
provides an estimated percentage of the time a person's life was spent in
Canada.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pct_time_fun(DHHGAGE_cont, SDCGCBG, SDCGRES)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>DHHGAGE_cont</code></td>
<td>
<p>continuous age variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SDCGCBG</code></td>
<td>
<p>whether or not someone was born in Canada (1 - born in Canada,
2 - born outside Canada)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>SDCGRES</code></td>
<td>
<p>how long someone has lived in Canada. Note: in the PUMF CCHS
datasets, this is a categorical variable with two categories (1 - 0-9 years;
2 - 10+ years).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Numeric value between 0 and 100 that represents
percentage of a respondent's time in Canada
</p>


<h3>Note</h3>

<p>Since SDCGRES is a categorical variable measuring length of time, we've
set midpoints in the function. A respondent identified as being in Canada
for 0-9 years is assigned a value of 4.5 years, and someone who has been in
Canada for over 10 years is assigned a value of 15 years.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Using pct_time_fun() to create percent time values between CCHS cycles
# pct_time_fun() is specified in variable_details.csv along with the CCHS
# variables and cycles included.

# To transform pct_time_der across cycles, use rec_with_table() for each CCHS
# cycle and specify pct_time_der, along with age (DHHGAGE_cont), whether or
# not someone was born in Canada (SDCGCBG), how long someone has lived in
# Canada (SDCGRES). Then by using merge_rec_data(), you can combine
# pct_time_der across cycles

library(cchsflow)
pct_time2009_2010 &lt;- rec_with_table(
  cchs2009_2010_p, c(
    "DHHGAGE_cont", "SDCGCBG",
    "SDCGRES", "pct_time_der"
  )
)
head(pct_time2009_2010)

pct_time2011_2012 &lt;- rec_with_table(
  cchs2011_2012_p,  c(
    "DHHGAGE_cont", "SDCGCBG",
    "SDCGRES", "pct_time_der"
  )
)
tail(pct_time2011_2012)

combined_pct_time &lt;- merge_rec_data(pct_time2009_2010, pct_time2011_2012)
head(combined_pct_time)
tail(combined_pct_time)

# Using pct_time_fun() to generate a value for percent time spent in Canada
# with user inputted values Let's say you are 27 years old who was born
# outside of Canada and have been living in Canada for less than 10 years.
# Your estimated percent time spent in Canada can be calculated as follows:

pct_time &lt;- pct_time_fun(DHHGAGE_cont = 27, SDCGCBG = 2, SDCGRES = 1)

print(pct_time)
</code></pre>


</div>