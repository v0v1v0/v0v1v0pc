<div class="container">

<table style="width: 100%;"><tr>
<td>fem</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create an feature-embedding matrix</h2>

<h3>Description</h3>

<p>Given a featureco-occurrence matrix for each feature,
multiply its feature counts (columns) with their
corresponding pre-trained embeddings and average
(usually referred to as averaged or additive embeddings).
If specified and a transformation matrix is provided,
multiply the feature embeddings by the transformation matrix
to obtain the corresponding <code style="white-space: pre;">⁠a la carte⁠</code> embeddings.
(see eq 2: https://arxiv.org/pdf/1805.05388.pdf)
</p>


<h3>Usage</h3>

<pre><code class="language-R">fem(x, pre_trained, transform = TRUE, transform_matrix, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a quanteda (<code>fcm-class</code>) feature-co-occurrence-matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_trained</code></td>
<td>
<p>(numeric) a F x D matrix corresponding to pretrained embeddings.
F = number of features and D = embedding dimensions.
rownames(pre_trained) = set of features for which there is a pre-trained embedding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>(logical) if TRUE (default) apply the 'a la carte' transformation,
if FALSE ouput untransformed averaged embeddings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform_matrix</code></td>
<td>
<p>(numeric) a D x D 'a la carte' transformation matrix.
D = dimensions of pretrained embeddings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>(logical) - if TRUE, report the features that had
no overlapping (co-occurring) features with the pretrained embeddings provided.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>fem-class</code> object
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(quanteda)

# tokenize corpus
toks &lt;- tokens(cr_sample_corpus)

# create feature co-occurrence matrix (set tri = FALSE to work with fem)
toks_fcm &lt;- fcm(toks, context = "window", window = 6,
count = "frequency", tri = FALSE)

# compute feature-embedding matrix
toks_fem &lt;- fem(toks_fcm, pre_trained = cr_glove_subset,
transform = TRUE, transform_matrix = cr_transform, verbose = FALSE)
</code></pre>


</div>