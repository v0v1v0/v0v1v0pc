<div class="container">

<table style="width: 100%;"><tr>
<td>elevation_correct</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate reliable elevation data.</h2>

<h3>Description</h3>

<p>Using the latitude and longitude columns of the supplied <em>formatted</em>
data, a vector of elevation values is returned of the same length. If no
elevation data files exist within the working directory, files are first
downloaded. Note that NAs in the data will return corresponding NAs in the
corrected elevation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">elevation_correct(data, country)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a dataset with longitude ("lng") and lattitude ("lon") columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>country</code></td>
<td>
<p>character string; the country to which the data pertain, given
as an ISO3 code (see <code>raster::getData("ISO3")</code>)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a vector of elevation values. If there is an error at any stage, a
vector of NAs is returned.
</p>


<h3>See Also</h3>

<p><code>download_elev_data</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data(ridedata)

## When run the first time, geographical data will need to be downloaded.
ridedata$elevation.corrected &lt;- elevation_correct(ridedata, "GBR")

## A Bland-Altman-type plot.
difference &lt;- ridedata$elevation.m - ridedata$elevation.corrected
plot(difference ~ ridedata$timer.min, cex = 0.2, ylab = "raw minus corrected")
m &lt;- mean(difference, na.rm = TRUE); stdev &lt;- sd(difference, na.rm = TRUE)
abline(h = c(m + c(-stdev, 0, stdev)), lty = c(1, 2, 1), col = "red")

## End(Not run)

</code></pre>


</div>