<div class="container">

<table style="width: 100%;"><tr>
<td>cff_git_hook</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Use a git pre-commit hook <a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]"></a>
</h2>

<h3>Description</h3>

<p>Install a
<a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks#_committing_workflow_hooks">pre-commit hook</a>
that remembers you to update your <code>CITATION.cff</code> file. This is a wrapper of
<code>usethis::use_git_hook()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cff_git_hook_install()

cff_git_hook_remove()
</code></pre>


<h3>Details</h3>

<p>This function would install a pre-commit hook using
<code>usethis::use_git_hook()</code>.
</p>
<p>A pre-commit hook is a script that identifies  simple issues before
submission to code review. This pre-commit hook would warn you if any of the
following conditions are met:
</p>

<ul>
<li>
<p> You included in a commit your <code>DESCRIPTION</code> or <code>inst/CITATION</code> file, you
are not including your <code>CITATION.cff</code> and the <code>CITATION.cff</code> file is
"older" than any of your <code>DESCRIPTION</code> or <code>inst/CITATION</code> file.
</p>
</li>
<li>
<p> You have updated your <code>CITATION.cff</code> but you are not including it on
your commit.
</p>
</li>
</ul>
<h3>Value</h3>

<p>Invisible. This function is called for its side effects.
</p>


<h3>A word of caution</h3>

<p>The pre-commit hook may prevent you to commit if you are not updating your
<code>CITATION.cff</code>. However, the mechanism of detection is not perfect and would
be triggered also even if you have tried to update your <code>CITATION.cff</code> file.
</p>
<p>This is typically the case when you have updated your <code>DESCRIPTION</code> or
<code>inst/CITATION</code> files but those changes doesn't make a change on your
<code>CITATION.cff</code> file (i.e. you are including new dependencies).
</p>
<p>In those cases, you can override the check running <code style="white-space: pre;">⁠git commit --no-verify⁠</code>
on the terminal.
</p>
<p>If you are using <strong>RStudio</strong> you can run also this command from a <strong>R</strong>
script by selecting that line and sending it to the terminal using:
</p>

<ul>
<li>
<p> Windows &amp; Linux: <code>Ctrl+Alt+Enter</code>.
</p>
</li>
<li>
<p> Mac: <code>Cmd+Option+Return</code>.
</p>
</li>
</ul>
<h3>Removing the git pre-commit hook</h3>

<p>You can remove the pre-commit hook by running <code>cff_git_hook_remove()</code>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code>usethis::use_git_hook()</code>, that is the underlying function used by
<code>cff_git_hook_install()</code>.
</p>
</li>
<li> <p><code>usethis::use_git()</code> and related function of <a href="https://CRAN.R-project.org/package=usethis"><span class="pkg">usethis</span></a> for using
Git with <strong>R</strong> packages.
</p>
</li>
</ul>
<p>Other Git/GitHub helpers provided by <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code>cff_gha_update()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
cff_git_hook_install()

## End(Not run)

</code></pre>


</div>