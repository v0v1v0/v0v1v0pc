<div class="container">

<table style="width: 100%;"><tr>
<td>checkglobals</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Check R-source code or R-packages for globals and imports</h2>

<h3>Description</h3>

<p>Approximately detect global and imported functions or variables from R-scripts, folders,
R-code strings or R-packages by static code analysis. This function is simply a convenience
wrapper around <code>check_source</code> and <code>check_pkg</code> and the return
value is the same as calling these functions directly. If called without a <code>file</code>, <code>dir</code>,
<code>text</code> or <code>pkg</code> argument, the function is run in the current working directory.
If the current working directory is an R-package folder, this is identical to <code>checkglobals(pkg = ".")</code>,
otherwise the behavior is the same as <code>checkglobals(dir = ".")</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">checkglobals(..., include_compiled = FALSE, skip_globals = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>can be any one of the following arguments:
</p>

<ul>
<li> <p><code>file</code>, file character path to R-script to analyze, can be either a file on the local filesystem or a
remote file location (e.g. a server or the web).
</p>
</li>
<li> <p><code>text</code>, character R-code string to analyze.
</p>
</li>
<li> <p><code>dir</code>, character path to folder with R-scripts to analyze.
</p>
</li>
<li> <p><code>pkg</code>, character path to R-package, can be either:
</p>

<ul>
<li>
<p> a local R-package folder;
</p>
</li>
<li>
<p> path to bundled (tar.gz) R-package on local filesystem;
</p>
</li>
<li>
<p> remote path to bundled (tar.gz) R-package, (e.g. a remote server or the web).
</p>
</li>
</ul>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_compiled</code></td>
<td>
<p>logical value indicating if compiled functions called with <code>.Call</code>,
<code>.C</code>, <code>.External</code>, <code>.Fortran</code> should be included as global variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>skip_globals</code></td>
<td>
<p>optional character vector of names to skip/exclude as (unrecognized) global variables.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>list S3-object of class <code>"checkglobals"</code> with three components:
</p>

<ul>
<li> <p><code>globals</code>, list of class <code>"checkglobalsg"</code>
</p>
</li>
<li> <p><code>imports</code>, list of class <code>"checkglobalsi"</code>
</p>
</li>
<li> <p><code>missing_packages</code>, character vector with missing packages
</p>
</li>
</ul>
<p>for programmatic use, cast the returned S3-object with <code>as.data.frame</code>, <code>as.matrix</code>,
<code>as.character</code> or <code>as_vector</code>.
</p>


<h3>See Also</h3>

<p><code>check_source</code>, <code>check_pkg</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## local R-script
checkglobals(
  file = system.file(
    "unit_tests", "pkg", "testpkg", "R", "functions1.R",
    package = "checkglobals"
  )
)

## local R-folder
checkglobals(
  dir = system.file(
    "unit_tests", "pkg", "testpkg", "R",
    package = "checkglobals")
)

## R-code string
checkglobals(text = "cc &lt;- function(m) stats::coef(m)")

## R-package from folder
checkglobals(
  pkg = system.file(
    "unit_tests", "pkg", "testpkg",
    package = "checkglobals"
  )
)

## R-script from remote location

checkglobals(
  file = "https://raw.githubusercontent.com/rstudio/shiny-examples/main/004-mpg/app.R"
)


## R-package from remote location

check_pkg(
  pkg = "https://cran.r-project.org/src/contrib/tinytest_1.4.1.tar.gz",
  skip_globals = "cluster"
)

</code></pre>


</div>