<div class="container">

<table style="width: 100%;"><tr>
<td>umbrella</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Specify an Umbrella-Ordering in a CGAM Formula</h2>

<h3>Description</h3>

<p>A symbolic routine to define that the systematic component <code class="reqn">\eta</code> has an umbrella-ordering in a predictor in a formula argument to cgam.</p>


<h3>Usage</h3>

<pre><code class="language-R">umbrella(x)</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector which has the same length as the response vector.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>"umbrella" returns the vector "x" and imposes on it two attributes: name and shape.
</p>
<p>The name attribute is used in the subroutine plotpersp; the shape attribute is "umbrella", and to the value of the vector itself and its shape attribute, the cone edges of the cone generated by the constraint matrix, which constrains that <code class="reqn">\eta</code> has an umbrella-ordering in "x"  will be made. The cone edges are a set of basis employed in the hinge algorithm. 
</p>
<p>Note that "umbrella" does not make the corresponding cone edges itself. It sets things up to a sub-routine called umbrella.fun in cgam which will make the cone edges. An umbrella-ordering is a partial ordering: Suppose we have a <code class="reqn">x_0</code> that is known to be a "mode" so that for <code class="reqn">x, y &gt;= x_0</code>, we have a binary relation between <code class="reqn">x</code> and <code class="reqn">y</code> if <code class="reqn">x &lt;= y</code> and for <code class="reqn">x, y &lt;= x_0</code> we have the opposite binary relation if <code class="reqn">x &lt;= y</code>, but if <code class="reqn">x &lt; x_0</code> and <code class="reqn">y &gt; x_0</code>, there is no such binary relation.  
</p>
<p>See references cited in this section for more details.
</p>


<h3>Value</h3>

<p>The vector x with two attributes, i.e., name: the name of x; shape: "umbrella".</p>


<h3>Author(s)</h3>

<p>Mary C. Meyer and Xiyue Liao
</p>


<h3>References</h3>

<p>Meyer, M. C. (2013b) A simple new algorithm for quadratic programming with applications in statistics. <em>Communications in Statistics <b>42(5)</b></em>, 1126â€“1139. 
</p>


<h3>See Also</h3>

<p><code>tree</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # generate y
  set.seed(123)
  n &lt;- 20
  x &lt;- seq(-2, 2, length = n)
  y &lt;- - x^2 + rnorm(n)

  # regress y on x under the umbrella-ordering restriction
  fit &lt;- cgam(y ~ umbrella(x)) 

  # make a plot
  par(mar = c(4, 4, 1, 1))
  plot(x, y, cex = .7, ylab = "y")
  lines(x, fit$muhat, col = 2)
  legend("topleft", bty = "n", "umbrella-ordering fit", col = 2, lty = 1)
</code></pre>


</div>