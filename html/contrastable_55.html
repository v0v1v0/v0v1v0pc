<div class="container">

<table style="width: 100%;"><tr>
<td>treatment_code</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Treatment code</h2>

<h3>Description</h3>

<p>Wrapper around <code>stats::contr.treatment()</code>. Returns a contrast
matrix where comparisons give differences between each comparison level and a
baseline reference level, while the intercept equals the first level of the
factor. See <code>scaled_sum_code()</code> for a function that centers
the intercept on the grand mean while retaining pairwise comparisons from a
reference level.
</p>


<h3>Usage</h3>

<pre><code class="language-R">treatment_code(n)
</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Integer umber of factor levels to compute contrasts for.</p>
</td>
</tr></table>
<h3>Details</h3>

<p>For n levels of factors, generate a matrix with n-1 comparisons
where:
</p>

<ul>
<li>
<p> Reference level = 0
</p>
</li>
<li>
<p> Comparison level = 1
</p>
</li>
<li>
<p> All others = 0
</p>
</li>
</ul>
<p>Note that this function sets the first level (alphabetically) as the
reference level while  <code>stats::contr.SAS()</code> sets the LAST level as the
reference level. However, in functions like
<code>set_contrasts()</code>, and <code>enlist_contrasts()</code>, the reference level is
automatically set to be the first level alphabetically.
</p>


<h3>Value</h3>

<p>A contrast matrix with dimensions n rows and (n-1) columns.
</p>


<h3>Examples</h3>

<pre><code class="language-R">mydf &lt;- data.frame(
  grp = gl(4,5),
  resp = c(seq(1, 5), seq(5, 9), seq(10, 14), seq(15, 19))
)

mydf &lt;- set_contrasts(mydf, grp ~ treatment_code)

lm(resp ~ grp, data = mydf)

</code></pre>


</div>