<div class="container">

<table style="width: 100%;"><tr>
<td>dfMergeVariablesRelevel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Merge variables, keeping type, and optionally relevel factors</h2>

<h3>Description</h3>

<p>Merge variables in a data frame such as returned by dbGetFieldsIntoDf
into a new variable, and optionally also map its values to new levels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">dfMergeVariablesRelevel(df = NULL, colnames = "", levelslist = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data.frame with the variables (columns) to be merged into
one vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colnames</code></td>
<td>
<p>A vector of names of columns in 'df' that hold the variables
to be merged, or a selection of columns as per <code>select</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>levelslist</code></td>
<td>
<p>A names list with one slice each for a new value to be
used for a vector of old values (optional).</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A vector, with the type of the columns to be merged
</p>


<h3>Examples</h3>

<pre><code class="language-R">
dbc &lt;- nodbi::src_sqlite(
    dbname = system.file("extdata", "demo.sqlite", package = "ctrdata"),
    collection = "my_trials"
)

df &lt;- dbGetFieldsIntoDf(
    fields = c("overall_status", "x5_trial_status"),
    con = dbc
)

statusvalues &lt;- list(
    "ongoing" = c("Recruiting", "Active", "Ongoing"),
    "completed" = c("Completed", "Prematurely Ended", "Terminated"),
    "other" = c("Withdrawn", "Suspended", "No longer available")
)

dfMergeVariablesRelevel(
    df = df,
    colnames = 'contains("status")',
    levelslist = statusvalues
)

</code></pre>


</div>