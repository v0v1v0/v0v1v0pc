<div class="container">

<table style="width: 100%;"><tr>
<td>nest_for_ard</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>ARD Nesting</h2>

<h3>Description</h3>

<p>This function is similar to <code>tidyr::nest()</code>, except that it retains
rows for unobserved combinations (and unobserved factor levels) of by
variables, and unobserved combinations of stratifying variables.
</p>
<p>The levels are wrapped in lists so they can be stacked with other types
of different classes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">nest_for_ard(
  data,
  by = NULL,
  strata = NULL,
  key = "data",
  rename_columns = TRUE,
  list_columns = TRUE,
  include_data = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(<code>data.frame</code>)<br>
a data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by, strata</code></td>
<td>
<p>(<code>character</code>)<br>
columns to nest by/stratify by. Arguments are similar,
but with an important distinction:
</p>
<p><code>by</code>: data frame is nested by <strong>all combinations</strong> of the columns specified,
including unobserved combinations and unobserved factor levels.
</p>
<p><code>strata</code>: data frame is nested by <strong>all <em>observed</em> combinations</strong> of the
columns specified.
</p>
<p>Arguments may be used in conjunction with one another.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>(<code>string</code>)<br>
the name of the new column with the nested data frame. Default is <code>"data"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rename_columns</code></td>
<td>
<p>(<code>logical</code>)<br>
logical indicating whether to rename the <code>by</code> and <code>strata</code> variables.
Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>list_columns</code></td>
<td>
<p>(<code>logical</code>)<br>
logical indicating whether to put levels of <code>by</code> and
<code>strata</code> columns in a list. Default is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_data</code></td>
<td>
<p>(scalar <code>logical</code>)<br>
logical indicating whether to include the data subsets as a list-column.
Default is <code>TRUE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a nested tibble
</p>


<h3>Examples</h3>

<pre><code class="language-R">nest_for_ard(
  data =
    ADAE |&gt;
      dplyr::left_join(ADSL[c("USUBJID", "ARM")], by = "USUBJID") |&gt;
      dplyr::filter(AOCCSFL %in% "Y"),
  by = "ARM",
  strata = "AESOC"
)
</code></pre>


</div>