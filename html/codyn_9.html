<div class="container">

<table style="width: 100%;"><tr>
<td>curve_change</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Curve Change</h2>

<h3>Description</h3>

<p>Calculates the area difference between two rank abundance curves
between two time periods. If replicate is specified, it must be measured in
both time points, otherwise it will be dropped for that time period
comparison.
</p>


<h3>Usage</h3>

<pre><code class="language-R">curve_change(
  df,
  time.var,
  species.var,
  abundance.var,
  replicate.var = NULL,
  reference.time = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame containing time, species, and abundance columns and an
optional columns of replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.var</code></td>
<td>
<p>The name of the time column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species.var</code></td>
<td>
<p>The name of the species column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abundance.var</code></td>
<td>
<p>The name of the abundance column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>replicate.var</code></td>
<td>
<p>The name of the optional replicate column. If specified,
replicate must be unique within the dataset and cannot be nested within
treatments or blocks.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reference.time</code></td>
<td>
<p>The name of the optional time point that all other time
points should be compared to (e.g. the first year of data). If not
specified, each comparison is between consecutive time points (the first
and second year, second and third year, etc.)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The curve_change function returns a data frame with the following
attributes:
</p>

<ul>
<li>
<p>time.var: A column with the specified time.var and a second column,
with '2' appended to the name. Time is subtracted from time2.
</p>
</li>
<li>
<p>curve_change: A numeric column of the change in curves between time
points.
</p>
</li>
<li>
<p>replicate.var: A column that has same name and type as the
replicate.var column, if specified.
</p>
</li>
</ul>
<h3>References</h3>

<p>Avolio et al. Submitted
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(pplots)
# Without replicates
df &lt;- subset(pplots, plot == 25)
curve_change(df = df,
           species.var = "species",
           abundance.var = "relative_cover",
           time.var = "year")

# With replicates
df &lt;- subset(pplots, year &lt; 2004 &amp; plot %in% c(6, 25, 32))
curve_change(df = df,
           species.var = "species",
           abundance.var = "relative_cover",
           replicate.var = "plot",
           time.var = "year")
           
# With reference year
df &lt;- subset(pplots, year &lt; 2005 &amp; plot %in% c(6, 25, 32))
curve_change(df = df,
           species.var = "species",
           abundance.var = "relative_cover",
           replicate.var = "plot",
           time.var = "year",
           reference.time = 2002)
</code></pre>


</div>