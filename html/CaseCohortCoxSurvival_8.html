<div class="container">

<table style="width: 100%;"><tr>
<td>dataexample.missingdata.stratified</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Example of case-cohort with stratified sampling of the subcohort and missing covariate information in phase-two data
</h2>

<h3>Description</h3>

<p>List with <code>cohort</code>.
</p>
<p><code>cohort</code> is a simulated cohort with 20 000 subjects. It contains:
</p>
<p><code>id</code> is the subject identifier.
</p>
<p><code>X1</code> is a continuous baseline covariate. Its measurements are only available for subjects in the case-cohort, i.e., with <code>phase3 = 1</code>.
</p>
<p><code>X2</code> is a categorical baseline covariate, with categories 0, 1, and 2. It is measured on all cohort subjects.
</p>
<p><code>X3</code> is a continuous baseline covariate. Its measurements are only available for subjects in the case-cohort.
</p>
<p><code>W</code> is a baseline categorical variable,  with categories 0, 1, 2, and 3. It depends on predictors of <code>X1</code> and <code>X2</code>. It is measured on all cohort subjects.
</p>
<p><code>status</code> indicates case status.
</p>
<p><code>event.time</code> gives the event or censoring time. <code>status</code> indicates whether the subject experienced the event of interest or was censored.
</p>
<p>The stratified sampling of the subcohort was based on the 4 strata defined by <code>W</code>. 97, 294, 300, and 380 subjects were sampled (independently of case status) from the 4 strata, respectively. <code>subcohort</code> indicates all these subjects included in the subcohort.
</p>
<p>The phase-two sample consisted of the subcohort and any other cases not in the subcohort. <code>phase2</code> indicates all these subjects included in the phase-two sample.
</p>
<p><code>W3</code> is a baseline binary variable, based on case status. It is measured on all cohort subjects.
</p>
<p>The third phase of sampling was stratified based on the 2 strata defined by <code>W3</code>. Subjects were sampled from the 2 strata with sampling probabilities 0.9 and 0.8. <code>phase3</code> indicates all these subjects included in the case-cohort (phase-three sample).
</p>
<p><code>strata.n</code> gives the number of subjects in the stratum in the cohort.
</p>
<p><code>strata.m</code> gives the number of subjects sampled from each of the 4 phase-two strata to be included in the subcohort (i.e., 97, 294, 300, or 380).
</p>
<p><code>strata.m</code> and <code>strata.n</code> would be used to compute the phase-two design weights of non-cases. Because all the cases were included in the phase-two sample, they would be assigned a phase-two design weight of 1.
</p>
<p><code>strata.n.cases</code> gives the number of cases in each of the 4 phase-two strata in the cohort.
</p>
<p><code>n.cases</code> gives the number of cases in the entire cohort.
</p>
<p><code>strata.proba.missing</code> gives the the sampling probablity for the 2 phase-three strata based on <code>W3</code> and that were used for the third phase of sampling.
</p>
<p><code>weight.true</code> gives the true design weight (i.e., product of the phase-two and true phase-three design weight).
</p>
<p><code>weight.p2.true</code> gives true phase-two design weight. They are stratum-specific based on <code>W</code>.
</p>
<p><code>weight.p3.true</code> gives the true phase-three design weight. They are stratum-specific based on <code>W3</code>. <code>weight.p3.true</code> can be used with argument <code>weights.phase3</code> of function <code>caseCohortCoxSurvival</code>, along with argument <code>weights.phase3.type = "design"</code>.
</p>
<p><code>weight.p3.est</code> gives the estimated phase-three design weight. They were obtained from <code>W3</code>, <code>phase2</code> and <code>phase3</code>. <code>weight.p3.est</code> can be used with argument <code>weights.phase3</code> of function <code>caseCohortCoxSurvival</code>, along with argument <code>weights.phase3.type = "estimated"</code>. If in function <code>caseCohortCoxSurvival</code> <code>weights.phase3 = NULL</code> but <code>weights.phase3.type = "estimated"</code>, the phase-three design weights will be estimated from <code>W3</code>, <code>phase2</code> and <code>phase3</code> and should be identical.
</p>
<p><code>weight.est</code> gives the estimated design weight (i.e., product of the phase-two and estimated phase-three design weight).
</p>


<h3>References</h3>

<p>Etievant, L., Gail, M. H. (2024). Cox model inference for relative hazard and pure risk from stratified weight-calibrated case-cohort data. Lifetime Data Analysis, 30, 572-599.
</p>
<p>Etievant, L., Gail, M. H. (2024). Software Application Profile: CaseCohortCoxSurvival: an R package for case-cohort inference for relative hazard and pure risk under the Cox model. Submitted.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 data(dataexample.missingdata.stratified, package="CaseCohortCoxSurvival")

 # Display some of the data
 dataexample.missingdata.stratified$cohort[1:5, ]
</code></pre>


</div>