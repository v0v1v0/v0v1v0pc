<div class="container">

<table style="width: 100%;"><tr>
<td>estSLSE</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Least Squares Estimate of <code>cslseModel</code> or <code>slseModel</code> Objects
</h2>

<h3>Description</h3>

<p>This is the main function to estimate <code>cslseModel</code> or
<code>slseModel</code> objects. It generates the basis functions based on the
knots specified in the model and estimates it by least squares.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'cslseModel'
estSLSE(model, selKnots, ...)

## S3 method for class 'slseModel'
estSLSE(model, selKnots, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A model of class <code>cslseModel</code>  or
<code>slseModel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>selKnots</code></td>
<td>
<p>An optional list of integers to select the knots from
the list of knots specified by the model. If the model is a
<code>cslseModel</code> object, it  must be a named list with the names
being either "treated",  "nontreated" or both. By default, the knots
from the model stored in the element <code>knots</code> are used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments to pass to other methods. Currently
not used.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The method for <code>slseModel</code> objects generates the matrix
of basis functions implied by the set of knots included in the model and 
estimate the model by the least squares. Let <code class="reqn">Y</code> be the
outcome and <code class="reqn">U</code> be the matrix of basis functions. Then, the
function estimates the model using the code <code>lm(Y~U)</code>.
</p>
<p>For <code>cslseModel</code>, we could estimate the model using
<code>lm(Y~Z+I(Z-1)+I(U0*(1-Z))+I(U1*Z))</code>, where <code>Z</code> is a binary
variable equal to 1 for the treated and 0 for the nontreated, and
<code>U0</code> and <code>U1</code> are the matrices of basis functions for the
nontreated and treated, but the model is estimated separately for each
group. Therefore, the function <code>estSLSE.cslseModel</code> calls the
function <code>estSLSE.slseModel</code> for each <code>slseModel</code> objects
included in the  <code>cslseModel</code> object.
</p>


<h3>Value</h3>

<p>It returns an object of class <code>slseFit</code> or <code>cslseFit</code>
depending on which method is called. An object of class <code>slseFit</code>
is a list with the following elements: 
</p>
<table>
<tr style="vertical-align: top;">
<td><code>LSE</code></td>
<td>
<p>This is the least squares estimate of the semiparametric
model. It is an object of class <code>lm</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>An object of class <code>slseModel</code>. It is the model that
is being estimated. The model may have been created by
<code>slseModel</code> or modified by <code>selSLSE</code> or
<code>update</code>.</p>
</td>
</tr>
</table>
<p>An object of class <code>cslseFit</code> is a list of <code>slseFit</code> objects,
one for each treatment group. It also contains the following additional
attributes:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>treatedVar</code></td>
<td>
<p>The name of the variable in the dataset that represents
the treatment indicator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groupInd</code></td>
<td>
<p>A named vector with the value of the treatment indicator
corresponding do each treatment group.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">data(simDat3)

## Estimating a causal semiparametric model

mod1 &lt;- cslseModel(Y ~ Z | ~ X1 * X2, data = simDat3)
fit1 &lt;- estSLSE(mod1)

## Estimating a semiparametric model

mod2 &lt;- slseModel(Y ~ X1 * X2, data = simDat3)
fit2 &lt;- estSLSE(mod2)
</code></pre>


</div>