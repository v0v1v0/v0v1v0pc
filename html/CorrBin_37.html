<div class="container">

<table style="width: 100%;"><tr>
<td>ran.CMData</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Generate a random CMData object</h2>

<h3>Description</h3>

<p>Generates random exchangeably correlated multinomial data based on a parametric
distribution or using resampling. The Dirichlet-Multinomial, Logistic-Normal multinomial,
and discrete mixture multinomial parametric distributions are implemented.
All observations will be assigned to the same treatment group, and there is no
guarantee of a specific order of the observations in the output.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ran.CMData(n, ncat, clustersize.gen, distribution)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>number of independent clusters to generate</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncat</code></td>
<td>
<p>number of response categories</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustersize.gen</code></td>
<td>
<p>either an integer vector specifying the sizes of the clusters, 
which will be recycled to achieve the target number of clusters <code>n</code>; or
a function with one parameter that returns an integer vector of cluster sizes when
the target number of clusters n is passed to it as a parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distribution</code></td>
<td>
<p>a list with two components: "multinom.gen" and "param" that specifies
the generation process for each cluster. The "multinom.gen" component should be a function
of three parameters: number of clusters, vector of cluster sizes, and parameter list, that
a matrix of response counts where each row is a cluster and each column is the number of
responses of a given type. The "param" component should specify the list of parameters
needed by the multinom.gen function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a <code>CMData</code> object with randomly generated number of responses with
sample sizes specified in the call
</p>


<h3>Author(s)</h3>

<p>Aniko Szabo
</p>


<h3>See Also</h3>

<p><code>CMData</code> for details about <code>CMData</code> objects; <code>multinom.gen</code> for built-in generating functions
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Resample from the dehp dataset
data(dehp)
ran.dehp &lt;- ran.CMData(20, 3, 10, list(multinom.gen=mg.Resample, param=list(data=dehp)))

# Dirichlet-Multinomial distribution with two treatment groups and random cluster sizes
binom.cs &lt;- function(n){rbinom(n, p=0.3, size=10)+1}
dm1 &lt;- ran.CMData(15, 4, binom.cs, 
                  list(multinom.gen=mg.DirMult, param=list(shape=c(2,3,2,1))))
dm2 &lt;- ran.CMData(15, 4, binom.cs, 
                  list(multinom.gen=mg.DirMult, param=list(shape=c(1,1,4,1))))
ran.dm &lt;- rbind(dm1, dm2)

# Logit-Normal multinomial distribution
ran.ln &lt;- ran.CMData(13, 3, 3, 
                     list(multinom.gen=mg.LogitNorm,
                          param=list(mu=c(-1, 1), sigma=matrix(c(1,0.8,0.8,2), nr=2))))

# Mixture of two multinomial distributions
unif.cs &lt;- function(n){sample(5:9, size=n, replace=TRUE)}
ran.mm &lt;- ran.CMData(6, 3, unif.cs, 
                     list(multinom.gen=mg.MixMult,
                          param=list(q=c(0.8,0.2), m=rbind(c(-1,0), c(0,2)))))
</code></pre>


</div>