<div class="container">

<table style="width: 100%;"><tr>
<td>checkDataSet</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Clean the dataset
</h2>

<h3>Description</h3>

<p>This function checks the dataset X, and sets aside certain
columns and rows that do not satisfy the conditions.
It is used by the <code>DDC</code> and <code>MacroPCA</code> functions but can be used by itself, to clean a dataset for a different type of analysis.
</p>


<h3>Usage</h3>

<pre><code class="language-R">checkDataSet(X, fracNA = 0.5, numDiscrete = 3, precScale = 1e-12, silent = FALSE,
cleanNAfirst = "automatic")
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p><code>X</code> is the input data, and must be an <code class="reqn">n</code> by <code class="reqn">d</code> matrix or data frame.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fracNA</code></td>
<td>

<p>Only retain columns and rows with fewer NAs than this fraction.
Defaults to <code class="reqn">0.5</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numDiscrete</code></td>
<td>

<p>A column that takes on numDiscrete or fewer values
will be considered discrete and not retained in the cleaned data.
Defaults to <code class="reqn">3</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>precScale</code></td>
<td>

<p>Only consider columns whose scale is larger than precScale.
Here scale is measured by the median absolute deviation.
Defaults to <code class="reqn">1e-12</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>silent</code></td>
<td>

<p>Whether or not the function progress messages should be printed.
Defaults to <code>FALSE</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cleanNAfirst</code></td>
<td>

<p>If <code>"columns"</code>, first columns then rows are checked for NAs.
If <code>"rows"</code>, first rows then columns are checked for NAs.
<code>"automatic"</code> checks columns first if <code class="reqn">d \geq 5n</code> and rows first otherwise.
Defaults to <code>"automatic"</code>.
</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with components: <br></p>

<ul>
<li>
<p><code>colInAnalysis</code> <br>
Column indices of the columns used in the analysis.

</p>
</li>
<li>
<p><code>rowInAnalysis</code> <br>
Row indices of the rows used in the analysis.
</p>
</li>
<li>
<p><code>namesNotNumeric</code> <br>
Names of the variables which are not numeric.       

</p>
</li>
<li>
<p><code>namesCaseNumber</code> <br>
The name of the variable(s) which contained the case numbers and was therefore removed.

</p>
</li>
<li>
<p><code>namesNAcol</code> <br>
Names of the columns left out due to too many <code>NA</code>'s.

</p>
</li>
<li>
<p><code>namesNArow</code> <br>
Names of the rows left out due to too many <code>NA</code>'s.

</p>
</li>
<li>
<p><code>namesDiscrete</code> <br>
Names of the discrete variables.           

</p>
</li>
<li>
<p><code>namesZeroScale</code> <br>
Names of the variables with zero scale.           

</p>
</li>
<li>
<p><code>remX</code> <br>
Remaining (cleaned) data after checkDataSet.           

</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>Rousseeuw P.J., Van den Bossche W. 
</p>


<h3>References</h3>

<p>Rousseeuw, P.J., Van den Bossche W. (2018). Detecting Deviating Data Cells. <em>Technometrics</em>, <b>60</b>(2), 135-145. <a href="https://www.tandfonline.com/doi/full/10.1080/00401706.2017.1340909">(link to open access pdf)</a>
</p>


<h3>See Also</h3>

<p><code>DDC</code>, <code>MacroPCA</code>, <code>transfo</code>, <code>wrap</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MASS) 
set.seed(12345) 
n &lt;- 100; d = 10
A &lt;- matrix(0.9, d, d); diag(A) = 1
x &lt;- mvrnorm(n, rep(0,d), A)
x[sample(1:(n * d), 100, FALSE)] &lt;- NA
x &lt;- cbind(1:n, x)
checkedx &lt;- checkDataSet(x)

# For more examples, we refer to the vignette:
## Not run: 
vignette("DDC_examples")

## End(Not run)
</code></pre>


</div>