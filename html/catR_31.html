<div class="container">

<table style="width: 100%;"><tr>
<td>test.cbList</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Testing the format of the list for content balancing under dichotomous or polytomous IRT models</h2>

<h3>Description</h3>

<p>This command tests whether format of the list to be assigned to <code>cbControl</code> argument of function <code>nextItem</code> is appropriate for content balancing, and returns a warning message otherwise.
</p>


<h3>Usage</h3>

<pre><code class="language-R">test.cbList(list, cbGroup)
 </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>list</code></td>
<td>
<p>a list of arguments to be tested. See <b>Details</b>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cbGroup</code></td>
<td>
<p>a vector of character or factor names of the subgroups of items in the bank, or <code>NULL</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>test.cbList</code> function checks whether the list provided in the <code>cbControl</code> argument of the <code>nextItem</code> and <code>randomCAT</code> functions, is accurate for controlling for content balancing. It mainly serves as an initial check for the <code>randomCAT</code> function. 
</p>
<p>The function returns an <code>"ok"</code> message if the arguments of <code>list</code> match the requirement of the list <code>cbControl</code> for
content balancing. Otherwise, a message is returned with information about list - type mismatch. This will be the case
if:
</p>

<ul>
<li>
<p><code>list</code> is not a list or has not exactly two elements,
</p>
</li>
<li>
<p>at least one of the argument names is incorrect,
</p>
</li>
<li>
<p>the lengths of the arguments are different, or different from the number of subgroups of items,
</p>
</li>
<li>
<p>the 'names' element does not match with the subgroups' names,
</p>
</li>
<li>
<p>the 'props' element is not numeric or holds negative values.
</p>
</li>
</ul>
<p>Each mismatch yields a different output message to help in debugging the problem.
</p>


<h3>Value</h3>

<p>A list with two arguments:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>test</code></td>
<td>
<p>a logical value indicating whether the format of the list is accurate (<code>TRUE</code>) or not (<code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>message</code></td>
<td>
<p>either a message to indicate the type of misspecification, or <code>"ok"</code> if the format is accurate.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>David Magis <br>
Department of Psychology, University of Liege, Belgium <br><a href="mailto:david.magis@uliege.be">david.magis@uliege.be</a>
</p>


<h3>References</h3>

<p>Magis, D. and Barrada, J. R. (2017). Computerized Adaptive Testing with R: Recent Updates of the Package <em>catR</em>. <em>Journal of Statistical Software</em>, <em>Code Snippets</em>, <em>76(1)</em>, 1-18. doi: <a href="https://doi.org/10.18637/jss.v076.c01">10.18637/jss.v076.c01</a>
</p>
<p>Magis, D., and Raiche, G. (2012). Random Generation of Response Patterns under Computerized Adaptive Testing with the R Package <em>catR</em>. <em>Journal of Statistical Software</em>, <em>48 (8)</em>, 1-31. doi: <a href="https://doi.org/10.18637/jss.v048.i08">10.18637/jss.v048.i08</a>
</p>


<h3>See Also</h3>

<p><code>nextItem</code>, <code>randomCAT</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Dichotomous models ##

 # Loading the 'tcals' parameters 
 data(tcals)
 
 # Vector of group membership for 'tcals' data set
 group &lt;- tcals$Group

 # Creation of a correct list with arbitrary proportions
 cbList &lt;- list(names = c("Audio1", "Audio2", "Written1", "Written2", "Written3"), 
        props = c(0.1, 0.2, 0.2, 0.2, 0.3))

 # Testing 'cbList'
 test.cbList(cbList, group)

 # Creation of an incorrect list (mismatch in first name)
 cbList &lt;- list(names = c("audio1", "Audio2", "Written1", "Written2", "Written3"), 
        props=c(0.1, 0.2, 0.2, 0.2, 0.3))
 test.cbList(cbList, group)

 # Creation of an incorrect list (mismatch in name of second
 # element)
 cbList &lt;- list(names = c("Audio1", "Audio2", "Written1", "Written2", "Written3"), 
        prop = c(0.1, 0.2, 0.2, 0.2, 0.3))
 test.cbList(cbList, group)

 # Creation of an incorrect list (second element shorter than
 # first element)
 cbList &lt;- list(names = c("Audio1", "Audio2", "Written1", "Written2", "Written3"), 
         props=c(0.1, 0.2, 0.2, 0.2))
 test.cbList(cbList, group)

 # Creation of an incorrect list (adding a third element)
 cbList &lt;- list(names = c("Audio1", "Audio2", "Written1", "Written2", "Written3"),  
        props = c(0.1, 0.2, 0.2, 0.2), third = "hi")
 test.cbList(cbList, group)


## Polytomous models ##

 # Creation of an appropriate list for content balancing
 # Equal proprotions across subgroups of items
 cbList &lt;- list(names = c("Group1", "Group2", "Group3", "Group4"), props = rep(1, 4))

 # Creation of a "wrong" list
 cbList2 &lt;- list(names=c("group1","group2"),props = c(1, 1))

 # Generation of an item bank under GRM with 100 items and at most 4 categories
 m.GRM &lt;- genPolyMatrix(100, 4, "GRM", cbControl = cbList)

 # Breaking the 'm.GRM' bank
 bank &lt;- breakBank(m.GRM)

 # Testing 'cbList' and 'cbList2'
 test.cbList(cbList, bank$cbGroup)
 test.cbList(cbList2, bank$cbGroup)

 # Generation of an item bank under PCM with 100 items, 4 categories and groups
 m.PCM &lt;- genPolyMatrix(100, 4, "PCM", same.nrCat = TRUE, cbControl = cbList2)
 
 # Breaking the 'm.PCM' bank
 bank2 &lt;- breakBank(m.PCM)

 # Testing 'cbList' and 'cbList2'
 test.cbList(cbList, bank2$cbGroup)
 test.cbList(cbList2, bank2$cbGroup)
 </code></pre>


</div>