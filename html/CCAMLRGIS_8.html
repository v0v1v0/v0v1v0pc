<div class="container">

<table style="width: 100%;"><tr>
<td>assign_areas</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Assign point locations to polygons</h2>

<h3>Description</h3>

<p>Given a set of polygons and a set of point locations (given in decimal degrees),
finds in which polygon those locations fall.
Finds, for example, in which Subarea the given fishing locations occurred.
</p>


<h3>Usage</h3>

<pre><code class="language-R">assign_areas(
  Input,
  Polys,
  AreaNameFormat = "GAR_Long_Label",
  Buffer = 0,
  NamesIn = NULL,
  NamesOut = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>Input</code></td>
<td>
<p>dataframe containing - at the minimum - Latitudes and Longitudes to be assigned to polygons.
</p>
<p>If <code>NamesIn</code> is not provided, the columns in the <code>Input</code> must be in the following order:
Latitude, Longitude, Variable 1, Variable 2, ... Variable x..</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Polys</code></td>
<td>
<p>character vector of polygon names (e.g., <code>Polys=c('ASDs','RBs')</code>).
</p>
<p>Must be matching the names of the pre-loaded spatial objects (loaded via e.g., <code>ASDs=load_ASDs()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>AreaNameFormat</code></td>
<td>
<p>dependent on the polygons loaded. For the Secretariat's spatial objects loaded via 'load_' functions,
we have the following:
</p>
<p><code>'GAR_Name'</code> e.g., <code>'Subarea 88.2'</code>
</p>
<p><code>'GAR_Short_Label'</code> e.g., <code>'882'</code>
</p>
<p><code>'GAR_Long_Label'</code> (default) e.g., <code>'88.2'</code>
</p>
<p>Several values may be entered if several <code>Polys</code> are used, e.g.:
</p>
<p><code>c('GAR_Short_Label','GAR_Name')</code>, in which case <code>AreaNameFormat</code> must be given in the same order as <code>Polys</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Buffer</code></td>
<td>
<p>numeric, distance in nautical miles to be added around the <code>Polys</code> of interest.
Can be specified for each of the <code>Polys</code> (e.g., <code>Buffer=c(2,5)</code>). Useful to determine whether locations are within
<code>Buffer</code> nautical miles of a polygon.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NamesIn</code></td>
<td>
<p>character vector of length 2 specifying the column names of Latitude and Longitude fields in
the <code>Input</code>. Latitudes name must be given first, e.g.:
</p>
<p><code>NamesIn=c('MyLatitudes','MyLongitudes')</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>NamesOut</code></td>
<td>
<p>character, names of the resulting column names in the output dataframe,
with order matching that of <code>Polys</code> (e.g., <code>NamesOut=c('Recapture_ASD','Recapture_RB')</code>).
If not provided will be set as equal to <code>Polys</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>dataframe with the same structure as the <code>Input</code>, with additional columns corresponding
to the <code>Polys</code> used and named after <code>NamesOut</code>.
</p>


<h3>See Also</h3>

<p><code>load_ASDs</code>, <code>load_SSRUs</code>, <code>load_RBs</code>,
<code>load_SSMUs</code>, <code>load_MAs</code>,
<code>load_MPAs</code>, <code>load_EEZs</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">


#Generate a dataframe
MyData=data.frame(Lat=runif(100,min=-65,max=-50),
                  Lon=runif(100,min=20,max=40))

#Assign ASDs and SSRUs to these locations (first load ASDs and SSRUs)
ASDs=load_ASDs()
SSRUs=load_SSRUs()

MyData=assign_areas(Input=MyData,Polys=c('ASDs','SSRUs'),NamesOut=c('MyASDs','MySSRUs'))

#View(MyData)
table(MyData$MyASDs) #count of locations per ASD
table(MyData$MySSRUs) #count of locations per SSRU



</code></pre>


</div>