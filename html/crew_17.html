<div class="container">

<table style="width: 100%;"><tr>
<td>crew_clean</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Terminate dispatchers and/or workers</h2>

<h3>Description</h3>

<p>Terminate <code>mirai</code> dispatchers and/or <code>crew</code> workers
which may be lingering from previous workloads.
</p>


<h3>Usage</h3>

<pre><code class="language-R">crew_clean(
  dispatchers = TRUE,
  workers = TRUE,
  user = ps::ps_username(),
  seconds_interval = 0.5,
  seconds_timeout = 60,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dispatchers</code></td>
<td>
<p>Logical of length 1,
whether to terminate dispatchers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>workers</code></td>
<td>
<p>Logical of length 1,
whether to terminate workers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>user</code></td>
<td>
<p>Character of length 1. Terminate dispatchers and/or
workers associated with this user name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seconds_interval</code></td>
<td>
<p>Seconds to between polling intervals
waiting for a process to exit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seconds_timeout</code></td>
<td>
<p>Seconds to wait for a process to exit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Logical of length 1, whether to print an informative
message every time a process is terminated.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Behind the scenes, <code>mirai</code> uses an external R process
called a "dispatcher" to send tasks to <code>crew</code> workers.
This dispatcher usually shuts down when you terminate the controller
or quit your R session, but sometimes it lingers. Likewise,
sometimes <code>crew</code> workers do not shut down on their own.
The <code>crew_clean()</code> function searches the process table on your
local machine and manually terminates any <code>mirai</code> dispatchers
and <code>crew</code> workers associated with your user name (or the
user name you select in the <code>user</code> argument.
Unfortunately, it cannot reach remote workers such as those
launched by a <code>crew.cluster</code> controller.
</p>


<h3>Value</h3>

<p><code>NULL</code> (invisibly). If <code>verbose</code> is <code>TRUE</code>, it does
print out a message for every terminated process.
</p>


<h3>See Also</h3>

<p>Other utility: 
<code>crew_assert()</code>,
<code>crew_deprecate()</code>,
<code>crew_eval()</code>,
<code>crew_random_name()</code>,
<code>crew_retry()</code>,
<code>crew_terminate_process()</code>,
<code>crew_terminate_signal()</code>,
<code>crew_worker()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (identical(Sys.getenv("CREW_EXAMPLES"), "true")) {
crew_clean()
}
</code></pre>


</div>