<div class="container">

<table style="width: 100%;"><tr>
<td>getSurface</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Remove artificial surface layers from processed CT data</h2>

<h3>Description</h3>

<p>Identifies and removes artificial surface layers from processed CT data
</p>


<h3>Usage</h3>

<pre><code class="language-R">getSurface(x, material = "particulates", threshold = 0.40, 
start = "top", thickness = 0.625)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>dataframe created by <code>conv</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>material</code></td>
<td>
<p>material used for determining where the surface begins</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>decimal fraction of total area, used to determine the surface layer. Surface slices where <code>material</code> exceeds threshold value are removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start</code></td>
<td>
<p>should core be processed from the top, bottom, or both?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thickness</code></td>
<td>
<p>CT image thickness (mm)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Identifies and removes artificial surface layers from processed CT data. Areas can be removed from one or both ends of the core (set by <code>start</code>), based on exceeding a <code>threshold</code> proportion of material (e.g., 75
</p>


<h3>Value</h3>

<p>value <code>getSurface</code> shortens the output of <code>conv</code> to remove artificial surface layers. The output is thus a subset of the input, and identical in structure to the /codeconv output.
</p>


<h3>See Also</h3>

<p><code>conv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">### Not run:
## Not run: data(core_426)
ct.slope &lt;- unique(extractHeader(core_426$hdr, "RescaleSlope"))
ct.int   &lt;- unique(extractHeader(core_426$hdr, "RescaleIntercept")) 
# convert raw units to Hounsfield units
HU_426 &lt;- lapply(core_426$img, function(x) x*ct.slope + ct.int)

materials &lt;- conv(HU_426)
head(materials[, 1:6], 20)

materials2 &lt;- getSurface(materials)
head(materials2[, 1:6])

## End(Not run)
</code></pre>


</div>