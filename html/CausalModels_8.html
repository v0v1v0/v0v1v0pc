<div class="container">

<table style="width: 100%;"><tr>
<td>propensity_scores</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Propensity Scores</h2>

<h3>Description</h3>

<p>'propensity_scores' builds a logistic regression with the target as the treatment variable
and the covariates as the independent variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">propensity_scores(
  data,
  f = NA,
  simple = pkg.env$simple,
  family = binomial(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>a data frame containing the variables in the model.
This should be the same data used in <code>init_params</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>f</code></td>
<td>
<p>(optional) an object of class "formula" that overrides the default parameter</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>simple</code></td>
<td>
<p>a boolean indicator to build default formula with interactions.
If true, interactions will be excluded. If false, interactions will be included. By
default, simple is set to false.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>family</code></td>
<td>
<p>the family to be used in the general linear model.
By default, this is set to <code>binomial</code>
NOTE: if this is changed, the outcome of the model may not be the probabilities and the results will not be valid.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional arguments that may be passed to the underlying <code>glm</code> model.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>propensity_scores</code> returns an object of <code>class "propensity_scores"</code>
</p>
<p>The functions <code>print</code>, <code>summary</code>, and <code>predict</code> can be used to interact with
the underlying <code>glm</code> model.
</p>
<p>An object of class <code>"propensity_scores"</code> is a list containing the following:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>the formula used in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>the underlying glm model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.scores</code></td>
<td>
<p>the estimated propensity scores.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">library(causaldata)
data(nhefs)
nhefs.nmv &lt;- nhefs[which(!is.na(nhefs$wt82)), ]
nhefs.nmv$qsmk &lt;- as.factor(nhefs.nmv$qsmk)

confounders &lt;- c(
  "sex", "race", "age", "education", "smokeintensity",
  "smokeyrs", "exercise", "active", "wt71"
)

init_params(wt82_71, qsmk,
  covariates = confounders,
  data = nhefs.nmv
)

p.score &lt;- propensity_scores(nhefs.nmv)
p.score

</code></pre>


</div>