<div class="container">

<table style="width: 100%;"><tr>
<td>get_CMPS</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute the CMPS score</h2>

<h3>Description</h3>

<p>Compute the CMPS score from a list of positions of (consistent) correlation peaks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_CMPS(input_ccp, Tx = 25)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>input_ccp</code></td>
<td>
<p>a list of positions for (consistent) correlation peaks</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tx</code></td>
<td>
<p>integer, the tolerance zone is <code style="white-space: pre;">⁠+/- Tx⁠</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list of six components:
</p>

<ul>
<li> <p><code>CMPS_score</code>: computed CMPS score
</p>
</li>
<li> <p><code>nseg</code>: the number of basis segments
</p>
</li>
<li> <p><code>congruent_pos</code>: the congruent position that results in the CMPS score
</p>
</li>
<li> <p><code>congruent_seg</code>: a boolean vector of the congruent matching profile segments
</p>
</li>
<li> <p><code>congruent_seg_idx</code>: the index of the congruent matching profile segments
</p>
</li>
<li> <p><code>pos_df</code>: a dataframe that includes all positions and their corresponding CMPS score
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">data("bullets")
land2_3 &lt;- bullets$sigs[bullets$bulletland == "2-3"][[1]]
land1_2 &lt;- bullets$sigs[bullets$bulletland == "1-2"][[1]]
x &lt;- land2_3$sig
y &lt;- land1_2$sig
segments &lt;- get_segs(x, len = 50)
nseg &lt;- length(segments$segs)
seg_scale_max &lt;- 3
npeaks_set &lt;- c(5,3,1)
outlength &lt;- c(50, 100, 200)

ccp_list &lt;- lapply(1:nseg, function(nseg) {
 ccr_list &lt;- lapply(1:seg_scale_max, function(seg_scale) {
   get_ccr_peaks(y, segments, seg_outlength = outlength[seg_scale], 
   nseg = nseg, npeaks = npeaks_set[seg_scale])
 })

 get_ccp(ccr_list, Tx = 25)
})
cmps &lt;- get_CMPS(ccp_list, Tx = 25)
</code></pre>


</div>