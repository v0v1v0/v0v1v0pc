<div class="container">

<table style="width: 100%;"><tr>
<td>equiv_change_mean</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Equivalency based on change in mean value</h2>

<h3>Description</h3>

<p>Checks for change in the mean value between a qualification data set and
a sample. This is normally used to check for properties such as modulus.
This function is a wrapper for a two-sample t–test.
</p>


<h3>Usage</h3>

<pre><code class="language-R">equiv_change_mean(
  df_qual = NULL,
  data_qual = NULL,
  n_qual = NULL,
  mean_qual = NULL,
  sd_qual = NULL,
  data_sample = NULL,
  n_sample = NULL,
  mean_sample = NULL,
  sd_sample = NULL,
  alpha,
  modcv = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df_qual</code></td>
<td>
<p>(optional) a data.frame containing the qualification data.
Defaults to NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_qual</code></td>
<td>
<p>(optional) a vector of observations from the
"qualification" data to which equivalency is being tested. Or the column of
<code>df_qual</code> that contains this data. Defaults to NULL</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_qual</code></td>
<td>
<p>the number of observations in the qualification data to which
the sample is being compared for equivalency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_qual</code></td>
<td>
<p>the mean from the qualification data to which the sample
is being compared for equivalency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_qual</code></td>
<td>
<p>the standard deviation from the qualification data to which
the sample is being compared for equivalency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data_sample</code></td>
<td>
<p>a vector of observations from the sample being compared
for equivalency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_sample</code></td>
<td>
<p>the number of observations in the sample being compared for
equivalency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean_sample</code></td>
<td>
<p>the mean of the sample being compared for equivalency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sd_sample</code></td>
<td>
<p>the standard deviation of the sample being compared for
equivalency</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>the acceptable probability of a Type I error</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modcv</code></td>
<td>
<p>a logical value indicating whether the modified CV approach
should be used. Defaults to <code>FALSE</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>There are several optional arguments to this function. Either (but not both)
<code>data_sample</code> or all of <code>n_sample</code>, <code>mean_sample</code> and
<code>sd_sample</code> must be supplied. And, either (but not both)
<code>data_qual</code>
(and also <code>df_qual</code> if <code>data_qual</code> is a column name and not a
vector) or all of <code>n_qual</code>, <code>mean_qual</code> and <code>sd_qual</code> must
be supplied. If these requirements are violated, warning(s) or error(s) will
be issued.
</p>
<p>This function uses a two-sample t-test to determine if there is a difference
in the mean value of the qualification data and the sample. A pooled
standard deviation is used in the t-test. The procedure is per CMH-17-1G.
</p>
<p>If <code>modcv</code> is TRUE, the standard deviation used to calculate the
thresholds will be replaced with a standard deviation calculated
using the Modified Coefficient of Variation (CV) approach.
The Modified CV approach is a way of adding extra variance to the
qualification data in the case that the qualification data has less
variance than expected, which sometimes occurs when qualification testing
is performed in a short period of time.
Using the Modified CV approach, the standard deviation is calculated by
multiplying <code>CV_star * mean_qual</code> where <code>mean_qual</code> is either the
value supplied or the value calculated by <code>mean(data_qual)</code> and
<code class="reqn">CV*</code> is determined using <code>calc_cv_star()</code>.
</p>
<p>Note that the modified CV option should only be used if that data passes the
Anderson–Darling test.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>call</code> the expression used to call this function
</p>
</li>
<li> <p><code>alpha</code> the value of alpha passed to this function
</p>
</li>
<li> <p><code>n_sample</code> the number of observations in the sample for which
equivalency is being checked. This is either the value <code>n_sample</code>
passed to this function or the length of the vector <code>data_sample</code>.
</p>
</li>
<li> <p><code>mean_sample</code> the mean of the observations in the sample for
which equivalency is being checked. This is either the value
<code>mean_sample</code> passed to this function or the mean of the vector
<code>data-sample</code>.
</p>
</li>
<li> <p><code>sd_sample</code> the standard deviation of the observations in the
sample for which equivalency is being checked. This is either the value
<code>mean_sample</code> passed to this function or the standard deviation of
the vector <code>data-sample</code>.
</p>
</li>
<li> <p><code>n_qual</code> the number of observations in the qualification data
to which the sample is being compared for equivalency. This is either
the value <code>n_qual</code> passed to this function or the length of the
vector <code>data_qual</code>.
</p>
</li>
<li> <p><code>mean_qual</code> the mean of the qualification data to which the
sample is being compared for equivalency. This is either the value
<code>mean_qual</code> passed to this function or the mean of the vector
<code>data_qual</code>.
</p>
</li>
<li> <p><code>sd_qual</code> the standard deviation of the qualification data to
which the sample is being compared for equivalency. This is either the
value <code>mean_qual</code> passed to this function or the standard deviation
of the vector <code>data_qual</code>.
</p>
</li>
<li> <p><code>modcv</code> logical value indicating whether the equivalency
calculations were performed using the modified CV approach
</p>
</li>
<li> <p><code>sp</code> the value of the pooled standard deviation. If
<code>modecv = TRUE</code>, this pooled standard deviation includes the
modification to the qualification CV.
</p>
</li>
<li> <p><code>t0</code> the test statistic
</p>
</li>
<li> <p><code>t_req</code> the t-value for <code class="reqn">\alpha / 2</code> and
<code class="reqn">df = n1 + n2 -2</code>
</p>
</li>
<li> <p><code>threshold</code> a vector with two elements corresponding to the
minimum and maximum values of the sample mean that would result in a
pass
</p>
</li>
<li> <p><code>result</code> a character vector of either "PASS" or "FAIL"
indicating the result of the test for change in mean
</p>
</li>
</ul>
<h3>References</h3>

<p>“Composite Materials Handbook, Volume 1. Polymer Matrix Composites
Guideline for Characterization of Structural Materials,” SAE International,
CMH-17-1G, Mar. 2012.
</p>


<h3>See Also</h3>

<p><code>calc_cv_star()</code>
</p>
<p><code>stats::t.test()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">equiv_change_mean(alpha = 0.05, n_sample = 9, mean_sample = 9.02,
                  sd_sample = 0.15785, n_qual = 28, mean_qual = 9.24,
                  sd_qual = 0.162, modcv = TRUE)

## Call:
## equiv_change_mean(n_qual = 28, mean_qual = 9.24, sd_qual = 0.162,
##                   n_sample = 9, mean_sample = 9.02, sd_sample = 0.15785,
##                   alpha = 0.05,modcv = TRUE)
##
## For alpha = 0.05
## Modified CV used
##                   Qualification        Sample
##           Number        28               9
##             Mean       9.24             9.02
##               SD      0.162           0.15785
##           Result               PASS
##    Passing Range       8.856695 to 9.623305

</code></pre>


</div>