<div class="container">

<table style="width: 100%;"><tr>
<td>cbc_choices</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulate choices for a survey design</h2>

<h3>Description</h3>

<p>Simulate choices for a survey design, either randomly or according to a
utility model defined by user-provided prior parameters. All choices are
simulated using the 'logitr' package. For more details see the JSS article
on the 'logitr' package (Helveston, 2023).
</p>


<h3>Usage</h3>

<pre><code class="language-R">cbc_choices(design, obsID = "obsID", priors = NULL, n_draws = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>A data frame of a survey design.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obsID</code></td>
<td>
<p>The name of the column in <code>design</code> that identifies each choice
observation. Defaults to <code>"obsID"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>priors</code></td>
<td>
<p>A list of one or more prior parameters that define a prior
(assumed) utility model used to simulate choices for the <code>survey</code> data frame.
If <code>NULL</code> (the default), choices will be randomly assigned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_draws</code></td>
<td>
<p>The number of Halton draws to use for simulated choices
for mixed logit models. Defaults to <code>100</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns the <code>design</code> data frame with an additional <code>choice</code> column
identifying the simulated choices.
</p>


<h3>References</h3>

<p>Helveston, J. P. (2023). logitr: Fast Estimation of Multinomial and Mixed Logit Models with Preference Space and Willingness-to-Pay Space Utility Parameterizations. Journal of Statistical Software, 105(10), 1â€“37,
<a href="https://doi.org/10.18637/jss.v105.i10">doi:10.18637/jss.v105.i10</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cbcTools)

# A simple conjoint experiment about apples

# Generate all possible profiles
profiles &lt;- cbc_profiles(
  price     = c(1, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5),
  type      = c("Fuji", "Gala", "Honeycrisp"),
  freshness = c('Poor', 'Average', 'Excellent')
)

# Make a survey design from all possible profiles
# (This is the default setting where method = 'full' for "full factorial")
design &lt;- cbc_design(
  profiles = profiles,
  n_resp   = 300, # Number of respondents
  n_alts   = 3,   # Number of alternatives per question
  n_q      = 6    # Number of questions per respondent
)

# Simulate random choices
data &lt;- cbc_choices(
  design = design,
  obsID  = "obsID"
)

# Simulate choices according to a prior utility model
data &lt;- cbc_choices(
  design = design,
  obsID = "obsID",
  priors = list(
    price     = 0.1,
    type      = c(0.1, 0.2),
    freshness = c(0.1, 0.2)
  )
)

# Simulate choices according to a prior model with interactions
data &lt;- cbc_choices(
  design = design,
  obsID = "obsID",
  priors = list(
    price     = 0.1,
    type      = c(0.1, 0.2),
    freshness = c(0.1, 0.2),
    `price*type` = c(0.1, 0.5)
  )
)

# Simulate choices according to a prior utility model with random parameters
data &lt;- cbc_choices(
  design = design,
  obsID = "obsID",
  priors = list(
    price = 0.1,
    type = randN(mean = c(0.1, 0.2), sd = c(1, 2)),
    freshness = c(0.1, 0.2)
  )
)
</code></pre>


</div>