<div class="container">

<table style="width: 100%;"><tr>
<td>plot_pseudobeta</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>plot_pseudobeta</h2>

<h3>Description</h3>

<p>This function decomposes a PLS-Cox model, translating it into a pseudo-beta
interpretation with respect to the original variables. The decomposition is based on the
relationship between the Cox coefficients associated with each component and the weights
corresponding to the original variables. The final Cox formula is thus expressed in terms of
these original variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plot_pseudobeta(
  model,
  error.bar = TRUE,
  onlySig = FALSE,
  alpha = 0.05,
  zero.rm = TRUE,
  top = NULL,
  auto.limits = TRUE,
  show_percentage = TRUE,
  size_percentage = 3,
  title_size_text = 15,
  legend_size_text = 12,
  x_axis_size_text = 10,
  y_axis_size_text = 10,
  label_x_axis_size = 10,
  label_y_axis_size = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>Coxmos model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>error.bar</code></td>
<td>
<p>Logical. Show error bar (default: TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>onlySig</code></td>
<td>
<p>Logical. Compute pseudobetas using only significant components (default: FALSE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Numeric. Numerical values are regarded as significant if they fall below the threshold
(default: 0.05).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero.rm</code></td>
<td>
<p>Logical. Remove variables with a pseudobeta equal to 0 (default: TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top</code></td>
<td>
<p>Numeric. Show "top" first variables with the higher pseudobetas in absolute value. If
top = NULL, all variables are shown (default: NULL).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>auto.limits</code></td>
<td>
<p>Logical. If "auto.limits" = TRUE, limits are detected automatically (default: TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>show_percentage</code></td>
<td>
<p>Logical. If show_percentage = TRUE, it shows the contribution percentage
for each variable to the full model (default: TRUE).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_percentage</code></td>
<td>
<p>Numeric. Size of percentage text (default: 3).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title_size_text</code></td>
<td>
<p>Numeric. Text size for legend title (default: 15).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_size_text</code></td>
<td>
<p>Numeric. Text size for legend title (default: 12).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_axis_size_text</code></td>
<td>
<p>Numeric. Text size for x axis (default: 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_axis_size_text</code></td>
<td>
<p>Numeric. Text size for y axis (default: 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_x_axis_size</code></td>
<td>
<p>Numeric. Text size for x label axis (default: 10).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label_y_axis_size</code></td>
<td>
<p>Numeric. Text size for y label axis (default: 10).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code>plot_pseudobeta</code> function offers a comprehensive visualization and interpretation
of a PLS-Cox model in terms of the original variables. The function begins by validating the model's
class and type. For single block models, the function computes the pseudo-betas by multiplying
the loading weights (<code>W.star</code>) with the Cox coefficients. For multiblock models, this computation
is performed for each block separately.
</p>
<p>The function provides flexibility in terms of visualization. Users can opt to display error bars,
filter out non-significant components based on a significance threshold (<code>alpha</code>), and remove
variables with a pseudo-beta of zero. Additionally, the function allows for automatic limit
detection for the plot and displays the contribution percentage of each variable to the full model.
The resulting plot can be customized further with various text size parameters for different plot
elements.
</p>
<p>It's worth noting that the function supports both single block and multiblock PLS-Cox models. For
multiblock models, the function returns a list of plots, one for each block, whereas for single
block models, a single plot is returned.
</p>


<h3>Value</h3>

<p>A list containing the following elements:
<code>plot</code>: Depending on the model type, this can either be a single ggplot object visualizing the pseudo-beta coefficients for the original variables in a single block PLS-Cox model, or a list of ggplot objects for each block in a multiblock PLS-Cox model. Each plot provides a comprehensive visualization of the pseudo-beta coefficients, potentially including error bars, significance filtering, and variable contribution percentages.
<code>beta</code>: A matrix or list of matrices (for multiblock models) containing the computed pseudo-beta coefficients for the original variables. These coefficients represent the influence of each original variable on the survival prediction.
<code>sd.min</code>: A matrix or list of matrices (for multiblock models) representing the lower bounds of the error bars for the pseudo-beta coefficients.
<code>sd.max</code>: A matrix or list of matrices (for multiblock models) representing the upper bounds of the error bars for the pseudo-beta coefficients.
</p>


<h3>Author(s)</h3>

<p>Pedro Salguero Garcia. Maintainer: pedsalga@upv.edu.es
</p>


<h3>Examples</h3>

<pre><code class="language-R">data("X_proteomic")
data("Y_proteomic")
X &lt;- X_proteomic[,1:50]
Y &lt;- Y_proteomic
splsicox.model &lt;- splsicox(X, Y, n.comp = 2, penalty = 0.5, x.center = TRUE, x.scale = TRUE)
plot_pseudobeta(model = splsicox.model)
</code></pre>


</div>