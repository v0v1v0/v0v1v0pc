<div class="container">

<table style="width: 100%;"><tr>
<td>xmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Map over each combination of list elements</h2>

<h3>Description</h3>

<p>These functions are variants of <code>purrr::pmap()</code> that iterate over each
combination of elements in a list.
</p>


<h3>Usage</h3>

<pre><code class="language-R">xmap(.l, .f, ...)

xmap_chr(.l, .f, ...)

xmap_dbl(.l, .f, ...)

xmap_dfc(.l, .f, ...)

xmap_dfr(.l, .f, ..., .id = NULL)

xmap_int(.l, .f, ...)

xmap_lgl(.l, .f, ...)

xmap_raw(.l, .f, ...)

xwalk(.l, .f, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>.l</code></td>
<td>
<p>A list of vectors, such as a data frame.
The length of .l determines the number of arguments that .f will be called
with.
List names will be used if present.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.f</code></td>
<td>
<p>A function, formula, or vector (not necessarily atomic).
</p>
<p>If a <strong>function</strong>, it is used as is.
</p>
<p>If a <strong>formula</strong>, e.g. <code>~ .x + 2</code>, it is converted to a function. There
are three ways to refer to the arguments:
</p>

<ul>
<li>
<p> For a single argument function, use <code>.</code>
</p>
</li>
<li>
<p> For a two argument function, use <code>.x</code> and <code>.y</code>
</p>
</li>
<li>
<p> For more arguments, use <code>..1</code>, <code>..2</code>, <code>..3</code> etc
</p>
</li>
</ul>
<p>This syntax allows you to create very compact anonymous functions.
</p>
<p>If <strong>character vector</strong>, <strong>numeric vector</strong>, or <strong>list</strong>, it is
converted to an extractor function. Character vectors index by
name and numeric vectors index by position; use a list to index
by position and name at different levels. If a component is not
present, the value of <code>.default</code> will be returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to <code>.f</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>.id</code></td>
<td>
<p>Either a string or <code>NULL</code>.
If a string, the output will contain a variable with that name, storing
either the name (if <code>.x</code> is named) or the index (if <code>.x</code> is unnamed) of
the input.
If <code>NULL</code>, the default, no variable will be created.
</p>
<p>Only applies to <code style="white-space: pre;">⁠_dfr⁠</code> variant.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Typed variants return a vector of the specified type.
To automatically determine type, try <code>xmap_vec()</code>.
</p>
<p>To return results as a matrix or array, try <code>xmap_mat()</code> and <code>xmap_arr()</code>.
</p>
<p>Note that a data frame is a very important special case, in which case
<code>xmap()</code> and <code>xwalk()</code> apply the function <code>.f</code> to each row.
<code>xmap_dfr()</code> and <code>xmap_dfc()</code> return data frames created by row-binding and
column-binding respectively.
</p>


<h3>Value</h3>

<p>An atomic vector, list, or data frame, depending on the suffix.
Atomic vectors and lists will be named if the first element of .l is named.
</p>
<p>If all input is length 0, the output will be length 0.
If any input is length 1, it will be recycled to the length of the longest.
</p>


<h3>See Also</h3>

<p><code>xmap_vec()</code> to automatically determine output type.
</p>
<p><code>xmap_mat()</code> and <code>xmap_arr()</code> to return results in a matrix or array.
</p>
<p><code>future_xmap()</code> to run <code>xmap</code> functions with parallel processing.
</p>
<p><code>cross_fit()</code> to apply multiple models to multiple subsets of data.
</p>
<p><code>cross_list()</code> to find combinations of list elements.
</p>
<p><code>purrr::map()</code>, <code>purrr::map2()</code>, and <code>purrr::pmap()</code> for other mapping
functions.
</p>


<h3>Examples</h3>

<pre><code class="language-R">xmap(list(1:5, 1:5), ~ .y * .x)
xmap_dbl(list(1:5, 1:5), ~ .y * .x)
xmap_chr(list(1:5, 1:5), ~ paste(.y, "*", .x, "=", .y * .x))

apples_and_bananas &lt;- list(
  x = c("apples", "bananas"),
  pattern = "a",
  replacement = c("oo", "ee")
)

xmap_chr(apples_and_bananas, gsub)

formulas &lt;- list(mpg ~ wt, mpg ~ hp)
subsets  &lt;- split(mtcars, mtcars$cyl)

xmap(list(subsets, formulas), ~ lm(.y, data = .x))
xmap(list(data = subsets, formula = formulas), lm)
</code></pre>


</div>