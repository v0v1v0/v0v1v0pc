<div class="container">

<table style="width: 100%;"><tr>
<td>cv.modList</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross-Validate Several Models Fit to the Same Data</h2>

<h3>Description</h3>

<p>A <code>cv()</code> method for an object of class  <code>"modlist"</code>,
created by the <code>models()</code> function. This <code>cv()</code> method simplifies
the process of cross-validating several models on the same set of CV folds
and may also be used for meta CV, where CV is used to select one from among
several models. <code>models()</code> performs some
"sanity" checks, warning if the models are of different classes, and
reporting an error if they are fit to apparently different data sets or
different response variables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'modList'
cv(
  model,
  data,
  criterion = mse,
  k,
  reps = 1L,
  seed,
  quietly = TRUE,
  meta = FALSE,
  ...
)

models(...)

## S3 method for class 'cvModList'
print(x, ...)

## S3 method for class 'cvModList'
summary(object, ...)

## S3 method for class 'cvModList'
plot(
  x,
  y,
  spread = c("range", "sd"),
  confint = TRUE,
  xlab = "",
  ylab,
  main,
  axis.args = list(labels = names(x), las = 3L),
  col = palette()[2L],
  lwd = 2L,
  grid = TRUE,
  ...
)

## S3 method for class 'cvModList'
as.data.frame(x, row.names = NULL, optional = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>a list of regression model objects,
created by <code>models()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>(required) the data set to which the models were fit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>criterion</code></td>
<td>
<p>the CV criterion ("cost" or lack-of-fit) function, defaults to
<code>mse</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>the number of CV folds; may be omitted, in which case the value
will depend on the default for the <code>cv()</code> method invoked for the
individual models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reps</code></td>
<td>
<p>number of replications of CV for each model (default is 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>(optional) seed for R's pseudo-random-number generator,
to be used to create the same set of CV folds for all of the models;
if omitted, a seed will be randomly generated and saved. Not used for
leave-one-out CV.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quietly</code></td>
<td>
<p>if <code>TRUE</code> (the default), simple messages (for example about the
value to which the random-number generator seed is set), but not warnings or
errors, are suppressed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>meta</code></td>
<td>
<p>if <code>TRUE</code> (the default is <code>FALSE</code>), cross-validation
is performed recursively to select a "best" model deleting each fold in turn
by calculating the CV estimate of the criterion for the remaining folds;
this is equivalent to employing the <code>selectModelList()</code> model-selection
procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for <code>cv.modList()</code>, additional arguments to be passed to the <code>cv()</code> method
applied to each model.
</p>
<p>For <code>models()</code>, two or more competing models fit to the
the same data; the several models may be named. It is also possible
to specify a single argument, which should then be list of models
(which has the effect of turning a list of models into a <code>"modList"</code>
object).
</p>
<p>For the <code>print()</code> method, arguments to be passed to the <code>print()</code> method for
the individual model cross-validations.
</p>
<p>For the <code>plot()</code> method, arguments to be passed to the base <code>plot()</code>
function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>"cvModList"</code> to be printed or plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object to summarize.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>the name of the element in each <code>"cv"</code> object to be
plotted; defaults to <code>"adj CV crit"</code>, if it exists, or to
<code>"CV crit"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>spread</code></td>
<td>
<p>if <code>"range"</code>, the default, show the range of CV criteria
for each model along with their average; if <code>"sd"</code>, show the average
plus or minus 1 standard deviation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>confint</code></td>
<td>
<p>if <code>TRUE</code> (the default) and if confidence intervals are
in any of the <code>"cv"</code> objects, then plot the confidence intervals around the
CV criteria.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>label for the x-axis (defaults to blank).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>label for the y-axis (if missing, a label is constructed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>main title for the graph (if missing, a label is constructed).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis.args</code></td>
<td>
<p>a list of arguments for the <code>axis()</code>
function, used to draw the horizontal axis. In addition to
the axis arguments given explicitly, <code>side=1</code> (the horizontal
axis) and <code>at=seq(along=x)</code> (i.e., 1 to the number of models)
are used and can't be modified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>color for the line and points, defaults to the second
element of the color palette; see <code>palette()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>line width for the line (defaults to 2).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grid</code></td>
<td>
<p>if <code>TRUE</code> (the default), include grid lines on the graph.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row.names</code></td>
<td>
<p>optional row names for the result,
defaults to <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>optional</code></td>
<td>
<p>to match the <code>as.data.frame()</code> generic function;
if <code>FALSE</code> (the default is <code>TRUE</code>), then the names of the columns
of the returned data frame, including the names of coefficients,
are coerced to syntactically correct names.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>models()</code> returns a <code>"modList"</code> object, the
<code>cv()</code> method for which returns a <code>"cvModList"</code> object,
or, when <code>meta=TRUE</code>, an object of class <code>c("cvSelect", "cv")</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>cv(modList)</code>: <code>cv()</code> method for <code>"modList"</code> objects.
</p>
</li>
<li> <p><code>models()</code>: create a list of models.
</p>
</li>
<li> <p><code>print(cvModList)</code>: <code>print()</code> method for <code>"cvModList"</code> objects.
</p>
</li>
<li> <p><code>summary(cvModList)</code>: <code>summary()</code> method for <code>"cvModList"</code> objects.
</p>
</li>
<li> <p><code>plot(cvModList)</code>: <code>plot()</code> method for <code>"cvModList"</code> objects.
</p>
</li>
<li> <p><code>as.data.frame(cvModList)</code>: <code>as.data.frame()</code> method for
<code>"cvModList"</code> objects.
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>cv</code>, <code>cv.merMod</code>,
<code>selectModelList</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (requireNamespace("carData", quietly=TRUE)){
withAutoprint({
data("Duncan", package="carData")
m1 &lt;- lm(prestige ~ income + education, data=Duncan)
m2 &lt;- lm(prestige ~ income + education + type, data=Duncan)
m3 &lt;- lm(prestige ~ (income + education)*type, data=Duncan)
(cv.models &lt;- cv(models(m1=m1, m2=m2, m3=m3),
                 data=Duncan, seed=7949, reps=5))
D.cv.models &lt;- as.data.frame(cv.models)
head(D.cv.models)
summary(D.cv.models, criterion ~ model + rep, include="folds")
plot(cv.models)
(cv.models.ci &lt;- cv(models(m1=m1, m2=m2, m3=m3),
                    data=Duncan, seed=5963, confint=TRUE, level=0.50))
                 # nb: n too small for accurate CIs
plot(cv.models.ci)
(cv.models.meta &lt;- cv(models(m1=m1, m2=m2, m3=m3),
                      data=Duncan, seed=5963,
                      meta=TRUE, save.model=TRUE))
cvInfo(cv.models.meta, "selected model")
})
} else {
cat("install the 'carData' package to run these examples\n")
}
</code></pre>


</div>