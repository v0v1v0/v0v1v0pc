<div class="container">

<table style="width: 100%;"><tr>
<td>VariationScenario</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Scenarios for variation in CoDa regressions models</h2>

<h3>Description</h3>

<p>Scenarios of this type are illustrated in Dargel and Thomas-Agnan (2024).
They allow to evaluate how the response variable (Y) in a CoDa model would evolve under a hypothetical scenario for linear changes in one explanatory variable (X).
When the changing explanatory variable is compositional the term "linear" is understood with respect to the geometry of the simplex.
</p>


<h3>Usage</h3>

<pre><code class="language-R">VariationScenario(
  object,
  Xvar,
  Xdir,
  obs = 1,
  inc_size = 0.1,
  n_steps = 100,
  add_opposite = TRUE,
  normalize_Xdir = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>object</code></td>
<td>
<p>an object of class "lmCoDa"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xvar</code></td>
<td>
<p>a character indicating the name of the explanatory variable that changes</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Xdir</code></td>
<td>
<p>either character or numeric, to indicate the direction in which Xvar should change
</p>

<ul>
<li>
<p> when character this should be one of the components of X, in which case the direction is the corresponding vertex of the simplex
</p>
</li>
<li>
<p> when numeric this argument is coerced to a unit vector in the simplex
</p>
</li>
<li>
<p> (when Xvar refers to a scalar variable this argument is ignored)
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>obs</code></td>
<td>
<p>a numeric indicating the observation used for the scenario</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inc_size</code></td>
<td>
<p>a numeric indicating the distance between each point in the scenario of X</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_steps</code></td>
<td>
<p>a numeric indicating the number of points in the scenario</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>add_opposite</code></td>
<td>
<p>a logical, if <code>TRUE</code> the scenario also includes changes in the opposite direction</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize_Xdir</code></td>
<td>
<p>a logical, if <code>TRUE</code> the direction <code>Xdir</code> scaled to have an Aitchison norm of 1, allowing to interpret <code>inc_size</code> as the Aitchison distance</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The linear scenario for X is computed with <code>seq()</code> in the scalar case and with <code>CoDa_seq()</code> in the compositional case.
The corresponding changes in Y are computed with the prediction formula, where we exploit the fact that only in one variable is changing.
</p>


<h3>Value</h3>

<p>a data.frame containing the scenario of X and the corresponding predicted values of Y
</p>


<h3>Author(s)</h3>

<p>Lukas Dargel
</p>


<h3>References</h3>


<ul><li>
<p> Dargel, Lukas and Christine Thomas-Agnan, “Pairwise share ratio interpretations of compositional regression models”, Computational Statistics &amp; Data Analysis 195 (2024), p. 107945
</p>
</li></ul>
<h3>Examples</h3>

<pre><code class="language-R">
# ---- model with scalar response ----
res &lt;- lmCoDa(YIELD ~ PRECIPITATION + ilr(TEMPERATURES), data = head(rice_yields,20))
VariationScenario(res, Xvar = "TEMPERATURES", Xdir = "MEDIUM", n_steps = 5)
VariationScenario(res, Xvar = "PRECIPITATION", n_steps = 5)


# ---- model with compositional response ----
res &lt;- lmCoDa(ilr(cbind(left, right, extreme_right)) ~
                ilr(cbind(Age_1839, Age_4064)) +
                ilr(cbind(Educ_BeforeHighschool, Educ_Highschool, Educ_Higher)) +
                log(unemp_rate),
              data = head(election))

VariationScenario(res, Xvar ="cbind(Age_1839,Age_4064)",Xdir = "Age_1839", n_steps = 5)
VariationScenario(res, "log(unemp_rate)", n_steps = 5)

</code></pre>


</div>