<div class="container">

<table style="width: 100%;"><tr>
<td>ilrBase</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>The canonical basis in the clr plane used for ilr and ipt transforms.</h2>

<h3>Description</h3>

<p>Compute the basis of a clr-plane, to use with isometric log-ratio or planar transform of a (dataset of)
compositions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">          ilrBase( x=NULL , z=NULL , D = NULL, method = "basic" )

          </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p> optional dataset or vector of compositions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p> optional dataset or vector containing ilr or ipt coordinates</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>D</code></td>
<td>
<p> number of parts of the simplex</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p> method to build the basis, one of "basic", "balanced", "optimal"
"PBhclust", "PBmaxvar" or "PBangprox"</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Method "basic" computes a triangular Helmert matrix (corresponding to
the original ilr transformation defined by Egozcue et al, 2003).
In this case, <code>ilrBase</code> is a wrapper catching
the answers of <code>gsi.ilrBase</code> and is to be
used as the more convenient function.
</p>
<p>Method "balanced" returns an ilr matrix associated with a balanced partition,
splitting the parts in groups as equal as possible. Transforms <code>ilr</code> and <code>ipt</code> computed
with this basis are less affected by any component (as happens with "basic").
</p>
<p>The following methods are all data-driven and will fail if <code>x</code> is not given. 
Some of these methods are extended to non-acomp datasets via the <code>cpt</code>
general functionality. Use with care with non-acomp objects!
</p>
<p>Method "optimal" is a wrapper to <code>gsi.optimalilrBase</code>, providing the ilr basis
with less influence of missing values. It is computed as a hierarchical
cluster of variables, with parts previously transformed to
1 (if the value is lost) or 0 (if it is recorded).
</p>
<p>Methods "PBhclust", "PBmaxvar" and "PBangprox" are principal balance methods (i.e.
balances approximating principal components in different ways). These are all
resolved by calls to <code>gsi.PrinBal</code>. Principal balances functionality should be
considered beta!
</p>


<h3>Value</h3>

<p>All methods give a matrix containing by columns the basis elements for the
canonical basis of the clr-plane used for the ilr and ipt transform. Only one of the
arguments <code>x</code>, <code>z</code> or <code>D</code> is needed
to determine the dimension of the simplex.
</p>
<p>If you provide transformed data <code>z</code>, the function attempts to extract the basis 
information from it with <code>gsi.getV</code>. Otherwise, the default compatible 
ilr base matrix is created.
</p>


<h3>References</h3>

<p>Egozcue J.J., V. Pawlowsky-Glahn, G. Mateu-Figueras and
C. Barcel'o-Vidal (2003) Isometric logratio transformations for
compositional data analysis. <em>Mathematical Geology</em>, <b>35</b>(3)
279-300<br></p>
<p><a href="https://ima.udg.edu/Activitats/CoDaWork03/">https://ima.udg.edu/Activitats/CoDaWork03/</a>
</p>


<h3>See Also</h3>

<p><code>clr</code>,<code>ilr</code>,<code>ipt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">ilr(c(1,2,3))
ilrBase(D=2)
ilrBase(c(1,2,3))
ilrBase(z= ilr(c(1,2,3)) )
round(ilrBase(D=7),digits= 3)
ilrBase(D=7,method="basic")
ilrBase(D=7,method="balanced")
</code></pre>


</div>