<div class="container">

<table style="width: 100%;"><tr>
<td>cpr_rand_comm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Randomize a single community matrix</h2>

<h3>Description</h3>

<p>Note that binary null models return a binary matrix, even if an abundance
matrix was used as input.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cpr_rand_comm(comm, null_model, n_iterations = 1, thin = 1, seed = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>comm</code></td>
<td>
<p>Dataframe or matrix; input community data with
sites (communities) as rows and species as columns. Values of each cell are
the presence/absence (0 or 1) or number of individuals (abundance) of each
species in each site.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>null_model</code></td>
<td>
<p>Character vector of length 1 or object of class <code>commsim</code>;
either the name of the model to use for generating random communities (null
model), or a custom null model. For full list of available predefined null
models, see the help file of <code>vegan::commsim()</code>, or run
<code>vegan::make.commsim()</code>. An object of class <code>commsim</code> can be generated with
<code>vegan::commsim()</code> (see Examples).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_iterations</code></td>
<td>
<p>Numeric vector of length 1; number of iterations for
sequential null models. Ignored by non-sequential null models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>thin</code></td>
<td>
<p>Numeric vector of length 1; thinning parameter used by some
null models in <code>vegan</code> (e.g., <code>quasiswap</code>); ignored for other models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seed</code></td>
<td>
<p>Integer vector of length 1 or NULL; random seed that will be used
in a call to <code>set.seed()</code> before randomizing the matrix. Default (<code>NULL</code>)
will not change the random generator state.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Matrix
</p>


<h3>Examples</h3>

<pre><code class="language-R">set.seed(12345)

# Check list of available pre-defined null models in vegan
vegan::make.commsim()

# Binary null model produces binary output
data(phylocom)
cpr_rand_comm(phylocom$comm, "swap", 100)

# Quantitative null model produces quantitative output
cpr_rand_comm(phylocom$comm, "swap_count", 100)

# How to use a custom null model
# 1. Define a randomizing function, e.g. re-sample the matrix while
# preserving total number of presences (same as the "r00" model)
randomizer &lt;- function(x, n, ...) {
  array(replicate(n, sample(x)), c(dim(x), n))
}

# 2. Generate a commsim object
cs_object &lt;- vegan::commsim(
  "r00_model",
  fun = randomizer, binary = TRUE,
  isSeq = FALSE, mode = "integer"
)

# 3. Generate the null community
cpr_rand_comm(phylocom$comm, cs_object, 100)
</code></pre>


</div>