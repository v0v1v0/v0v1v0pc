<div class="container">

<table style="width: 100%;"><tr>
<td>PredationMatrixToLinks</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Predation matrix to trophic links</h2>

<h3>Description</h3>

<p>A function that converts a predation matrix to a 
<code>data.frame</code> with the columns ‘resource’ and ‘consumer’.</p>


<h3>Usage</h3>

<pre><code class="language-R">PredationMatrixToLinks(pm, link.property=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pm</code></td>
<td>
<p>a <code>matrix</code> or <code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link.property</code></td>
<td>
<p>either <code>NULL</code> or a character.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Returns a <code>data.frame</code> of trophic links contained within
<code>pm</code>. Non-zero and non-<code>NA</code> values indicate a trophic link between 
a resource (row) and consumer (column). <code>pm</code> should have both row names 
and column names. The returned <code>data.frame</code> will contain the columns 
‘resource’ and ‘consumer’. If <code>pm</code> contains quantitative information 
such as diet fractions or number of observations then you can set 
<code>link.property</code> to the name of the quantity and the returned 
<code>data.frame</code> will include a column with that name, that contains link 
strength values extracted from <code>pm</code>.
</p>
<p>If you have existing food-web data in predation-matrix form then this function 
can help to import your data in to Cheddar.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code></p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code>Community</code>, 
<code>PredationMatrix</code>, 
<code>TLPS</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(TL84)

links &lt;- PredationMatrixToLinks(PredationMatrix(TL84))
identical(links, TLPS(TL84))    # TRUE

# Create a Cheddar community from an existing square predation matrix
node &lt;- c('Leaf', 'Caterpillar', 'Bluetit')
pm &lt;- matrix( c(0, 1, 0,
                0, 0, 1,
                0, 0, 0), 
             ncol=3, byrow=TRUE, dimnames=list(node, node))

community1 &lt;- Community(nodes=data.frame(node=node),
                        trophic.links=PredationMatrixToLinks(pm),
                        properties=list(title='Test community'))
TLPS(community1)

# The same set of trophic links could be represented by a non-square predation 
# matrix
pm &lt;- matrix( c(1, 0,
                0, 1), 
             ncol=2, byrow=TRUE, 
             dimnames=list(node[1:2], node[2:3]))

community2 &lt;- Community(nodes=data.frame(node=node),
                        trophic.links=PredationMatrixToLinks(pm),
                        properties=list(title='Test community'))
TLPS(community2)

all.equal(community1, community2)    # TRUE

# Extract quantitative information
node &lt;- c('Leaf 1', 'Leaf 2', 'Caterpillar 1', 'Caterpillar 2')
pm &lt;- matrix( c(0, 0, 0.4, 0.8, 
                0, 0, 0.6, 0.2, 
                0, 0, 0,   0, 
                0, 0, 0,   0), 
             ncol=4, byrow=TRUE, dimnames=list(node, node))

# A data.frame that has a column called diet.fraction
PredationMatrixToLinks(pm, link.property='diet.fraction')
</code></pre>


</div>