<div class="container">

<table style="width: 100%;"><tr>
<td>Multivariate or univariate regression with compositional data in the covariates side using the alpha-transformation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Multivariate or univariate regression with compositional data in the covariates side using the <code class="reqn">\alpha</code>-transformation
</h2>

<h3>Description</h3>

<p>Multivariate or univariate regression with compositional data in the covariates side using the <code class="reqn">\alpha</code>-transformation.
</p>


<h3>Usage</h3>

<pre><code class="language-R">alfa.pcr(y, x, a, k, model = "gaussian", xnew = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>

<p>A numerical vector containing the response variable values. They can be continuous, binary, discrete (counts).
This can also be a vector with discrete values or a factor for the multinomial regression (model = "multinomial").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>

<p>A matrix with the predictor variables, the compositional data.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>

<p>The value of the power transformation, it has to be between -1 and 1. If zero values are present it has to be greater than 0.
If <code class="reqn">\alpha=0</code> the isometric log-ratio transformation is applied.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>

<p>How many principal components to use. You may also specify a vector and in this case the results produced will refer to each number of principal components.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>

<p>The type of regression model to fit. The possible values are "gaussian", "multinomial", "binomial" and "poisson".
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xnew</code></td>
<td>

<p>A matrix containing the new compositional data whose response is to be predicted. If you have no new data, leave this NULL as is by default.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The <code class="reqn">\alpha</code>-transformation is applied to the compositional data first ,the first k principal component scores are calcualted and used as predictor variables for a regression model. The family of distributions can be either, "normal" for continuous response and hence normal distribution, "binomial" corresponding to binary response and hence logistic regression or "poisson" for count response and poisson regression.
</p>


<h3>Value</h3>

<p>A list tincluding:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>be</code></td>
<td>

<p>If linear regression was fitted, the regression coefficients of the k principal component scores on the response variable y.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>

<p>If another regression model was fitted its outcome as produced in the package <b>Rfast</b>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>per</code></td>
<td>

<p>The percentage of variance explained by the first k principal components.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vec</code></td>
<td>

<p>The first k principal components, loadings or eigenvectors. These are useful for future prediction in the sense that one needs not fit the whole model again.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>est</code></td>
<td>

<p>If the argument "xnew" was given these are the predicted or estimated values (if xnew is not NULL). If the argument <code>k</code> is a vector then this is a matrix with the estimated values for each number of components.
</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Michail Tsagris.
</p>
<p>R implementation and documentation: Michail Tsagris <a href="mailto:mtsagris@uoc.gr">mtsagris@uoc.gr</a>.
</p>


<h3>References</h3>

<p>Tsagris M. (2015). Regression analysis with compositional data containing zero values. Chilean Journal of Statistics, 6(2): 47-57.
https://arxiv.org/pdf/1508.01913v1.pdf
</p>
<p>Tsagris M.T., Preston S. and Wood A.T.A. (2011). A data-based power transformation for compositional data.
In Proceedings of the 4th Compositional Data Analysis Workshop, Girona, Spain.
https://arxiv.org/pdf/1106.1451.pdf
</p>


<h3>See Also</h3>

<p><code>glm.pcr, alfapcr.tune
</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(MASS)
y &lt;- as.vector(fgl[, 1])
x &lt;- as.matrix(fgl[, 2:9])
x &lt;- x / rowSums(x)
mod &lt;- alfa.pcr(y = y, x = x, 0.7, 1)
mod
</code></pre>


</div>