<div class="container">

<table style="width: 100%;"><tr>
<td>errorbargraph</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Create an error bar graph based on pairwise multiple comparisons 
</h2>

<h3>Description</h3>

<p>Creates a graph to see pairwise comparisons amongst groups.
The method of Andrews, Sarner, and Snee (1980) is applied to
visualizes significant differences via non-overlapping error bars.
</p>


<h3>Usage</h3>

<pre><code class="language-R">errorbargraph(estimates, centralvar, critpoint, endptscale="log",
 analysisname="", endptname="", alpha=0.05, digits=NULL, approxstamp=FALSE,
 titlestamp=TRUE, offset=NULL, ticklabels=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>estimates </code></td>
<td>

<p>A named vector of estimates. Each estimate element is a measure that will be
the center of the error bar of the group. The name of each group must
be present in the names attribute of the vector.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>centralvar </code></td>
<td>

<p>A single variance value to be used for each group's error bar
construction. In the canonical case it is the <em>square of</em> the estimated
standard error of the mean <code>estimate</code> of the group,
where each group also has the same standard error (and sample size).
If the standard errors / variances are similar enough across the groups, the
visualization may still be effective even though the error bar
lengths will be approximations.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>critpoint </code></td>
<td>

<p>The single critical value of the theoretical reference distribution.  In the
canonical case it is the t-distribution quantile for estimates derived from  a
standard linear model with homoscedastic variance. It could also
reflect a multiplicity adjustment, or like the
<code>centralvar</code> discussion in the previous item, it may serve as
part of a visually useful approximation for other cases.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endptscale </code></td>
<td>
<p>Must be specified as <code>"log"</code> or
<code>"original"</code>. If the default <code>"log"</code> then the y-axis will be created
with a logarithmic spacing. The tick marks will be calculated accordingly and
expressed in the original scale of the estimates. The
<code>estimates</code> vector must already be in the logarithmic scale.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>analysisname </code></td>
<td>
<p><em>Optional</em>, a character text or
math-valid expression that will be set for
default use in graph title and table methods. The default
value is the empty <code>""</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endptname </code></td>
<td>
<p><em>Optional</em>, a character text or math-valid expression
that will be set for default use as the y-axis label of graph
methods, and also used for table methods. The default
value is the empty <code>""</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha </code></td>
<td>
<p>Significance level, by default set to <code>0.05</code>, which
equates to a 95% confidence level. This
is just used for labelling purposes.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits </code></td>
<td>
<p><em>Optional</em>, for output display purposes in graphs
and table methods, values will be rounded to this numeric
value. Only the integers of 0, 1, 2, 3, and 4 are accepted. No
rounding is done during any calculations. The default value is
<code>NULL</code>, which will examine each individual <code>estimates</code>
value and choose the
one that has the maximum number of digits after any trailing
zeroes are ignored. The max number of digits will be 4.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>approxstamp </code></td>
<td>
<p>Add text to the graph that acknowledges that the
error bar method is approximate.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>titlestamp </code></td>
<td>
<p>Add text to the top margin above the graph area.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset </code></td>
<td>
<p><em>Optional</em>, 
if for example a numeric constant was added to all response values
before calculation of the estimate as a mean, this could be used to
shift the axis marks appropriately. The default value is
<code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ticklabels </code></td>
<td>
<p><em>Optional</em>, 
before graphing the data, remove
any automatically generated tickmarks for the y-axis,
and use these tickmarks instead. A vector of tickmarks to be
placed on the y-axis. Any numeric representations will
be coerced to character.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>

<p>Additional arguments. None are currently used.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The statistical method of Andrews, Sarner, and Snee (1980) is applied to
visualizes significant differences via non-overlapping error bars. The
method is exact when there are equal standard errors amongst the
groups, and approximate otherwise. The method's usefulness
declines as the  standard errors become more disparate.
</p>
<p>When two groups are compared, nonoverlapping error bars indicate a
statistically significant pairwise difference. Conversely, if the
error bars overlap, there is no such significant difference. In cases
of approximation, or borderline overlap that is seen, the
actual comparison needs to be consulted to judge significance with a p-value.
</p>
<p>The minimum and maximum values across all the bar ends
are added inside the plot region in blue, flush against the
y-axis. The number of decimal places are determined by the
<code>digits</code> value.
</p>


<h3>Value</h3>

<p><code>errorbargraph</code> returns
an invisible <code>NULL</code>. The main purpose is the side
effect of graphing to the current device.
</p>


<h3>Warning</h3>

<p>This function was created for internal use in the <span class="pkg">cg</span> package as
its use can be seen in the <code>errorBarGraph</code> methods
code. Therefore any direct use of it needs to be done cautiously.
</p>


<h3>Note</h3>

<p>Contact <a href="mailto:cg@billpikounis.net">cg@billpikounis.net</a> for bug reports, questions,
concerns, and comments. 
</p>


<h3>Author(s)</h3>

<p>Bill Pikounis [aut, cre, cph], John Oleynick [aut], Eva Ye [ctb]
</p>


<h3>References</h3>

<p>Andrews, H.P., Snee, R.D., Sarner, M.H. (1980). "Graphical Display of Means,"
<em>The American Statistician</em>, 34, 195-199.
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(canine)
canine.data &lt;- prepareCGOneFactorData(canine, format="groupcolumns",
                                      analysisname="Canine",
                                      endptname="Prostate Volume",
                                      endptunits=expression(plain(cm)^3),
                                      digits=1, logscale=TRUE, refgrp="CC")
canine.fit &lt;- fit(canine.data)

## Easier way: notice the camel case of the errorBarGraph call
errorBarGraph(canine.fit, model="olsonly")

## Manual way
## Instead of errorBarGraph(canine.fit, model="olsonly")
errorbargraph(estimates=canine.fit@olsfit$coef,
              centralvar=((summary(canine.fit@olsfit)$sigma^2) /
                          unique(sapply(canine, length))),
              critpoint=qt(0.975, df=canine.fit@olsfit$df.residual),
              endptscale="log",
              analysisname="Canine",
              digits=1,
              endptname=expression(paste( plain('Prostate Volume'),
                                      ' (', plain(cm)^3  ,  ')' ))
              )
              
</code></pre>


</div>