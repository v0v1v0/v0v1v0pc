<div class="container">

<table style="width: 100%;"><tr>
<td>subset.clv.data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subsetting clv.data</h2>

<h3>Description</h3>

<p>Returns a subset of the transaction data stored within the given <code>clv.data</code> object which meet conditions.
The given expression are forwarded to the <code>data.table</code> of transactions.
Possible rows to subset and select are <code>Id</code>, <code>Date</code>, and <code>Price</code> (if present).
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'clv.data'
subset(x, subset, select, sample = c("full", "estimation", "holdout"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>clv.data</code> to subset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subset</code></td>
<td>
<p>logical expression indicating rows to keep</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>select</code></td>
<td>
<p>expression indicating columns to keep</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample</code></td>
<td>
<p>Name of sample for which transactions should be extracted,</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>data.table::subset</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A copy of the <code>data.table</code> of selected transactions. May contain columns <code>Id</code>, <code>Date</code>, and <code>Price</code>.
</p>


<h3>See Also</h3>

<p><code>data.table</code>'s <code>subset</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
 # dont test because ncpu=2 limit on cran (too fast)
library(data.table) # for between()
data(cdnow)

clv.cdnow &lt;- clvdata(cdnow,
  date.format="ymd",
  time.unit = "week",
  estimation.split = "1997-09-30")

# all transactions of customer "1"
subset(clv.cdnow, Id=="1")
subset(clv.cdnow, subset = Id=="1")

# all transactions of customer "111" in the estimation period...
subset(clv.cdnow, Id=="111", sample="estimation")
# ... and in the holdout period
subset(clv.cdnow, Id=="111", sample="holdout")

# all transactions of customers "1", "2", and "999"
subset(clv.cdnow, Id %in% c("1","2","999"))

# all transactions on "1997-02-16"
subset(clv.cdnow, Date == "1997-02-16")

# all transactions between "1997-02-01" and "1997-02-16"
subset(clv.cdnow, Date &gt;= "1997-02-01" &amp; Date &lt;= "1997-02-16")
# same using data.table's between
subset(clv.cdnow, between(Date, "1997-02-01","1997-02-16"))

# all transactions with a value between 50 and 100
subset(clv.cdnow, Price &gt;= 50 &amp; Price &lt;= 100)
# same using data.table's between
subset(clv.cdnow, between(Price, 50, 100))

# only keep Id of transactions on "1997-02-16"
subset(clv.cdnow, Date == "1997-02-16", "Id")


</code></pre>


</div>