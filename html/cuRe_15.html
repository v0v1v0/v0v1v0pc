<div class="container">

<table style="width: 100%;"><tr>
<td>general.haz</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Extract general population hazard</h2>

<h3>Description</h3>

<p>Yearly general population hazards matched on age, gender, and calendar year is extracted from a ratetable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">general.haz(
  time,
  rmap,
  data = NULL,
  ratetable = cuRe::survexp.dk,
  scale = 365.24
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>Either a numeric vector of follow-up times (in days) or a character indicating the variable
containing the follow-up times in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rmap</code></td>
<td>
<p>A named list. The names must match the dimension names of the ratetable input.
The elements should be given as vectors containing the relevant variables in the data
or a character indicating the name of the variable in the data.
Elements in the list named 'age' and 'year' are transformed such that the age and year of
the event/censoring time is used.
'age' must be a numeric vector given as age in days
or a character indicating the variable containing the patient ages in the data.
'year' must be of class <code>Date</code> with the calendar time points
or a character indicating the variable containing the calendar times in the data.
Other variables should be coded as characters in the data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>The data from which to extract variables from.
If <code>time</code>, <code>age</code>, <code>sex</code>, or <code>year</code> are not characters, this will not be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ratetable</code></td>
<td>
<p>Object of class <code>ratetable</code> to extract background hazards from. Defaults to <code>survexp.dk</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Numeric to adjust the scale of the outputted hazard values.
If the ratetable provides daily hazards and <code>scale = 365.24</code> (default), the outputted hazard values are yearly.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>numeric</code> containing the yearly expected hazards.
</p>


<h3>Examples</h3>

<pre><code class="language-R">##Use data cleaned version of the colon cancer data from the rstpm2 package
data("colonDC")
set.seed(2)
colonDC &lt;- colonDC[sample(1:nrow(colonDC), 1000), ]

##Extract general population hazards
bhaz1 &lt;- general.haz(time = "FU",
                     rmap = list(age = "agedays", sex = "sex", year= "dx"),
                     data = colonDC,
                     ratetable = survexp.dk)

bhaz2 &lt;- general.haz(time = colonDC$FU,
                     rmap = list(age = colonDC$agedays, sex = colonDC$sex, year = colonDC$dx),
                     data = colonDC,
                     ratetable = survexp.dk)

all(bhaz2 == bhaz1)
</code></pre>


</div>