<div class="container">

<table style="width: 100%;"><tr>
<td>enhancements_post_civis_data_match</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create a Civis Data Match Enhancement</h2>

<h3>Description</h3>

<p>Create a Civis Data Match Enhancement
</p>


<h3>Usage</h3>

<pre><code class="language-R">enhancements_post_civis_data_match(
  name,
  input_field_mapping,
  input_table,
  match_target_id,
  output_table,
  schedule = NULL,
  parent_id = NULL,
  notifications = NULL,
  max_matches = NULL,
  threshold = NULL,
  archived = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>string required. The name of the enhancement job.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_field_mapping</code></td>
<td>
<p>list required. The field (i.e., column) mapping for the input table. See https://api.civisanalytics.com/enhancements/field-mapping for a list of valid field types and descriptions. Each field type should be mapped to a string specifying a column name in the input table. For field types that support multiple values (e.g., the "phone" field), a list of column names can be provided (e.g., "phone": ["home_phone", "mobile_phone"], ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input_table</code></td>
<td>
<p>list required. A list containing the following elements: 
</p>

<ul>
<li>
<p> databaseName string, The Redshift database name for the table.
</p>
</li>
<li>
<p> schema string, The schema name for the table.
</p>
</li>
<li>
<p> table string, The table name.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>match_target_id</code></td>
<td>
<p>integer required. The ID of the Civis Data match target. See /match_targets for IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_table</code></td>
<td>
<p>list required. A list containing the following elements: 
</p>

<ul>
<li>
<p> databaseName string, The Redshift database name for the table.
</p>
</li>
<li>
<p> schema string, The schema name for the table.
</p>
</li>
<li>
<p> table string, The table name.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schedule</code></td>
<td>
<p>list optional. A list containing the following elements: 
</p>

<ul>
<li>
<p> scheduled boolean, If the item is scheduled.
</p>
</li>
<li>
<p> scheduledDays array, Days of the week, based on numeric value starting at 0 for Sunday. Mutually exclusive with scheduledDaysOfMonth
</p>
</li>
<li>
<p> scheduledHours array, Hours of the day it is scheduled on.
</p>
</li>
<li>
<p> scheduledMinutes array, Minutes of the day it is scheduled on.
</p>
</li>
<li>
<p> scheduledRunsPerHour integer, Deprecated in favor of scheduled minutes.
</p>
</li>
<li>
<p> scheduledDaysOfMonth array, Days of the month it is scheduled on, mutually exclusive with scheduledDays.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parent_id</code></td>
<td>
<p>integer optional. Parent ID that triggers this enhancement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>notifications</code></td>
<td>
<p>list optional. A list containing the following elements: 
</p>

<ul>
<li>
<p> urls array, URLs to receive a POST request at job completion
</p>
</li>
<li>
<p> successEmailSubject string, Custom subject line for success e-mail.
</p>
</li>
<li>
<p> successEmailBody string, Custom body text for success e-mail, written in Markdown.
</p>
</li>
<li>
<p> successEmailAddresses array, Addresses to notify by e-mail when the job completes successfully.
</p>
</li>
<li>
<p> successEmailFromName string, Name from which success emails are sent; defaults to "Civis."
</p>
</li>
<li>
<p> successEmailReplyTo string, Address for replies to success emails; defaults to the author of the job.
</p>
</li>
<li>
<p> failureEmailAddresses array, Addresses to notify by e-mail when the job fails.
</p>
</li>
<li>
<p> stallWarningMinutes integer, Stall warning emails will be sent after this amount of minutes.
</p>
</li>
<li>
<p> successOn boolean, If success email notifications are on.
</p>
</li>
<li>
<p> failureOn boolean, If failure email notifications are on.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_matches</code></td>
<td>
<p>integer optional. The maximum number of matches per record in the input table to return. Must be between 0 and 10. 0 returns all matches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>number optional. The score threshold (between 0 and 1). Matches below this threshold will not be returned. The default value is 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>archived</code></td>
<td>
<p>boolean optional. Whether the Civis Data Match Job has been archived.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>integer, The ID for the enhancement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>name</code></td>
<td>
<p>string, The name of the enhancement job.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>string, The type of the enhancement (e.g CASS-NCOA)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>createdAt</code></td>
<td>
<p>string, The time this enhancement was created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>updatedAt</code></td>
<td>
<p>string, The time the enhancement was last updated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>author</code></td>
<td>
<p>list, A list containing the following elements: 
</p>

<ul>
<li>
<p> id integer, The ID of this user.
</p>
</li>
<li>
<p> name string, This user's name.
</p>
</li>
<li>
<p> username string, This user's username.
</p>
</li>
<li>
<p> initials string, This user's initials.
</p>
</li>
<li>
<p> online boolean, Whether this user is online.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>state</code></td>
<td>
<p>string, The status of the enhancement's last run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>schedule</code></td>
<td>
<p>list, A list containing the following elements: 
</p>

<ul>
<li>
<p> scheduled boolean, If the item is scheduled.
</p>
</li>
<li>
<p> scheduledDays array, Days of the week, based on numeric value starting at 0 for Sunday. Mutually exclusive with scheduledDaysOfMonth
</p>
</li>
<li>
<p> scheduledHours array, Hours of the day it is scheduled on.
</p>
</li>
<li>
<p> scheduledMinutes array, Minutes of the day it is scheduled on.
</p>
</li>
<li>
<p> scheduledRunsPerHour integer, Deprecated in favor of scheduled minutes.
</p>
</li>
<li>
<p> scheduledDaysOfMonth array, Days of the month it is scheduled on, mutually exclusive with scheduledDays.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parentId</code></td>
<td>
<p>integer, Parent ID that triggers this enhancement.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>notifications</code></td>
<td>
<p>list, A list containing the following elements: 
</p>

<ul>
<li>
<p> urls array, URLs to receive a POST request at job completion
</p>
</li>
<li>
<p> successEmailSubject string, Custom subject line for success e-mail.
</p>
</li>
<li>
<p> successEmailBody string, Custom body text for success e-mail, written in Markdown.
</p>
</li>
<li>
<p> successEmailAddresses array, Addresses to notify by e-mail when the job completes successfully.
</p>
</li>
<li>
<p> successEmailFromName string, Name from which success emails are sent; defaults to "Civis."
</p>
</li>
<li>
<p> successEmailReplyTo string, Address for replies to success emails; defaults to the author of the job.
</p>
</li>
<li>
<p> failureEmailAddresses array, Addresses to notify by e-mail when the job fails.
</p>
</li>
<li>
<p> stallWarningMinutes integer, Stall warning emails will be sent after this amount of minutes.
</p>
</li>
<li>
<p> successOn boolean, If success email notifications are on.
</p>
</li>
<li>
<p> failureOn boolean, If failure email notifications are on.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>runningAs</code></td>
<td>
<p>list, A list containing the following elements: 
</p>

<ul>
<li>
<p> id integer, The ID of this user.
</p>
</li>
<li>
<p> name string, This user's name.
</p>
</li>
<li>
<p> username string, This user's username.
</p>
</li>
<li>
<p> initials string, This user's initials.
</p>
</li>
<li>
<p> online boolean, Whether this user is online.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>myPermissionLevel</code></td>
<td>
<p>string, Your permission level on the object. One of "read", "write", or "manage".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputFieldMapping</code></td>
<td>
<p>list, The field (i.e., column) mapping for the input table. See https://api.civisanalytics.com/enhancements/field-mapping for a list of valid field types and descriptions. Each field type should be mapped to a string specifying a column name in the input table. For field types that support multiple values (e.g., the "phone" field), a list of column names can be provided (e.g., "phone": ["home_phone", "mobile_phone"], ...).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputTable</code></td>
<td>
<p>list, A list containing the following elements: 
</p>

<ul>
<li>
<p> databaseName string, The Redshift database name for the table.
</p>
</li>
<li>
<p> schema string, The schema name for the table.
</p>
</li>
<li>
<p> table string, The table name.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matchTargetId</code></td>
<td>
<p>integer, The ID of the Civis Data match target. See /match_targets for IDs.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputTable</code></td>
<td>
<p>list, A list containing the following elements: 
</p>

<ul>
<li>
<p> databaseName string, The Redshift database name for the table.
</p>
</li>
<li>
<p> schema string, The schema name for the table.
</p>
</li>
<li>
<p> table string, The table name.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxMatches</code></td>
<td>
<p>integer, The maximum number of matches per record in the input table to return. Must be between 0 and 10. 0 returns all matches.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>number, The score threshold (between 0 and 1). Matches below this threshold will not be returned. The default value is 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>archived</code></td>
<td>
<p>boolean, Whether the Civis Data Match Job has been archived.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lastRun</code></td>
<td>
<p>list, A list containing the following elements: 
</p>

<ul>
<li>
<p> id integer, 
</p>
</li>
<li>
<p> state string, 
</p>
</li>
<li>
<p> createdAt string, The time that the run was queued.
</p>
</li>
<li>
<p> startedAt string, The time that the run started.
</p>
</li>
<li>
<p> finishedAt string, The time that the run completed.
</p>
</li>
<li>
<p> error string, The error message for this run, if present.
</p>
</li>
</ul>
</td>
</tr>
</table>
</div>