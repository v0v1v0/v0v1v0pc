<div class="container">

<table style="width: 100%;"><tr>
<td>keypair_sodium</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Asymmetric encryption with sodium</h2>

<h3>Description</h3>

<p>Wrap a pair of sodium keys for asymmetric encryption.  You should
pass your private key and the public key of the person that you
are communicating with.
</p>


<h3>Usage</h3>

<pre><code class="language-R">keypair_sodium(pub, key, authenticated = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pub</code></td>
<td>
<p>A sodium public key.  This is either a raw vector of
length 32 or a path to file containing the contents of the key
(written by <code>writeBin()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>key</code></td>
<td>
<p>A sodium private key.  This is either a raw vector of
length 32 or a path to file containing the contents of the key
(written by <code>writeBin()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>authenticated</code></td>
<td>
<p>Logical, indicating if authenticated
encryption (via <code>sodium::auth_encrypt()</code> /
<code>sodium::auth_decrypt()</code>) should be used.  If <code>FALSE</code>
then <code>sodium::simple_encrypt()</code> /
<code>sodium::simple_decrypt()</code> will be used.  The difference is
that with <code>authenticated = TRUE</code> the message is signed with
your private key so that tampering with the message will be
detected.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><em>NOTE</em>: the order here (pub, key) is very important; if the
wrong order is used you cannot decrypt things.  Unfortunately
because sodium keys are just byte sequences there is nothing to
distinguish the public and private keys so this is a pretty easy
mistake to make.
</p>


<h3>See Also</h3>

<p><code>keypair_openssl()</code> for a similar function using
openssl keypairs
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Generate two keypairs, one for Alice, and one for Bob
key_alice &lt;- sodium::keygen()
pub_alice &lt;- sodium::pubkey(key_alice)
key_bob &lt;- sodium::keygen()
pub_bob &lt;- sodium::pubkey(key_bob)

# Alice wants to send Bob a message so she creates a key pair with
# her private key and bob's public key (she does not have bob's
# private key).
pair_alice &lt;- cyphr::keypair_sodium(pub = pub_bob, key = key_alice)

# She can then encrypt a secret message:
secret &lt;- cyphr::encrypt_string("hi bob", pair_alice)
secret

# Bob wants to read the message so he creates a key pair using
# Alice's public key and his private key:
pair_bob &lt;- cyphr::keypair_sodium(pub = pub_alice, key = key_bob)

cyphr::decrypt_string(secret, pair_bob)
</code></pre>


</div>