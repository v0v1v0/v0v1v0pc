<div class="container">

<table style="width: 100%;"><tr>
<td>PlotPopPyramid</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Population PlotPopPyramid</h2>

<h3>Description</h3>

<p>Displays two opposed horizontal barplots (pyramid).
</p>


<h3>Usage</h3>

<pre><code class="language-R">PlotPopPyramid(dat = NULL, age.col = NULL, sex.col = NULL,
  str.col = NULL, str.tip = NULL, x.label = "Count",
  stage.label = "Years", legend.label = "Sterilized",
  inner.color = "LightBlue", outer.color = "DarkRed",
  label.size = 13)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p><code>data.frame</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age.col</code></td>
<td>
<p><code>dat</code> column that has a <code>numeric</code> <code>vector</code> representing ages or stage categories.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sex.col</code></td>
<td>
<p><code>dat</code> column that has two unique values representing the sex of individuals (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>str.col</code></td>
<td>
<p><code>dat</code> column that has two unique values representing the reproductive status of individuals (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>str.tip</code></td>
<td>
<p>string with the category of <code>str.col</code> to place at tip of the bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x.label</code></td>
<td>
<p>string to be used as a label for the x axis. If undefined, <code>x.label</code> is equal to "Total" (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stage.label</code></td>
<td>
<p>a string to be used as a label for the ages or stage categories. If undefined, <code>stage.label</code> is equal to "Years" (see Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend.label</code></td>
<td>
<p>a string to be used as a label for the legend. If undefined, <code>legend.label</code> is equal to "Sterilized".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inner.color</code></td>
<td>
<p>any valid specification of a color. When <code>str.col</code> is not <code>NULL</code>, <code>inner.color</code> is the color of inner bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outer.color</code></td>
<td>
<p>any valid way specification of a color. When <code>str.col</code> is <code>NULL</code>, <code>outer.color</code> is the default color. When <code>str.col</code> is not <code>NULL</code>, <code>outer.color</code> is the outer color of bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.size</code></td>
<td>
<p>string to define the font size for labels.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>PlotPopPyramid</code> is mainly intended for companion animals population pyramids, although it can display other types of opposed bar charts.
</p>
<p>The bars to the left of the x axis correspond to <code>sort(unique(dat[, sex.col]))[1]</code>. If <code>str.col</code> is not <code>NULL</code>, bars will be stacked, with <code>sort(unique(dat[, str.col]))[1]</code> as their base.
</p>
<p>On the top of the plot, it is displayed the total number of observations of each <code>dat[, sex.col]</code> unique value. This unique values are used as <code>labels</code>.
</p>
<p>The legend <code>labels</code> are equal to the <code>dat[, str.col]</code> unique values.
</p>
<p>Font size of saved plots is usually different to the font size seen in graphic browsers. Before changing font sizes, see the final result in saved (or preview) plots.
</p>
<p>Other details of the plot can be modifyed using appropriate functions from <code>ggplot2</code> package (see examples).
</p>


<h3>Value</h3>

<p>Two opposed horizontal barplots.
</p>


<h3>Note</h3>

<p>In companion animals population surveys, some age categories might be empty. One difference between <code>PlotPopPyramid</code> and <code>pryramid.plot</code> is that the first does not drop empty age categories.
</p>


<h3>References</h3>

<p>Baquero, O. S., Marconcin, S., Rocha, A., &amp; Garcia, R. D. C. M. (2018). Companion animal demography and population management in Pinhais, Brazil. Preventive Veterinary Medicine.
</p>
<p><a href="http://oswaldosantos.github.io/capm">http://oswaldosantos.github.io/capm</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(dogs)

PlotPopPyramid(dogs,
               age.col = "age",
               sex.col = "sex",
               str.col = "sterilized")

PlotPopPyramid(dogs,
               age.col = "age",
               sex.col = "sex")

## Merge age categories
pp_age &lt;- cut(c(dogs$age, dogs$age3),
               breaks = c(0, 1, 3, 5, 7, 9, 11, 13, 15,
                          max(c(dogs$age, dogs$age3), na.rm = TRUE)),
               labels = c("&lt;1", "1-3", "3-5", "5-7", "7-9",
                          "9-11", "11-13", "13-15", "&gt;15"),
               include.lowest = TRUE)
pp_sex &lt;- c(dogs$sex, dogs$sex3)
pp_ster &lt;- c(dogs$sterilized, dogs$sterilized3)
pp &lt;- data.frame(age = pp_age, sex = pp_sex, sterilized = pp_ster)

PlotPopPyramid(pp,
              age.col = "age",
              sex.col = "sex",
              str.col = "sterilized")

PlotPopPyramid(pp,
              age.col = "age",
              sex.col = "sex")

</code></pre>


</div>