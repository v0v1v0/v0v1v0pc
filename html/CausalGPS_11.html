<div class="container">

<table style="width: 100%;"><tr>
<td>compile_pseudo_pop</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compile pseudo population</h2>

<h3>Description</h3>

<p>Compiles pseudo population based on the original population and estimated GPS
value.
</p>


<h3>Usage</h3>

<pre><code class="language-R">compile_pseudo_pop(
  data_obj,
  ci_appr,
  gps_density,
  exposure_col_name,
  nthread,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data_obj</code></td>
<td>
<p>A S3 object including the following:
</p>

<ul>
<li>
<p> Original data set + GPS values
</p>
</li>
<li>
<p> e_gps_pred
</p>
</li>
<li>
<p> e_gps_std_pred
</p>
</li>
<li>
<p> w_resid
</p>
</li>
<li>
<p> gps_mx (min and max of gps)
</p>
</li>
<li>
<p> w_mx (min and max of w).
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_appr</code></td>
<td>
<p>Causal inference approach.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gps_density</code></td>
<td>
<p>Model type which is used for estimating GPS value,
including <code>normal</code> and <code>kernel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>exposure_col_name</code></td>
<td>
<p>Exposure data column name.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nthread</code></td>
<td>
<p>An integer value that represents the number of threads to be
used by internal packages.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For matching approach, use an extra parameter, <code>bin_seq</code>, which is sequence
of w (treatment) to generate pseudo population. If <code>NULL</code> is passed the
default value will be used, which is
<code>seq(min(w)+delta_n/2,max(w), by=delta_n)</code>.
</p>


<h3>Value</h3>

<p><code>compile_pseudo_pop</code> returns the pseudo population data that is compiled based
on the selected causal inference approach.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
set.seed(112)
m_d &lt;- generate_syn_data(sample_size = 100)

m_xgboost &lt;- function(nthread = 1,
                      ntrees = 35,
                      shrinkage = 0.3,
                      max_depth = 5,
                      ...) {SuperLearner::SL.xgboost(
                        nthread = nthread,
                        ntrees = ntrees,
                        shrinkage=shrinkage,
                        max_depth=max_depth,
                        ...)}

data_with_gps &lt;- estimate_gps(.data = m_d,
                              .formula = w ~ cf1 + cf2 + cf3 +
                                             cf4 + cf5 + cf6,
                              gps_density = "normal",
                              sl_lib = c("m_xgboost")
                             )


pd &lt;- compile_pseudo_pop(data_obj = data_with_gps,
                         ci_appr = "matching",
                         gps_density = "normal",
                         bin_seq = NULL,
                         exposure_col_name = c("w"),
                         nthread = 1,
                         dist_measure = "l1",
                         covar_bl_method = 'absolute',
                         covar_bl_trs = 0.1,
                         covar_bl_trs_type= "mean",
                         delta_n = 0.5,
                         scale = 1)

</code></pre>


</div>