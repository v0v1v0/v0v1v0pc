<div class="container">

<table style="width: 100%;"><tr>
<td>bootcov2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Boostrapping algorithm for <code>coxed</code>
</h2>

<h3>Description</h3>

<p>This function uses bootstrapping to create standard errors and
confidence intervals for the quantities produced by the coxed()
function. It is adapted from the <code>bootcov</code> function
in the <code>rms</code> package. It is called by the <code>coxed</code>
function and is not intended to be used by itself.  Please refer to
the original <code>bootcov</code> function for general bootstrapping
applications.
</p>


<h3>Usage</h3>

<pre><code class="language-R">bootcov2(fit, cluster, B = 200, fitter, coef.reps = TRUE,
  loglik = FALSE, pr = FALSE, maxit = 15, group = NULL,
  stat = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>an estimated Cox proportional hazards model object with
class "coxph" or "cph"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster</code></td>
<td>
<p>a variable indicating groupings. <code>cluster</code> may
be any type of vector (factor, character, integer). Unique values
of <code>cluster</code> indicate possibly correlated groupings of observations.
Note the data used in the fit and stored in <code>fit$x</code> and <code>fit$y</code>
may have had observations containing missing values deleted. It is assumed
that if there were any <code>NA</code>s, an <code>naresid</code> function exists for
the class of fit. This function restores <code>NA</code>s so that the rows of
the design matrix coincide with <code>cluster</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>Number of bootstrap simulation iterations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitter</code></td>
<td>
<p>the name of a function with arguments <code>(x,y)</code> that will fit
bootstrap samples. Default is taken from the class of fit if it is <code>ols</code>,
<code>lrm</code>, <code>cph</code>, <code>psm</code>, <code>Rq</code>. If <code>fitter="tvc"</code> the
function employs <code>agreg.fit</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coef.reps</code></td>
<td>
<p>set to <code>TRUE</code> if you want to store a matrix of all
bootstrap regression coefficient estimates in the returned component <code>boot.Coef</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>loglik</code></td>
<td>
<p>set to <code>TRUE</code> to store -2 log likelihoods for each bootstrap model,
evaluated against the original <code>x</code> and <code>y</code> data. The default is to do this when
<code>coef.reps</code> is specified as <code>TRUE</code>. The use of <code>loglik=TRUE</code> assumes
that an <code>oos.loglik</code> method exists for the type of model being analyzed, to calculate
out-of-sample -2 log likelihoods (see <code>rmsMisc</code>). After the B -2 log likelihoods
(stored in the element named <code>boot.loglik</code> in the returned fit object), the <code>B+1</code>
element is the -2 log likelihood for the original model fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pr</code></td>
<td>
<p>set to <code>TRUE</code> to print the current sample number to monitor progress</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxit</code></td>
<td>
<p>maximum number of iterations, to pass to <code>fitter</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>a grouping variable used to stratify the sample upon bootstrapping. This
allows one to handle <code>k</code>-sample problems, i.e., each bootstrap sample will be forced
to select the same number of observations from each level of group as the number appearing
in the original dataset. You may specify both <code>group</code> and <code>cluster</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stat</code></td>
<td>
<p>a single character string specifying the name of a <code>stats</code> element produced
by the fitting function to save over the bootstrap repetitions. The vector of saved statistics
will be in the <code>boot.stats</code> part of the list returned by <code>bootcov</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function contains the same code as the <code>bootcov</code> function in
the <code>rms</code> package, with a few alterations to work better with the <code>coxed</code>
function. First, we output a result attribute <code>b.ind</code>, which contains the observation numbers from the estimation sample
that are drawn with replacement to produce the bootstrap sample and takes into account clustering.
Second, we program a new class, <code>tvc</code>, for
<code>fitter</code> to use <code>agreg.fit</code> instead of <code>coxph.fit</code>
when the data contain time-varying covariates.
</p>


<h3>Author(s)</h3>

<p>Jonathan Kropko &lt;jkropko@virginia.edu&gt; and Jeffrey J. Harden &lt;jharden@nd.edu&gt;, based
on the code for the <code>bootcov</code> function in the <code>rms</code> package
by Frank Harrell and Bill Pikounis
</p>


<h3>See Also</h3>

<p><code>coxed</code>, <code>coxph</code>, <code>cph</code>, <code>bootcov</code>
</p>


</div>