<div class="container">

<table style="width: 100%;"><tr>
<td>sensitivity</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Sensitivity Analysis Using R-Squared Values for Causal Decomposition Analysis</h2>

<h3>Description</h3>

<p>The function 'sensitivity' is used to implement sensitivity analysis for the
causal decomposition analysis, using R-squared values as sensitivity parameters.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sensitivity(boot.res, fit.y, fit.m = NULL, mediator = NULL, covariates, treat,
            sel.lev.treat, conf.level = 0.95, max.rsq = 0.3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>boot.res</code></td>
<td>
<p>bootstrap results from an object fitted by the 'smi' function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.y</code></td>
<td>
<p>outcome model used in fitting the 'smi' function.
Can be of class 'lm' or 'glm'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit.m</code></td>
<td>
<p>mediator model used in fitting the 'smi' function.
Can be of class 'lm', 'glm', or 'polr'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mediator</code></td>
<td>
<p>a vector containing the name of mediator used in the models.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>covariates</code></td>
<td>
<p>a vector containing the name of the covariate variable(s)
used in the models. Each covariate can be categorical with two or more
categories (two- or multi-valued factor) or continuous (numeric).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>treat</code></td>
<td>
<p>a character string indicating the name of the treatment variable
used in the models. The treatment can be categorical with two or more
categories (two- or multi-valued factor).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sel.lev.treat</code></td>
<td>
<p>a level of categorical treatment variable which is to be
compared with the reference level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf.level</code></td>
<td>
<p>level of the returned two-sided confidence intervals,
which are estimated by the nonparametric percentile bootstrap method.
Default is .95, which returns the 2.5 and 97.5 percentiles of the simulated
quantities.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max.rsq</code></td>
<td>
<p>upper limit of the two sensitivity parameters (R-squared values).
Once it is set, the R-squared values between 0 and this upper limit are
explored to draw the sensitivity contour plots. Default is 0.3.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function is used to implement sensitivity analysis for the
causal decomposition analysis, using two sensitivity parameters: (i) the
R-squared value between the outcome and unobserved confounder given the treatment,
intermediate confounder, mediator, and covariates; and (ii) the R-squared value
between the mediator and unobserved confounder given the treatment, intermediate
confounder, and covariates (Park et al., 2023).
</p>
<p>As of version 0.1.0, 'boot.res' must be fitted by the 'smi' function with a single
mediator, which can be of class 'lm', 'glm', or 'polr'.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>original function call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disparity.reduction</code></td>
<td>
<p>a matrix containing the estimated disparity reduction
value along with lower and upper limits of the confidence interval, for each
combination of the two sensitivity parameters, assuming those two are equal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disparity.remaining</code></td>
<td>
<p>a matrix containing the estimated disparity remaining
value along with lower and upper limits of the confidence interval, for each
combination of the two sensitivity parameters, assuming those two are equal.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm</code></td>
<td>
<p>R-squared values between the mediator and unobserved confounder
(first sensitivity parameter), which are explored for the sensitivity analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ry</code></td>
<td>
<p>R-squared values between the outcome and unobserved confounder,
(second sensitivity parameter), which are explored for the sensitivity analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>red</code></td>
<td>
<p>a matrix containing the estimated disparity reduction values given
each combination of the two sensitivity parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_red</code></td>
<td>
<p>a matrix containing the lower limit of disparity reduction given
each combination of the two sensitivity parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rem</code></td>
<td>
<p>a matrix containing the estimated disparity remaining values given
each combination of the two sensitivity parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lower_rem</code></td>
<td>
<p>a matrix containing the lower limit of disparity remaining given
each combination of the two sensitivity parameters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RV_red</code></td>
<td>
<p>robustness value for disparity reduction, which represents the
strength of association that will explain away the estimated disparity reduction.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RV_red_alpha</code></td>
<td>
<p>robustness value for disparity reduction, which represents
the strength of association that will change the significance of the estimated
disparity reduction at the given significance level, assuming an equal association
to the mediator and the outcome.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RV_rem</code></td>
<td>
<p>robustness value for disparity remaining, which represents the
strength of association that will explain away the estimated disparity remaining.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>RV_rem_alpha</code></td>
<td>
<p>robustness value for disparity remaining, which represents
the strength of association that will change the significance of the estimated
disparity remaining at the given significance level, assuming an equal association
to the mediator and the outcome.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Suyeon Kang, University of California, Riverside, <a href="mailto:skang062@ucr.edu">skang062@ucr.edu</a>;
Soojin Park, University of California, Riverside, <a href="mailto:soojinp@ucr.edu">soojinp@ucr.edu</a>.
</p>


<h3>References</h3>

<p>Park, S., Kang, S., Lee, C., &amp; Ma, S. (2023). Sensitivity analysis for causal
decomposition analysis: Assessing robustness toward omitted variable bias,
Journal of Causal Inference. Forthcoming.
</p>


<h3>See Also</h3>

<p><code>smi</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(sMIDUS)

# Center covariates
sMIDUS$age &lt;- scale(sMIDUS$age, center = TRUE, scale = FALSE)
sMIDUS$stroke &lt;- scale(sMIDUS$stroke, center = TRUE, scale = FALSE)
sMIDUS$T2DM &lt;- scale(sMIDUS$T2DM, center = TRUE, scale = FALSE)
sMIDUS$heart &lt;- scale(sMIDUS$heart, center = TRUE, scale = FALSE)

fit.m &lt;- lm(edu ~ racesex + age + stroke + T2DM + heart, data = sMIDUS)
fit.y &lt;- lm(health ~ racesex + lowchildSES + abuse + edu + racesex:edu +
            age + stroke + T2DM + heart, data = sMIDUS)
smiRes &lt;- smi(fit.m = fit.m, fit.y = fit.y, sims = 40, conf.level = .95,
          covariates = c("age", "stroke", "T2DM", "heart"), treat = "racesex", seed = 227)
sensRes &lt;- sensitivity(boot.res = smiRes, fit.m = fit.m, fit.y = fit.y, mediator = "edu",
                       covariates = c("age", "stroke", "T2DM", "heart"), treat = "racesex",
                       sel.lev.treat = "4", max.rsq = 0.3)

sensRes
names(sensRes) 
# Create sensitivity contour plots
plot(sensRes)
</code></pre>


</div>