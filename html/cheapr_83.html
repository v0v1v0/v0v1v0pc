<div class="container">

<table style="width: 100%;"><tr>
<td>set_abs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Math operations by reference - <b>Experimental</b>
</h2>

<h3>Description</h3>

<p>These functions transform your variable by reference, with no copies being made.
It is advisable to only use these if you know what you are doing.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_abs(x)

set_floor(x)

set_ceiling(x)

set_trunc(x)

set_exp(x)

set_sqrt(x)

set_change_sign(x)

set_round(x, digits = 0)

set_log(x, base = exp(1))

set_pow(x, y)

set_add(x, y)

set_subtract(x, y)

set_multiply(x, y)

set_divide(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A numeric vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>Number of digits to round to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>base</code></td>
<td>
<p>Logarithm base.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A numeric vector.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions are particularly useful for situations
where you have made a copy and then
wish to perform further operations without creating more copies. <br><code>NA</code> and <code>NaN</code> values are ignored though in some instances <code>NaN</code> values may
be replaced with <code>NA</code>.
These functions will <b>not work</b> on <b>any</b> classed objects, meaning they
only work on standard integer and numeric vectors and matrices. <br></p>


<h4>When a copy has to be made</h4>

<p>A copy is only made in certain instances, e.g. when passing an integer vector
to <code>set_log()</code>. A warning will always be thrown in this instance alerting the user
to assign the output to an object because <code>x</code> has not been updated by reference. <br>
To ensure consistent and expected outputs, always assign the output to the same object, <br> e.g.
<code>x &lt;- set_log(x)</code> (<b>do this</b>) <br><code>set_log(x)</code> (<b>don't do this</b>) <br><code>x2 &lt;- set_log(x)</code> (Don't do this either) <br><br> No copy is made here unless x is an integer vector.
</p>



<h3>Value</h3>

<p>The exact same object with no copy made, just transformed.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cheapr)
library(bench)

x &lt;- rnorm(2e05)
options(cheapr.cores = 2)
mark(
  base = exp(log(abs(x))),
  cheapr = set_exp(set_log(set_abs(x)))
)
options(cheapr.cores = 1)

</code></pre>


</div>