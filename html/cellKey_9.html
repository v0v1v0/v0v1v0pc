<div class="container">

<table style="width: 100%;"><tr>
<td>ck_params_nums</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Set perturbation parameters for continuous variables</h2>

<h3>Description</h3>

<p>This function allows to define perturbation parameters used to
perturb cells in magnitude tables.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ck_params_nums(
  type = "top_contr",
  top_k = NULL,
  ptab,
  mult_params,
  mu_c = 0,
  same_key = TRUE,
  use_zero_rkeys = FALSE,
  path = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>a character value defining the way to identify the <code>magnifier</code>,
e.g which contributions/values in a cell should be the used in the
perturbation procedure. Possible choices are:
</p>

<ul>
<li> <p><code>top_contr</code>: the <code>k</code> largest contributions are used. In this case,
it is also required to specify argument <code>top_k</code>
</p>
</li>
<li> <p><code>mean</code>: the (weighted) cellmean is used as starting point
</p>
</li>
<li> <p><code>range</code>: the difference between largest and smallest contribution
is used.
</p>
</li>
<li> <p><code>sum</code>: the (weighted) cellvalue itself is used as starting point
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>top_k</code></td>
<td>
<p>it is ignored if <code>variant</code> is different from <code>top_contr</code>.
Otherwise, a scalar number <code style="white-space: pre;">⁠&gt;0⁠</code> is expected.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptab</code></td>
<td>
<p>in this argument, one ore more perturbation tables are given as
input. the following choices are possible:
</p>

<ul>
<li>
<p> an object derived from <code>ptable::create_ptable()</code>
or <code>ptable::create_num_ptable()</code>: this case is the same as specifying a named
list with only a single element <code>"all"</code> (as described below)
</p>
</li>
<li>
<p> a named <code>list</code> where the allowed names are shown below and each element
must be the output of [ptable::create_ptable())] or
<code>ptable::create_num_ptable()</code>
</p>

<ul>
<li> <p><code>"all"</code>: this ptable will be used for all cells; if specified, no
elements named <code>"even"</code> or <code>"odd"</code> must exist.
</p>
</li>
<li> <p><code>"even"</code>: will be used to look up perturbation values for cells with an
even number of contributors. if specified, also list-element <code>"odd"</code> must
exist.
</p>
</li>
<li> <p><code>"odd"</code>: will be used to look up perturbation values for cells with an
odd number of contributors; if specified, also list-element <code>"even"</code> must
exist.
</p>
</li>
<li> <p><code>"small_cells"</code>: if specified, this ptable will be used to extract
perturbation values for very small cells
</p>
</li>
</ul>
</li>
</ul>
<p>[ptable::create_ptable())]: R:ptable::create_ptable())
<code>ptable::create_num_ptable()</code>: R:ptable::create_num_ptable()</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mult_params</code></td>
<td>
<p>an object derived with <code>ck_flexparams()</code> or
<code>ck_simpleparams()</code> that contain required parameters for the computation of
the perturbation multiplier</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu_c</code></td>
<td>
<p>fixed extra protection amount (<code style="white-space: pre;">⁠&gt;= 0)⁠</code> applied to the absolute of
the perturbation value of the first (largest) noise component if the cell is
sensitive. This value defaults to <code>0</code> (no additional protection). Please note
that sensitive cells can be defined according using the <code>supp_freq()</code>,
<code>supp_val</code>, <code>supp_p()</code>, <code>supp_nk()</code> and <code>supp_pq()</code> methods. An examples is
given in <code>?cellkey_pkg</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>same_key</code></td>
<td>
<p>(logical) should original cell key (<code>TRUE</code>) used for
for finding perturbation values of the largest contributor to a
cell or should a perturbation of the cellkey itself (<code>FALSE</code>) take place.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_zero_rkeys</code></td>
<td>
<p>(logical) scalar defining if record keys of
units not contributing to a specific numeric variables should be
used (<code>TRUE</code>) or ignored (<code>FALSE</code>) when computing cell keys.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>path</code></td>
<td>
<p>a scalar character specifying a path to which the parameters
created with this functions should be written to (in yaml format)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object suitable as input to method <code style="white-space: pre;">⁠$params_nums_set()⁠</code> for the
perturbation of continous variables.
</p>


<h3>See Also</h3>

<p><code>ck_flexparams()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create a perturbation table using
# functionality from ptable-pkg; see help(pa = "ptable")
# this returns an extra ptable for very small cells
ptab &lt;- ptable::pt_ex_nums(separation = TRUE)

# create parameters
ck_params_nums(
  type = "top_contr",
  top_k = 3,
  ptab = ptab,
  mult_params = ck_flexparams(
    fp = 1000,
    p = c(0.20, 0.03),
    epsilon = c(1, 0.5, 0.2),
    q = 2),
  use_zero_rkeys = TRUE,
  mu_c = 3)
</code></pre>


</div>