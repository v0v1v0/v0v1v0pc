<div class="container">

<table style="width: 100%;"><tr>
<td>ratioOverlap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate the proportion of a range area that is either 1: contained by geographic categories, or 2: correlated with
a continuous environmental layer.</h2>

<h3>Description</h3>

<p>Calculate the proportion of the species' range (e.g., a thresholded SDM) that is contained by landcover categories
taken from a shapefile. Example shapefile categories include protected areas, threatened areas. ratioOverlap returns a list
of the masked raster layer and the percent of the total range that lies within the shapefile polygons specified. If shp is a raster
representing an environmental layer, the proportion of presence within quantiles of the environmental layer and the correlation
between the layer and the range are returned.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ratioOverlap(
  r,
  shp = NULL,
  rasMask = NULL,
  field = NULL,
  category = NULL,
  subfield = FALSE,
  quant = "quartile"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>r</code></td>
<td>
<p>either categorical raster or shapefile object representing a binary range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shp</code></td>
<td>
<p>either 1) a shapefile of land cover features or 2) a continuous raster. Must be in same projection as r parameter. If shp is a raster, then the number of cells within each quantile are calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rasMask</code></td>
<td>
<p>(optional) a raster layer to calculate the Pearson correlation with the object r. Only if r or shp is a raster layer.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>field</code></td>
<td>
<p>The shapefile field attribute containing the features to compare (i.e., the column name).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>category</code></td>
<td>
<p>a list of the names of shapefile features to compare. If all features are to be used, input "All".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subfield</code></td>
<td>
<p>boolean. If TRUE, the overlap ratio of all unique categories of shp will be calculated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>quant</code></td>
<td>
<p>Either the character string "quartile" for the ratio of each quartile, or a concatenation of values to use instead.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a list of three objects. The first object is a raster object showing the masked range. The second is a character showing the
percentage of range within the category of interest. The third shows the correlation with rasMask if it is supplied.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># create binary raster
r &lt;- raster::raster(nrows=108, ncols=108, xmn=-50, xmx=50)
raster::values(r)&lt;- runif(n = (108*108))
r[r &lt; 0.5] &lt;- NA
r[r &gt; 0.5] &lt;- 1
# create shp
shp &lt;- raster::raster(nrows=108, ncols=108, xmn=-50, xmx=50)
raster::values(shp)&lt;- runif(n = (108*108))
# ratioOverlap
ratioOverlap(r = r, shp = shp)
</code></pre>


</div>