<div class="container">

<table style="width: 100%;"><tr>
<td>crseEvent</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Clustering robust t-statistics for abnormal returns in long-horizon event studies</h2>

<h3>Description</h3>

<p><code>crseEvent</code> implements a robust statistical test developed by Dutta et al. (JempFin, 2018).
</p>
<p>The test is based on abnormal standardized returns and offers three implementations. Standardized returns are defined as <code class="reqn">sr_{it} = \frac{r_{it}}{s_{it}}</code> where <code class="reqn">s_{it}</code> is a standard deviation estimator of log returns <code class="reqn">r_{it}</code>:
</p>
<p><strong>Use of Abnormal standardized returns (ASR)</strong>
</p>
<p>Abnormal standardized returns are defined as <code class="reqn">ASR_{it} = sr_{it} - sr_{ci,t}</code>, where <code class="reqn">sr_{ci,t}</code> is the standardized return of the matching control firm or the average of standardized returns of the matching control portfolio.
</p>
<p><strong>Use of Standardized abnormal returns (SAR)</strong>
</p>
<p>Standardized abnormal returns are defined as <code class="reqn">SAR_{it} = \frac{r_{event} - r_{control}}{sd_{event-control}}</code>. The matching control return should be derived from a single firm observation and not be the return-series of a portfolio.
</p>
<p><strong>Use of Continuously compounded abnormal returns (CCAR)</strong>
</p>
<p>Continuously compounded abnormal returns are defined as <code class="reqn">CCAR_{it} = r_{it} - r_{ci,t}</code>, where <code class="reqn">r_{it} = log(1 + R_{it})</code> is the event month <code class="reqn">t</code> continuously compounded return (i.e., log-return) of event stock <code class="reqn">i</code>, and <code class="reqn">r_{ci,t}</code> is the continuously compounded return of the control firm.
</p>


<h3>Usage</h3>

<pre><code class="language-R">crseEvent(data, abnr = "ars", cluster1 = "yyyymm",
  cluster2 = NULL, na.rm = TRUE, na.replace = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>an object of class <code>"data.frame"</code> (or one that
can be coerced to that class)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>abnr</code></td>
<td>
<p>Name of a column from <code>data</code> which contains abnormal standardized returns (ASR), standardized abnormal returns (SAR) or continuously compounded abnormal returns (CCAR).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster1</code></td>
<td>
<p>Name of a column from <code>data</code> which contains the primarely cluster-variables for the observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster2</code></td>
<td>
<p>Name of a column from <code>data</code> which contains additional cluster-variables for the observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.rm</code></td>
<td>
<p>An object of class <code>"logical"</code>: If <code>na.rm</code> is TRUE, missing observations for the item <code>abnr</code> will be removed from the dataset. Otherwise missing oberservations will be replaced with a value defined in <code>na.replace</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.replace</code></td>
<td>
<p>A numeric scalar: If <code>data</code> contains missing observations for the abnormal return series and <code>na.rm</code> is FALSE, these missing return values will be overritten with the value of <code>na.replace</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>crseEvent</code> returns an object of <code>class</code> <code>crse</code> and <code>list</code>.
</p>
<p>The returning value of <code>"crseEvent"</code> is a <code>"list"</code> containing the
following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>N</code></td>
<td>
<p>Total number of observations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mean.abnormal.ret</code></td>
<td>
<p>Mean abnormal return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.val.nonclustered</code></td>
<td>
<p>Non-clustered (common) t-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.val.nonclustered</code></td>
<td>
<p>Non-clustered (common) p-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.val.one.clustered</code></td>
<td>
<p>One-way clustered t-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>p.val.one.clustered</code></td>
<td>
<p>One-way clustered p-value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tcl2</code></td>
<td>
<p>One-way clustering t-value with respect to second clustering variable (<code>NA</code> if cluster2 is <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcl2</code></td>
<td>
<p>One-way clustering p-value with respect to second clustering variable (<code>NA</code> if cluster2 is <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tcl12</code></td>
<td>
<p>2-way clustering t-value (<code>NA</code> if cluster2 is <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcl12</code></td>
<td>
<p>2-way clustering p-value (<code>NA</code> if cluster2 is <code>NULL</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster1</code></td>
<td>
<p>Name of the first cluster variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cluster2</code></td>
<td>
<p>Name of the second cluster variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reg.fit</code></td>
<td>
<p>Regression results on which t-value compuations are based.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.cl1</code></td>
<td>
<p>Robust variance of abnormal return series with regard to one-way clustering on variable <code>cluster1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.cl2</code></td>
<td>
<p>Robust variance of abnormal return series with regard to one-way clustering on variable <code>cluster2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>var.cl12</code></td>
<td>
<p>Robust variance of abnormal return series with regard to two-way clustering on both variable <code>cluster1</code> and <code>cluster2</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique.cl1</code></td>
<td>
<p>Total number of unique observations by clustering on variable <code>cluster1</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unique.cl2</code></td>
<td>
<p>Total number of unique observations by clustering on variable <code>cluster2</code>.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Dutta, A., Knif, J., Kolari, J.W., Pynnonen, S. (2018):
A robust and powerful test of abnormal stock returns in long-horizon event studies.
<em>Journal of Empirical Finance</em>, <b>47</b>, p. 1-24.
doi: <a href="https://doi.org/10.1016/j.jempfin.2018.02.004">10.1016/j.jempfin.2018.02.004</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## load demo_share_repurchases
## one-way clustering on column "date" and print summary statistics
data(demo_share_repurchases)
crse &lt;- crseEvent(demo_share_repurchases, abnr="ars", cluster1 = "date")
summary(crse)

## print mean of abnormal return series
crse$mean.abnormal.ret
</code></pre>


</div>