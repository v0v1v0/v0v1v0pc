<div class="container">

<table style="width: 100%;"><tr>
<td>Screen.data.frame</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Screen units based on data availability</h2>

<h3>Description</h3>

<p>Screens units (rows) based on a data availability threshold and presence of zeros. Units can be optionally
"forced" to be included or excluded, making exceptions for the data availability threshold.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'data.frame'
Screen(
  x,
  id_col = NULL,
  unit_screen,
  dat_thresh = NULL,
  nonzero_thresh = NULL,
  Force = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id_col</code></td>
<td>
<p>Name of column of the data frame to be used as the identifier, e.g. normally this would be <code>uCode</code>
for indicator data sets used in coins. This must be specified if <code>Force</code> is specified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>unit_screen</code></td>
<td>
<p>Specifies whether and how to screen units based on data availability or zero values.
</p>

<ul>
<li>
<p> If set to <code>"byNA"</code>, screens units with data availability below <code>dat_thresh</code>
</p>
</li>
<li>
<p> If set to <code>"byzeros"</code>, screens units with non-zero values below <code>nonzero_thresh</code>
</p>
</li>
<li>
<p> If set to <code>"byNAandzeros"</code>, screens units based on either of the previous two criteria being true.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat_thresh</code></td>
<td>
<p>A data availability threshold (<code style="white-space: pre;">⁠&gt;= 1⁠</code> and <code style="white-space: pre;">⁠&lt;= 0⁠</code>) used for flagging low data and screening units if <code>unit_screen != "none"</code>. Default 0.66.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nonzero_thresh</code></td>
<td>
<p>As <code>dat_thresh</code> but for non-zero values. Defaults to 0.05, i.e. it will flag any units with less than 5% non-zero values (equivalently more than 95% zero values).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Force</code></td>
<td>
<p>A data frame with any additional units to force inclusion or exclusion. Required columns <code>uCode</code>
(unit code(s)) and <code>Include</code> (logical: <code>TRUE</code> to include and <code>FALSE</code> to exclude). Specifications here override
exclusion/inclusion based on data rules.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to or from other methods.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The two main criteria of interest are <code>NA</code> values, and zeros. The summary table gives percentages of
<code>NA</code> values for each unit, across indicators, and percentage zero values (<em>as a percentage of non-<code>NA</code> values</em>).
Each unit is flagged as having low data or too many zeros based on thresholds.
</p>
<p>See also <code>vignette("screening")</code>.
</p>


<h3>Value</h3>

<p>Missing data stats and screened data as a list.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># example data
iData &lt;- ASEM_iData[40:51, c("uCode", "Research", "Pat", "CultServ", "CultGood")]

# screen to 75% data availability (by row)
l_scr &lt;- Screen(iData, unit_screen = "byNA", dat_thresh = 0.75)

# summary of screening
head(l_scr$DataSummary)

</code></pre>


</div>