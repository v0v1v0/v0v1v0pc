<div class="container">

<table style="width: 100%;"><tr>
<td>cpAlgorithm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Clique Percolation Community Detection</h2>

<h3>Description</h3>

<p>Function for clique percolation community detection algorithms for weighted
and unweighted networks.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cpAlgorithm(W, k, method = c("unweighted", "weighted", "weighted.CFinder"), I)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>A qgraph object or a symmetric matrix; see also qgraph</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>Clique size (number of nodes that should form a clique)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>A string indicating the method to use 
(<code>"unweighted"</code>, <code>"weighted"</code>, or <code>"weighted.CFinder"</code>); see Details</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>I</code></td>
<td>
<p>Intensity threshold for weighted networks</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>method = "unweighted"</code> conducts clique percolation for unweighted networks as
described in Palla et al. (2005). <code>method = "weighted"</code> conducts clique percolation
for weighted graphs with inclusion of cliques if their Intensity is higher than the
specified Intensity (<code>I</code>), which is the method described in Farkas et al. (2007).
<code>method = "weighted.CFinder"</code> conducts clique percolation as in the CFinder program.
The Intensity (<code>I</code>) threshold is applied twice, namely first to the Intensity of the
cliques (as before) and then also to their <code>k-1</code> overlap with other cliques
(e.g., in the case of <code>k = 3</code>, it is applied to the edge that two cliques share).
</p>
<p>For weighted networks, the absolute value of the edge weights is taken.
Therefore, negative edges are treated like positive edges just like in the CFinder program.
Thus, the Intensity threshold <code>I</code> can only be positive.
</p>
<p>cpAlgorithm produces a solution for all networks, even if there are no communities 
or communities have no overlap. The respective output is empty in such cases.
</p>


<h3>Value</h3>

<p>A list object with the following elements:
</p>

<dl>
<dt>list.of.communities.numbers</dt>
<dd>
<p>list of communities with numbers as identifiers 
of nodes</p>
</dd>
<dt>list.of.communities.labels</dt>
<dd>
<p>list of communities with labels from qgraph object 
or row or column names of matrix as identifiers of nodes</p>
</dd>
<dt>shared.nodes.numbers</dt>
<dd>
<p>vector with all nodes that belong to multiple communities 
with numbers as identifiers of nodes</p>
</dd>
<dt>shared.nodes.labels</dt>
<dd>
<p>vector with all nodes that belong to multiple communities 
with labels from qgraph object or row or column names of matrix  as identifiers
of nodes</p>
</dd>
<dt>isolated.nodes.numbers</dt>
<dd>
<p>vector with all nodes that belong to no community 
with numbers as identifiers of nodes</p>
</dd>
<dt>isolated.nodes.labels</dt>
<dd>
<p>vector with all nodes that belong to no community 
with labels from qgraph object or row or column names of matrix as identifiers
of nodes</p>
</dd>
<dt>k</dt>
<dd>
<p>user-specified <code>k</code></p>
</dd>
<dt>method</dt>
<dd>
<p>user-specified method</p>
</dd>
<dt>I</dt>
<dd>
<p>user-specified <code>I</code> (if method was <code>"weighted"</code> 
or <code>"weighted.CFinder"</code>)</p>
</dd>
</dl>
<h3>Author(s)</h3>

<p>Jens Lange, <a href="mailto:lange.jens@outlook.com">lange.jens@outlook.com</a>
</p>


<h3>References</h3>

<p>Farkas, I., Abel, D., Palla, G., &amp; Vicsek, T. (2007). Weighted network modules.
<em>New Journal of Physics, 9</em>, 180-180. http://doi.org/10.1088/1367-2630/9/6/180
</p>
<p>Palla, G., Derenyi, I., Farkas, I., &amp; Vicsek, T. (2005). Uncovering the overlapping community 
structure of complex networks in nature and society. <em>Nature, 435</em>, 
814-818. http://doi.org/10.1038/nature03607
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Example for unweighted networks

# create qgraph object
W &lt;- matrix(c(0,1,1,1,0,0,0,0,
              0,0,1,1,0,0,0,0,
              0,0,0,0,0,0,0,0,
              0,0,0,0,1,1,1,0,
              0,0,0,0,0,1,1,0,
              0,0,0,0,0,0,1,0,
              0,0,0,0,0,0,0,1,
              0,0,0,0,0,0,0,0), nrow = 8, ncol = 8, byrow = TRUE)
W &lt;- Matrix::forceSymmetric(W)
W &lt;- qgraph::qgraph(W)

# run clique percolation for unweighted networks
results &lt;- cpAlgorithm(W = W, k = 3, method = "unweighted")

# print results overview
results

# extract more information about communities
summary(results)

## Example for weighted networks

# create qgraph object
W &lt;- matrix(c(0,1,1,1,0,0,0,0,
              0,0,1,1,0,0,0,0,
              0,0,0,0,0,0,0,0,
              0,0,0,0,1,1,1,0,
              0,0,0,0,0,1,1,0,
              0,0,0,0,0,0,1,0,
              0,0,0,0,0,0,0,1,
              0,0,0,0,0,0,0,0), nrow = 8, ncol = 8, byrow = TRUE)
set.seed(4186)
rand_w &lt;- stats::rnorm(length(which(W == 1)), mean = 0.3, sd = 0.1)
W[which(W == 1)] &lt;- rand_w
W &lt;- Matrix::forceSymmetric(W)
W &lt;- qgraph::qgraph(W)

# run clique percolation for weighted networks
results &lt;- cpAlgorithm(W = W, k = 3, method = "weighted", I = 0.1)

# print results overview
results

# extract more information about communities
summary(results)

## Example with Obama data set (see ?Obama)

# get data
data(Obama)

# estimate network
net &lt;- qgraph::EBICglasso(qgraph::cor_auto(Obama), n = nrow(Obama))

# run clique percolation algorithm with specific k and I
cpk3I.16 &lt;- cpAlgorithm(net, k = 3, I = 0.16, method = "weighted")

# print results overview
cpk3I.16

# extract more information about communities
summary(cpk3I.16)

</code></pre>


</div>