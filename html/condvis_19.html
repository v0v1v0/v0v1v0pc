<div class="container">

<table style="width: 100%;"><tr>
<td>plotxs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Visualise a section in data space</h2>

<h3>Description</h3>

<p>Visualise a section in data space, showing fitted models where
they intersect the section, and nearby observations. The <code>weights</code> for
observations can be calculated with <code>similarityweight</code>. This
function is mainly for use in <code>ceplot</code> and
<code>condtour</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">plotxs(xs, y, xc.cond, model, model.colour = NULL, model.lwd = NULL,
  model.lty = NULL, model.name = NULL, yhat = NULL, mar = NULL,
  col = "black", weights = NULL, view3d = FALSE, theta3d = 45,
  phi3d = 20, xs.grid = NULL, prednew = NULL, conf = FALSE,
  probs = FALSE, pch = 1, residuals = FALSE, main = NULL, xlim = NULL,
  ylim = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>xs</code></td>
<td>
<p>A dataframe with one or two columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>A dataframe with one column.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xc.cond</code></td>
<td>
<p>A dataframe with a single row, with all columns required for
passing to <code>predict</code> methods of models in <code>model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>A fitted model object, or a list of such objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.colour</code></td>
<td>
<p>Colours for fitted models. If <code>model</code> is a list,
this should be of same length as <code>model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.lwd</code></td>
<td>
<p>Line weight for fitted models. If <code>model</code> is a list,
this should be of same length as <code>model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.lty</code></td>
<td>
<p>Line style for fitted models. If <code>model</code> is a list,
this should be of same length as <code>model</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model.name</code></td>
<td>
<p>Character labels for models, for legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhat</code></td>
<td>
<p>Fitted values for the observations in <code>y</code>. Calculated if
needed and not provided. Only used if showing residuals, or <code>xs</code> has
two columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar</code></td>
<td>
<p>Margins for plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Colours for observed data. Should be of length <code>nrow(xs)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Similarity weights for observed data. Should be of length
<code>nrow(xs)</code>. Usually calculated with <code>similarityweight</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>view3d</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots a three-dimensional
regression surface if possible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta3d, phi3d</code></td>
<td>
<p>Angles defining the viewing direction. <code>theta3d</code>
gives the azimuthal direction and <code>phi3d</code> the colatitude. See
<code>persp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xs.grid</code></td>
<td>
<p>The grid of values defining the part of the section to
visualise. Calculated if not provided.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prednew</code></td>
<td>
<p>The <code>y</code> values where the models in <code>model</code> intersect
the section. Useful when providing <code>theta3d</code>, <code>phi3d</code>, or
<code>weights</code>, where the predict methods have been called elsewhere.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conf</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots confidence bounds (or equivalent)
for models which provide this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Logical; if <code>TRUE</code>, shows predicted class probabilities
instead of just predicted classes. Only available if <code>xs</code> contains two
numeric predictors and the model's predict method provides this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>Plot symbols for observed data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>residuals</code></td>
<td>
<p>Logical; if <code>TRUE</code>, plots a residual versus predictor
plot instead of the usual scale of raw response.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>Character title for plot, default is
<code>"Conditional expectation"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>Graphical parameter passed to plotting functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>Graphical parameter passed to plotting functions.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing relevant information for updating the plot.
</p>


<h3>References</h3>

<p>O'Connell M, Hurley CB and Domijan K (2017). “Conditional
Visualization for Statistical Models: An Introduction to the
<strong>condvis</strong> Package in R.”<em>Journal of Statistical Software</em>,
<strong>81</strong>(5), pp. 1-20. &lt;URL:http://dx.doi.org/10.18637/jss.v081.i05&gt;.
</p>


<h3>See Also</h3>

<p><code>plotxc</code>, <code>ceplot</code>, <code>condtour</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(mtcars)
model &lt;- lm(mpg ~ ., data = mtcars)
plotxs(xs = mtcars[, "wt", drop = FALSE], y = mtcars[, "mpg", drop = FALSE],
  xc.cond = mtcars[1, ], model = list(model))

</code></pre>


</div>