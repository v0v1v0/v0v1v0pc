<div class="container">

<table style="width: 100%;"><tr>
<td>simdat</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Simulated data under Weibull model with Time-Dependent Treatment Effect</h2>

<h3>Description</h3>

<p>This simulated data is and description is taken verbatim from the
<code>simsurv</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">simdat
</code></pre>


<h3>Format</h3>

<p>A dataframe with 1000 observations and 4 variables: </p>

<dl>
<dt>id</dt>
<dd>
<p>patient id</p>
</dd> <dt>eventtime</dt>
<dd>
<p>time of event</p>
</dd> <dt>status</dt>
<dd>
<p>event
indicator (1 = event, 0 = censored)</p>
</dd> <dt>trt</dt>
<dd>
<p>binary treatment
indicator</p>
</dd>
</dl>
<h3>Details</h3>

<p>Simulated data under a standard Weibull survival model that incorporates a
time-dependent treatment effect (i.e. non-proportional hazards). For the
time-dependent effect we included a single binary covariate (e.g. a treatment
indicator) with a protective effect (i.e. a negative log hazard ratio), but
we will allow the effect of the covariate to diminish over time. The data
generating model will be </p>
<p style="text-align: center;"><code class="reqn">h_i(t) = \gamma \lambda (t ^{\gamma - 1})
exp(\beta_0 X_i + \beta_1 X_i x log(t))</code>
</p>
<p> where where Xi is the binary
treatment indicator for individual i, <code class="reqn">\lambda</code> and <code class="reqn">\gamma</code> are the
scale and shape parameters for the Weibull baseline hazard, <code class="reqn">\beta_0</code> is
the log hazard ratio for treatment when t=1 (i.e. when log(t)=0), and
<code class="reqn">\beta_1</code> quantifies the amount by which the log hazard ratio for
treatment changes for each one unit increase in log(t). Here we are assuming
the time-dependent effect is induced by interacting the log hazard ratio with
log time. The true parameters are 1. <code class="reqn">\beta_0</code> = -0.5 2. <code class="reqn">\beta_1</code> =
0.15 3. <code class="reqn">\lambda</code> = 0.1 4. <code class="reqn">\gamma</code> = 1.5
</p>


<h3>Source</h3>

<p>See <code>simsurv</code> vignette:
<a href="https://cran.r-project.org/package=simsurv/vignettes/simsurv_usage.html">https://cran.r-project.org/package=simsurv/vignettes/simsurv_usage.html</a>
</p>


<h3>References</h3>

<p>Sam Brilleman (2019). simsurv: Simulate Survival Data. R package
version 0.2.3. https://CRAN.R-project.org/package=simsurv
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (requireNamespace("splines", quietly = TRUE)) {
library(splines)
data("simdat")
mod_cb &lt;- casebase::fitSmoothHazard(status ~ trt + ns(log(eventtime),
                                                      df = 3) +
                                   trt:ns(log(eventtime),df=1),
                                   time = "eventtime",
                                   data = simdat,
                                   ratio = 1)
}
</code></pre>


</div>