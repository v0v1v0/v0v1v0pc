<div class="container">

<table style="width: 100%;"><tr>
<td>add_pi.lm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Prediction Intervals for Linear Model Predictions</h2>

<h3>Description</h3>

<p>This function is one of the methods for <code>add_pi</code> and is
automatically called when an object of class <code>lm</code> is passed to
to <code>add_pi</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'lm'
add_pi(
  df,
  fit,
  alpha = 0.05,
  names = NULL,
  yhatName = "pred",
  log_response = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame of new data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>An object of class lm. Predictions are made with this
object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A real number between 0 and 1. Controls the confidence
level of the interval estimates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p><code>NULL</code> or character vector of length two. If
<code>NULL</code>, prediction bounds automatically will be named by
<code>add_pi</code>, otherwise, the lower prediction bound will be
named <code>names[1]</code> and the upper prediction bound will be
named <code>names[2]</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>yhatName</code></td>
<td>
<p>A string. Name of the predictions vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>log_response</code></td>
<td>
<p>A logical. If TRUE, prediction intervals will be
generated at the <em>response level</em> of a log-linear model:
<code class="reqn">\log(Y) = X\beta + \epsilon</code>. Again, these intervals will
be on the scale of the original response, Y.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Prediction intervals for <code>lm</code> objects are calculated
parametrically. This function is essentially just a wrapper for
<code>predict(fit, df, interval = "prediction")</code> if <code>fit</code> is a
linear model. If <code>log_response = TRUE</code>, prediction intervals
for the response are calculated parametrically, then the
exponential function is applied to transform them to the original
scale.
</p>


<h3>Value</h3>

<p>A dataframe, <code>df</code>, with predicted values, upper and lower
prediction bounds attached.
</p>


<h3>See Also</h3>

<p><code>add_ci.lm</code> for confidence intervals for
<code>lm</code> objects. <code>add_probs.lm</code> for conditional
probabilities of <code>lm</code> objects, and
<code>add_quantile.lm</code> for response quantiles of
<code>lm</code> objects.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Fit a linear model
fit &lt;- lm(dist ~ speed, data = cars)
# Add prediction intervals and fitted values to the original data
add_pi(cars, fit)

# Try to add predictions to a data frame of new data
new_data &lt;- cars[sample(NROW(cars), 10), ]
add_pi(new_data, fit)

# Try a different confidence level
add_pi(cars, fit, alpha = 0.5)

# Add custom names to the prediction bounds.
add_pi(cars, fit, alpha = 0.5, names = c("lwr", "upr"))
</code></pre>


</div>