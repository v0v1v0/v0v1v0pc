<div class="container">

<table style="width: 100%;"><tr>
<td>cmaes</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Covariance-Matrix-Adaptation</h2>

<h3>Description</h3>

<p>Performs non-linear, non-convex optimization by means of the Covariance
Matrix Adaptation - Evolution Strategy (CMA-ES).
</p>


<h3>Usage</h3>

<pre><code class="language-R">cmaes(objective.fun, start.point = NULL, monitor = makeSimpleMonitor(),
  control = list(stop.ons = c(getDefaultStoppingConditions())))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>objective.fun</code></td>
<td>
<p>[<code>smoof_function</code>]<br>
Continuous objective function of type <code>smoof_function</code>. The function
must expect a vector of numerical values and return a scaler numerical value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>start.point</code></td>
<td>
<p>[<code>numeric</code>]<br>
Initial solution vector. If <code>NULL</code>, one is generated randomly within the
box constraints offered by the paramter set of the objective function.
Default is <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>monitor</code></td>
<td>
<p>[<code>cma_monitor</code>]<br>
Monitoring object.
Default is <code>makeSimpleMonitor</code>, which produces a console output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>[<code>list</code>]<br>
Futher paramters for the CMA-ES. See the details section for more in-depth
information. Stopping conditions are also defined here.
By default only some stopping conditions are passed. See <code>getDefaultStoppingConditions</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a pure R implementation of the popular CMA-ES optimizer for continuous
black box optimization [2, 3]. It features a flexible system of stopping conditions
and enables restarts [1], which can be triggered by arbitrary stopping conditions
and can lead to superior performance on multimodal problems.
</p>
<p>You may pass additional parameters to the CMA-ES via the <code>control</code> argument.
This argument must be a named list. The following control elements will be considered
by the CMA-ES implementation:
</p>

<dl>
<dt>lambda [<code>integer(1)</code>]</dt>
<dd>
<p>Number of offspring generated in each generation.</p>
</dd>
<dt>mu [<code>integer(1)</code>]</dt>
<dd>
<p>Number of individuals in each population. Defaults to <code class="reqn">\lfloor \lambda / 2\rfloor</code>.</p>
</dd>
<dt>weights [<code>numeric</code>]</dt>
<dd>
<p>Numeric vector of positive weights.</p>
</dd>
<dt>sigma [<code>numeric(1)</code>]</dt>
<dd>
<p>Initial step-size. Default is 0.5.</p>
</dd>
<dt>restart.triggers [<code>character</code>]</dt>
<dd>
<p>List of stopping condition codes / short names (see
<code>makeStoppingCondition</code>). All stopping conditions which are placed in this vector do trigger a restart
instead of leaving the main loop. Default is the empty character vector, i.e., restart is not triggered.</p>
</dd>
<dt>max.restarts [<code>integer(1)</code>]</dt>
<dd>
<p>Maximal number of restarts. Default is 0. If set
to &gt;= 1, the CMA-ES is restarted with a higher population size if at least one of the
stoppping conditions is defined as a restart trigger <code>restart.triggers</code>.</p>
</dd>
<dt>restart.multiplier [<code>numeric(1)</code>]</dt>
<dd>
<p>Factor which is used to increase the population size after restart.
Default is 2.</p>
</dd>
<dt>stop.ons [<code>list</code>]</dt>
<dd>
<p>List of stopping conditions. The default is to stop after 10 iterations or after a
kind of a stagnation (see <code>getDefaultStoppingConditions</code>).</p>
</dd>
<dt>log.population [<code>logical(1L)</code>]</dt>
<dd>
<p>Should each population be stored? Default is <code>FALSE</code>.</p>
</dd>
</dl>
<h3>Value</h3>

<p>[<code>cma_result</code>] Result object. Internally a list with the following
components:
</p>

<dl>
<dt>par.set [<code>ParamSet</code>]</dt>
<dd>
<p>Parameter set of the objective function.</p>
</dd>
<dt>best.param [<code>numeric</code>]</dt>
<dd>
<p>Final best parameter setting.</p>
</dd>
<dt>best.fitness [<code>numeric(1L)</code>]</dt>
<dd>
<p>Fitness value of the <code>best.param</code></p>
</dd>
</dl>
<p>.
</p>
<dl>
<dt>n.evals [<code>integer(1L)</code>]</dt>
<dd>
<p>Number of function evaluations performed.</p>
</dd>
<dt>past.time [<code>integer(1L)</code>]</dt>
<dd>
<p>Running time of the optimization in seconds.</p>
</dd>
<dt>n.restarts [<code>integer(1L)</code>]</dt>
<dd>
<p>Number of restarts.</p>
</dd>
<dt>population.trace [<code>list</code>]</dt>
<dd>
<p>Trace of population.</p>
</dd>
<dt>message [<code>character(1L)</code>]</dt>
<dd>
<p>Message generated by stopping condition.</p>
</dd>
</dl>
<h3>Note</h3>

<p>Internally a check for an indefinite covariance matrix is always performed, i.e.,
this stopping condition is always prepended internally to the list of stopping conditions.
</p>


<h3>References</h3>

<p>[1] Auger and Hansen (2005). A Restart CMA Evolution Strategy With Increasing
Population Size. In IEEE Congress on Evolutionary Computation, CEC 2005, Proceedings,
pp. 1769-1776.
[2] N. Hansen (2006). The CMA Evolution Strategy: A Comparing Review. In J.A. Lozano,
P. Larranaga, I. Inza and E. Bengoetxea (Eds.). Towards a new evolutionary computation.
Advances in estimation of distribution algorithms. Springer, pp. 75-102.
[3] Hansen and Ostermeier (1996). Adapting arbitrary normal mutation distributions in evolution
strategies: The covariance matrix adaptation. In Proceedings of the 1996 IEEE
International Conference on Evolutionary Computation, pp. 312-317.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># generate objective function from smoof package
fn = makeRosenbrockFunction(dimensions = 2L)
res = cmaes(
  fn,
  monitor = NULL,
  control = list(
    sigma = 1.5,
    lambda = 40,
    stop.ons = c(list(stopOnMaxIters(100L)), getDefaultStoppingConditions())
  )
)
print(res)

</code></pre>


</div>