<div class="container">

<table style="width: 100%;"><tr>
<td>ca_library</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Library of stochastic cellular automata</h2>

<h3>Description</h3>

<p>Get one of the SCA models included in <code>chouca</code>
</p>


<h3>Usage</h3>

<pre><code class="language-R">ca_library(model, parms = NULL, neighbors = NULL, wrap = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>model</code></td>
<td>
<p>The model to return, as a string. See Details for the full list of models
included with <code>chouca</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parms</code></td>
<td>
<p>The model parameters to use, as a named list. If unset, the model default
parameters will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neighbors</code></td>
<td>
<p>The number of neighbors to use in the cellular automaton (4 for 4-way
or von-Neumann neghborhood, or 8 for a Moore neighborhood). If unset, the model
default neighborhood will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>wrap</code></td>
<td>
<p>Whether the 2D grid should wrap around at the edges. Default it to wrap
around the edges of the landscape.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function gives access to different stochastic cellular automata models. You
can provide a named list of parameters, or set the number of neighbor or wrapping
options, but default are chosen if left unspecified. This function provides
the following models (the string represents the name of the model, as passed
using the 'model' argument):
</p>

<ol>
<li> <p><code>"forestgap"</code> Kubo's forest gap model (1996), which describes how
gaps form in a forest and expand through disturbances.
</p>
</li>
<li> <p><code>"musselbed"</code> A model of mussel beds, in which disturbance by waves
occurs at the edge of mussel patches (Guichard et al. 2003)
</p>
</li>
<li> <p><code>"aridvege"</code> A model of arid vegetation, in which facilitation between
neighboring plants occur, along with grazing. The original model is to be
found in Kéfi et al. (2007), with extensions in Schneider et al. (2016)
</p>
</li>
<li> <p><code>"aridvege-danet"</code> An extension of the previous model to two species
with assymetric facilitation (Danet et al. 2021)
</p>
</li>
<li> <p><code>"coralreef"</code> A model of coral reef with local feedbacks of corals and
macroalgae (Génin, in prep)
</p>
</li>
<li> <p><code>"gameoflife"</code> The famous Game of Life by Conway, a deterministic
model.
</p>
</li>
<li> <p><code>"rockpaperscissor"</code> A rock-paper-scissor model with three states, in
which a cell changes state depending on its neighbors according the game rules
(e.g. "rock beats scissors"). This deterministic model produces nice spirals.
</p>
</li>
</ol>
<h3>Value</h3>

<p>This function returns a <code>list</code> object with class <code>ca_model</code>, with 
the following named components. Please note that most are for internal use and may 
change with package updates. 
</p>

<dl>
<dt><code>transitions</code></dt>
<dd>
<p>the list of transitions of the model, as returned 
by <code>transition</code> </p>
</dd>
<dt><code>nstates</code></dt>
<dd>
<p>the number of states of the model</p>
</dd>
<dt><code>parms</code></dt>
<dd>
<p>the parameter values used for the model</p>
</dd>
<dt>
<code>beta_0</code>,<code>beta_q</code>, <code>beta_pp</code>, <code>beta_pq</code>, <code>beta_qq</code>
</dt>
<dd> 
<p>internal tables used to represent probabilities of transitions when running
simulations, these tables are for internal use and probably not interesting for 
end users, but more information is provided in the package source code</p>
</dd>
<dt><code>wrap</code></dt>
<dd>
<p>Whether the model uses a toric space that wraps around the edge</p>
</dd>
<dt><code>neighbors</code></dt>
<dd>
<p>The type of neighborhood (4 or 8)</p>
</dd>
<dt><code>epsilon</code></dt>
<dd>
<p>The <code>epsilon</code> values used in the model definition, below 
which transition probabilities are assumed to be zero</p>
</dd>
<dt><code>xpoints</code></dt>
<dd>
<p>(for internal use only) The number of values used to 
represent the proportion of neighbors of a cell in each state</p>
</dd>
<dt>
<code>max_error</code>, <code>max_rel_error</code>
</dt>
<dd>
<p>vector of numeric values containing 
the maximum error and maximum relative error on each transition probability</p>
</dd>
<dt><code>fixed_neighborhood</code></dt>
<dd>
<p>flag equal to <code>TRUE</code> when cells have
a fixed number of neighbors</p>
</dd>
</dl>
<h3>References</h3>

<p>Danet, Alain, Florian Dirk Schneider, Fabien Anthelme, and Sonia Kéfi. 2021.
"Indirect Facilitation Drives Species Composition and Stability in Drylands."
Theoretical Ecology 14 (2): 189–203. <a href="https://doi.org/10.1007/s12080-020-00489-0">doi:10.1007/s12080-020-00489-0</a>.
</p>
<p>Genin, A., S. A. Navarrete, A. Garcia-Mayor, and E. A. Wieters. in
press (2023). Emergent spatial patterns can indicate upcoming regime
shifts in a realistic model of coral community. The American Naturalist.
</p>
<p>Guichard, F., Halpin, P.M., Allison, G.W., Lubchenco, J. &amp; Menge, B.A. (2003). Mussel
disturbance dynamics: signatures of oceanographic forcing from local interactions.
The American Naturalist, 161, 889–904. <a href="https://doi.org/10.1086/375300">doi:10.1086/375300</a>
</p>
<p>Kefi, Sonia, Max Rietkerk, Concepción L. Alados, Yolanda Pueyo, Vasilios P.
Papanastasis, Ahmed ElAich, and Peter C. de Ruiter. 2007. "Spatial Vegetation
Patterns and Imminent Desertification in Mediterranean Arid Ecosystems."
Nature 449 (7159): 213–17. <a href="https://doi.org/10.1038/nature06111">doi:10.1038/nature06111</a>.
</p>
<p>Kubo, Takuya, Yoh Iwasa, and Naoki Furumoto. 1996. "Forest Spatial Dynamics with Gap
Expansion: Total Gap Area and Gap Size Distribution." Journal of Theoretical Biology
180 (3): 229–46.
</p>
<p>Schneider, Florian D., and Sonia Kefi. 2016. "Spatially Heterogeneous Pressure Raises
Risk of Catastrophic Shifts." Theoretical Ecology 9 (2): 207-17.
<a href="https://doi.org/10.1007/s12080-015-0289-1">doi:10.1007/s12080-015-0289-1</a>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Import a model, create an initial landscape and run it for ten iterations
forestgap_model &lt;- ca_library("forestgap")
im &lt;- generate_initmat(forestgap_model, c(0.5, 0.5), nrow = 64, ncol = 100)
run_camodel(forestgap_model, im, times = seq(0,100))

</code></pre>


</div>