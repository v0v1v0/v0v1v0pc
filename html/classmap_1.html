<div class="container">

<table style="width: 100%;"><tr>
<td>classmap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Draw the class map to visualize classification results.
</h2>

<h3>Description</h3>

<p>Draw the class map to visualize classification results, based on the output of one of the
<code>vcr.*.*</code> functions in this package. The vertical axis of the class map shows each case's <code>PAC</code>, the conditional probability that it belongs to an alternative class. The <code>farness</code> on the horizontal axis is the probability of a member of the given class being at most as far from the class as the case itself.
</p>


<h3>Usage</h3>

<pre><code class="language-R">classmap(vcrout, whichclass, classLabels = NULL, classCols = NULL,
         main = NULL, cutoff = 0.99, plotcutoff = TRUE,
         identify = FALSE, cex = 1, cex.main = 1.2, cex.lab = NULL,
         cex.axis = NULL, opacity = 1,
         squareplot = TRUE,  maxprob = NULL, maxfactor = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vcrout</code></td>
<td>
<p>output of <code>vcr.*.train</code> or <code>vcr.*.newdata</code>. Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>whichclass</code></td>
<td>
<p>the number or level of the class to be displayed. Required.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classLabels</code></td>
<td>
<p>the labels (levels) of the classes. If <code>NULL</code>, they are taken from <code>vcrout</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classCols</code></td>
<td>
<p>a list of colors for the class labels. There should be at least as many as there are levels. If <code>NULL</code> the <code>classCols</code> are taken as 2, 3, 4, ...</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>main</code></td>
<td>
<p>title for the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>cases with overall farness <code>vcrout$ofarness</code> &gt; <code>cutoff</code> are flagged as outliers.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotcutoff</code></td>
<td>
<p>If true, plots the cutoff on the farness values as a vertical line.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>identify</code></td>
<td>
<p>if <code>TRUE</code>, left-click on a point to get its number, then ESC to exit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>passed on to <code>graphics::plot</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.main</code></td>
<td>
<p>same, for title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.lab</code></td>
<td>
<p>same, for labels on horizontal and vertical axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex.axis</code></td>
<td>
<p>same, for axes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>opacity</code></td>
<td>
<p>determines opacity of plotted dots. Value between 0 and 1, where 0 is transparent and 1 is opaque.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>squareplot</code></td>
<td>
<p>If <code>TRUE</code>, makes the axes of the plot equally long.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxprob</code></td>
<td>
<p>draws the farness axis at least upto probability maxprob. If <code>NULL</code>, the limits are obtained automatically.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxfactor</code></td>
<td>
<p>if not <code>NULL</code>, a number slightly higher than 1 to increase the space at the right hand side of the plot, to make room for marking points.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Executing the function plots the class map and returns
</p>
<table><tr style="vertical-align: top;">
<td><code>coordinates</code></td>
<td>
<p> a matrix with 2 columns containing the coordinates of the plotted points. The first coordinate is the quantile of the farness probability. This makes it easier to add text next to interesting points. If <code>identify = T</code>, the attribute <code>ids</code> of <code>coordinates</code> contains the row numbers of the identified points in the matrix <code>coordinates</code>.</p>
</td>
</tr></table>
<h3>Author(s)</h3>

<p>Raymaekers J., Rousseeuw P.J.
</p>


<h3>References</h3>

<p>Raymaekers J., Rousseeuw P.J., Hubert M. (2021). Class maps for visualizing classification results. <em>Technometrics</em>, appeared online. doi: <a href="https://doi.org/10.1080/00401706.2021.1927849">10.1080/00401706.2021.1927849</a>(link to open access pdf)
</p>
<p>Raymaekers J., Rousseeuw P.J.(2021). Silhouettes and quasi residual plots for neural nets and tree-based classifiers. <a href="https://arxiv.org/abs/2106.08814">(link to open access pdf)</a>
</p>


<h3>See Also</h3>

<p><code>vcr.da.train</code>, <code>vcr.da.newdata</code>,<br><code>vcr.knn.train</code>, <code>vcr.knn.newdata</code>,<br><code>vcr.svm.train</code>, <code>vcr.svm.newdata</code>,<br><code>vcr.rpart.train</code>, <code>vcr.rpart.newdata</code>,<br><code>vcr.forest.train</code>, <code>vcr.forest.newdata</code>,<br><code>vcr.neural.train</code>, <code>vcr.neural.newdata</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">vcrout &lt;- vcr.da.train(iris[, 1:4], iris[, 5])
classmap(vcrout, "setosa", classCols = 2:4) # tight class
classmap(vcrout, "versicolor", classCols = 2:4) # less tight
# The cases misclassified as virginica are shown in blue.
classmap(vcrout, "virginica", classCols = 2:4)
# The case misclassified as versicolor is shown in green.

# For more examples, we refer to the vignettes:
## Not run: 
vignette("Discriminant_analysis_examples")
vignette("K_nearest_neighbors_examples")
vignette("Support_vector_machine_examples")
vignette("Rpart_examples")
vignette("Random_forest_examples")
vignette("Neural_net_examples")

## End(Not run)
</code></pre>


</div>