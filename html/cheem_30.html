<div class="container">

<table style="width: 100%;"><tr>
<td>proto_basis1d_distribution</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Adds the distribution of the row local attributions to a ggtour</h2>

<h3>Description</h3>

<p>A <code>spinifex</code> proto_*-like function, that adds the distribution of
orthonormalized row values of the specified local explanation <code>attr_df</code>.
Does not draw the basis bars; use in conjunction with <code>proto_basis1d()</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">proto_basis1d_distribution(
  attr_df,
  primary_obs = NULL,
  comparison_obs = NULL,
  position = c("top1d", "floor1d", "bottom1d", "off"),
  group_by = as.factor(FALSE),
  pcp_shape = c(3, 142, 124),
  do_add_pcp_segments = TRUE,
  inc_var_nms = NULL,
  row_index = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>attr_df</code></td>
<td>
<p>An data frame, the attributions of a local explanation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>primary_obs</code></td>
<td>
<p>The rownumber of the primary observation. Its local
attribution becomes the 1d projection basis, and the point it highlighted
as a dashed line. Defaults to NULL, no highlighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>comparison_obs</code></td>
<td>
<p>The rownumber of the comparison observation. Point
is highlighted as a dotted line. Defaults to NULL, no highlighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>position</code></td>
<td>
<p>The position for the basis, one of: c("top1d", "floor1d",
"bottom1d", "off").
Defaults to "top1d"; basis above the density curves.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group_by</code></td>
<td>
<p>Vector to group densities by. Originally <em>predicted</em> class.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcp_shape</code></td>
<td>
<p>The number of the shape character to add. Expects
3, 142, or 124, '+', '|' in <code>plotly</code>, and '|' in <code>gganimate</code>, respectively.
Defaults to 3, '+' in either output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>do_add_pcp_segments</code></td>
<td>
<p>Logical, whether or not to add to add faint
parallel coordinate lines on the 1D basis. Defaults to TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inc_var_nms</code></td>
<td>
<p>A character vector, the names of the variables to keep.
Defaults to NULL, all variables kept.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>row_index</code></td>
<td>
<p>A numeric or logical vector, the index of the rows to keep.
Defaults to NULL, all rows kept.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>ggplot</code> object of the the distribution of the local explanation's
attributions.
</p>


<h3>See Also</h3>

<p><code>radial_cheem_tour()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cheem)
library(spinifex)

## Regression setup
dat  &lt;- amesHousing2018_NorthAmes
X    &lt;- dat[, 1:9]
Y    &lt;- dat$SalePrice
clas &lt;- dat$SubclassMS

## Basis, manipulation var, manual tour path, &amp; predictions to fix to y-axis
bas     &lt;- sug_basis(ames_rf_shap, 1)
mv      &lt;- sug_manip_var(ames_rf_shap, 1, 2)
mt_path &lt;- manual_tour(bas, mv)
## Also consumed by: ?radial_cheem_tour()

## Compose and animate the tour
ggt &lt;- ggtour(mt_path, scale_sd(X), angle = .3) +
  append_fixed_y(fixed_y = scale_sd(Y)) +
  proto_point(list(color = clas, shape = clas)) +
  proto_basis1d_distribution(
    attr_df = ames_rf_shap,
    primary_obs = 1, comparison_obs = 2,
    position = "top1d", group_by = clas) +
  proto_basis1d(position = "bottom1d") +
  proto_origin()

if(interactive()){
  animate_plotly(ggt)
}
</code></pre>


</div>