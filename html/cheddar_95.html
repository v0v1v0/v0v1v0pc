<div class="container">

<table style="width: 100%;"><tr>
<td>Intervality</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Food web Intervality</h2>

<h3>Description</h3>

<p>Functions for computing the sum diet/consumer gaps of each 
species in a <code>Community</code> and for minimising the sum diet/consumer gaps 
using a simulated annealing learning method.</p>


<h3>Usage</h3>

<pre><code class="language-R">SumDietGaps(community)
SumConsumerGaps(community)

MinimiseSumDietGaps(community, T.start = 10, T.stop = 0.1, c = 0.9, 
                    swaps.per.T = 1000, trace.anneal = FALSE, n = 1, 
                    best = TRUE)
MinimiseSumConsumerGaps(community, T.start = 10, T.stop = 0.1, c = 0.9, 
                        swaps.per.T = 1000, trace.anneal = FALSE, n = 1, 
                    best = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.start</code></td>
<td>
<p>the temperature at which annealing starts; must be &gt;0</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T.stop</code></td>
<td>
<p>annealing will stop when the system temperature drops below 
<code>T.stop</code>; must be &gt;0 and &lt;<code>T&gt;start</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c</code></td>
<td>
<p>cooling coefficient; must be &gt;0 and &lt;1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>swaps.per.T</code></td>
<td>
<p>the number of predation matrix row swaps per temperature.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace.anneal</code></td>
<td>
<p>logical - if <code>TRUE</code> the annealing process prints 
feedback.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>numeric - the number of repetitions of the minimisation procedure.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>best</code></td>
<td>
<p>logical - if <code>TRUE</code> then only the result of the best of the 
<code>n</code> minimsations is returned.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>SumDietGaps</code> and <code>SumConsumerGaps</code> return the total number 
of gaps in each species' diet (Stouffer et al 2006) and each species' consumers 
(Zook et al 2011) respectively.
</p>
<p><code>MinimiseSumDietGaps</code> and <code>MinimiseSumConsumerGaps</code> use the 
simulated annealing learning method described by Stouffer et al (2006) to 
minimise either <code>SumDietGaps</code> or <code>SumConsumerGaps</code>. Simulated 
annealing learning is a stochastic method so several optimisations might be 
required to find the global minimum. Use a value of <code>n</code> greater than 1 to 
perform several optimisations.</p>


<h3>Value</h3>

<p>For <code>SumDietGaps</code> and <code>SumConsumerGaps</code>, a single number. 
For the two minimisation functions, if <code>n</code> is 1 or <code>best</code> is 
<code>TRUE</code>, a <code>list</code> containing the values
</p>
<table>
<tr style="vertical-align: top;">
<td><code>sum.gaps</code></td>
<td>
<p>the lowest <code>SumDietGaps</code> or <code>SumConsumerGaps</code> 
resulting from the best ordering that was found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>order</code></td>
<td>
<p>a vector of node names giving the best ordering.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reordered</code></td>
<td>
<p><code>community</code> reordered by the best ordering.</p>
</td>
</tr>
</table>
<p>If <code>n</code> is greater than 1 and <code>best</code> is <code>FALSE</code> then a list of 
<code>n</code> lists, each list containing the above three values, sorted by 
increasing <code>sum.gaps</code>.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Stouffer, D.B. and Camacho, J. and Amaral, L.A.N. (2006) 
Proceedings of the National Academy of Sciences of the United States of 
America <b>103</b>, 50, 19015–19020.
</p>
<p>Zook, A.E. and Eklof, A. and Jacob, U. and Allesina, S. (2011) 
Journal of Theoretical Biology <b>271</b>, 1 106–113.
</p>


<h3>See Also</h3>

<p><code>Community</code>, <code>OrderCommunity</code>, 
<code>PredationMatrix</code>, <code>PlotPredationMatrix</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(TL84)
# Perform 5 independent optimisations
res &lt;- MinimiseSumDietGaps(TL84, n=5)

# Compare the original, ordered by body mass and minimised predation matrices
par(mfrow=c(1,3))
PlotPredationMatrix(TL84, main=paste('Sum diet gap', SumDietGaps(TL84)))
TL84.by.M &lt;- OrderCommunity(TL84, 'M')
PlotPredationMatrix(TL84.by.M, 
                    main=paste('Sum diet gap', SumDietGaps(TL84.by.M)))
PlotPredationMatrix(res$reordered, main=paste('Sum diet gap', res$sum.gaps))

# The same comparison but retaining the original column ordering
par(mfrow=c(1,3))
PlotPredationMatrix(TL84)
PlotPredationMatrix(TL84, resource.order=NP(TL84.by.M, 'node'))
PlotPredationMatrix(TL84, resource.order=res$order)
</code></pre>


</div>