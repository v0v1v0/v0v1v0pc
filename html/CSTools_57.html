<div class="container">

<table style="width: 100%;"><tr>
<td>PlotTriangles4Categories</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to convert any 3-d numerical array to a grid of coloured triangles.</h2>

<h3>Description</h3>

<p>This function converts a 3-d numerical data array into a coloured 
grid with triangles. It is useful for a slide or article to present tabular 
results as colors instead of numbers. This can be used to compare the outputs 
of two or four categories (e.g. modes  of variability, clusters, or forecast 
systems).
</p>


<h3>Usage</h3>

<pre><code class="language-R">PlotTriangles4Categories(
  data,
  brks = NULL,
  cols = NULL,
  toptitle = NULL,
  sig_data = NULL,
  pch_sig = 18,
  col_sig = "black",
  cex_sig = 1,
  xlab = TRUE,
  ylab = TRUE,
  xlabels = NULL,
  xtitle = NULL,
  ylabels = NULL,
  ytitle = NULL,
  legend = TRUE,
  lab_legend = NULL,
  cex_leg = 1,
  col_leg = "black",
  cex_axis = 1.5,
  mar = c(5, 4, 0, 0),
  fileout = NULL,
  size_units = "px",
  res = 100,
  figure.width = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Array with three named dimensions: 'dimx', 'dimy', 'dimcat', 
containing the values to be displayed in a coloured image with triangles.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>brks</code></td>
<td>
<p>A vector of the color bar intervals. The length must be one more 
than the parameter 'cols'. Use ColorBar() to generate default values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>A vector of valid colour identifiers for color bar. The length
must be one less than the parameter 'brks'. Use ColorBar() to generate 
default values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>toptitle</code></td>
<td>
<p>A string of the title of the grid. Set NULL as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sig_data</code></td>
<td>
<p>Logical array with the same dimensions as 'data' to add layers 
to the plot. A value of TRUE at a grid cell will draw a dot/symbol on the 
corresponding triangle of the plot. Set NULL as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch_sig</code></td>
<td>
<p>Symbol to be used to represent sig_data. Takes 18 
(diamond) by default. See 'pch' in par() for additional accepted options.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_sig</code></td>
<td>
<p>Colour of the symbol to represent sig_data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_sig</code></td>
<td>
<p>Parameter to increase/reduce the size of the symbols used 
to represent sig_data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>A logical value (TRUE) indicating if xlabels should be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>A logical value (TRUE) indicating if ylabels should be plotted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlabels</code></td>
<td>
<p>A vector of labels of the x-axis The length must be 
length of the col of parameter 'data'. Set the sequence from 1 to the 
length of the row of parameter 'data' as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xtitle</code></td>
<td>
<p>A string of title of the x-axis. Set NULL as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylabels</code></td>
<td>
<p>A vector of labels of the y-axis The length must be 
length of the row of parameter 'data'. Set the sequence from 1 to the 
length of the row of parameter 'data' as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ytitle</code></td>
<td>
<p>A string of title of the y-axis. Set NULL as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend</code></td>
<td>
<p>A logical value to decide to draw the color bar legend or not. 
Set TRUE as default.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lab_legend</code></td>
<td>
<p>A vector of labels indicating what is represented in each 
category (i.e. triangle). Set the sequence from 1 to the length of 
the categories (2 or 4).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_leg</code></td>
<td>
<p>A number to indicate the increase/reductuion of the lab_legend
used to represent sig_data.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_leg</code></td>
<td>
<p>Color of the legend (triangles).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex_axis</code></td>
<td>
<p>A number to indicate the increase/reduction of the axis labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mar</code></td>
<td>
<p>A numerical vector of the form c(bottom, left, top, right) which 
gives the number of lines of margin to be specified on the four sides of the 
plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fileout</code></td>
<td>
<p>A string of full directory path and file name indicating where 
to save the plot. If not specified (default), a graphics device will pop up.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size_units</code></td>
<td>
<p>A string indicating the units of the size of the device 
(file or window) to plot in. Set 'px' as default. See ?Devices and the 
creator function of the corresponding device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>A positive number indicating resolution of the device (file or 
window) to plot in. See ?Devices and the creator function of the 
corresponding device.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>figure.width</code></td>
<td>
<p>a numeric value to control the width of the plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>The additional parameters to be passed to function ColorBar() in 
s2dv for color legend creation.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A figure in popup window by default, or saved to the specified path.
</p>


<h3>Author(s)</h3>

<p>History:<br>
1.0  -  2020-10  (V.Torralba, <a href="mailto:veronica.torralba@bsc.es">veronica.torralba@bsc.es</a>)  -  Original code
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Example with random data
arr1 &lt;- array(runif(n = 4 * 5 * 4, min = -1, max = 1), dim = c(4,5,4))
names(dim(arr1)) &lt;- c('dimx', 'dimy', 'dimcat')
arr2 &lt;- array(TRUE, dim = dim(arr1))
arr2[which(arr1 &lt; 0.3)] &lt;- FALSE
PlotTriangles4Categories(data = arr1,
                        cols = c('white','#fef0d9','#fdd49e','#fdbb84','#fc8d59'),
                        brks = c(-1, 0, 0.1, 0.2, 0.3, 0.4), 
                        lab_legend = c('NAO+', 'BL','AR','NAO-'), 
                        xtitle = "Target month", ytitle = "Lead time",
                        xlabels = c("Jan", "Feb", "Mar", "Apr"))
</code></pre>


</div>