<div class="container">

<table style="width: 100%;"><tr>
<td>approxtoexact_constrained_func</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Convert the approximate allocation (proportion) to exact allocation (integer) with bounded constraint (ni &lt;= Ni)</h2>

<h3>Description</h3>

<p>Convert the approximate allocation (proportion) to exact allocation (integer) with bounded constraint (ni &lt;= Ni)
</p>


<h3>Usage</h3>

<pre><code class="language-R">approxtoexact_constrained_func(
  n,
  w,
  m,
  beta = NULL,
  link = NULL,
  X = NULL,
  Fdet_func = Fdet_func_GLM,
  iset_func = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>Sample size, must be a positive integer</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>Approximate allocation/proportion, must be a real-valued vector, can get from running liftone_constrained_GLM or liftone_constrained_MLM</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>m</code></td>
<td>
<p>The number of sampling groups</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>beta</code></td>
<td>
<p>Model parameter coefficients, default to be NULL for use in constrained uniform sampling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link</code></td>
<td>
<p>Link function of GLM or MLM, if used for GLM model (GLM_T is T), options are "identity", "logit", "probit", "cloglog", "loglog". If used for MLM (GLM_T is F), options are "continuation", "cumulative", "adjacent", and "baseline"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Design matrix of the model for GLM or MLM, default to be NULL for use in constrained uniform sampling</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Fdet_func</code></td>
<td>
<p>determinant of Fisher information matrix function, Fdet_func can be self-defined, or use "Fdet_func_GLM", "Fdet_func_MLM" in the package, default is Fdet_func_GLM</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iset_func</code></td>
<td>
<p>self-defined function for checking which index of sampling group fall within constraint if add 1 more subject (I set, see Algorithm 2 in Huang, Tong, Yang (2023)), two example functions are provided in the package, iset_func_trial and iset_func_trauma</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>allocation is the exact allocation or integer value of the number of subjects sampled from the group
</p>
<p>allocation.real is the proportion or the approximate allocation of the number of subjects sampled from the group
</p>
<p>det.maximum is the maximum of |F| from the current exact allocation
</p>


<h3>Examples</h3>

<pre><code class="language-R">
beta = c(0, 3, 3, 3) #main effect model beta_0, beta_1, beta_21, beta_22
X.liftone=matrix(data=c(1,0,0,0,1,0,1,0,1,0,0,1,1,1,0,0,1,1,1,0,1,1,0,1), ncol=4, byrow=TRUE)
exact_design = approxtoexact_constrained_func(n=200, w=c(0.25, 0.20, 0.05, 0.50, 0.00, 0.00),
m=6, beta=beta, link='logit', X=X.liftone, Fdet_func=Fdet_func_GLM, iset_func=iset_func_trial)

</code></pre>


</div>