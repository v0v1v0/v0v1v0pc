<div class="container">

<table style="width: 100%;"><tr>
<td>plot.CoreModel</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Visualization of CoreModel models </h2>

<h3>Description</h3>

<p>The method <code>plot</code> visualizes the models returned by CoreModel()
function or summaries obtained by applying these models to data.
Different plots can be produced depending on the type of the model.
</p>


<h3>Usage</h3>

<pre><code class="language-R">    ## S3 method for class 'CoreModel'
plot(x, trainSet, rfGraphType=c("attrEval", "outliers", "scaling",
    "prototypes", "attrEvalCluster"), clustering=NULL, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>The model structure as returned by <code>CoreModel</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trainSet</code></td>
<td>
<p> The data frame containing training data which produced the model <code>x</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rfGraphType</code></td>
<td>
<p> The type of the graph to produce for random forest models. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>clustering</code></td>
<td>
<p>The clustering of the training instances used in some model types. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>... </code></td>
<td>
<p> Other options controlling graphical output passed to additional graphical functions.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The output of function <code>CoreModel</code> is visualized. Depending on the model type, different visualizations 
are produced. Currently, classification tree, regression tree, and random forests are supported 
(models "tree", "regTree", "rf", and "rfNear").
</p>
<p>For classification and regression trees (models "tree" and "regTree") the visualization produces a graph 
representing structure
of classification and regression tree, respectively. This process exploits graphical capabilities of 
<code>rpart.plot</code> package. Internal structures of 
<code>CoreModel</code> are converted to <code>rpart.object</code> and then visualized by calling
<code>rpart.plot</code> using default parameters. Any additional parameters are passed on to this function. For further 
control use the <code>getRpartModel</code> function and call the function <code>rpart.plot</code> 
or <code>plot.rpart</code> with different parameters.  
Note that <code>rpart.plot</code> can only display a single value in a leaf, which is not appropriate for model trees using e.g., 
linear regression in the leaves. For these cases function <code>display</code> is a better alternative.
</p>
<p>For random forest models (models "rf" and "rfNear") different types of visualizations can be produced depending on the
<code>graphType</code> parameter:
</p>

<ul>
<li> <p><code>"attrEval"</code> the attributes are evaluated with random forest model and the importance scores are then
visualized. For details see <code>rfAttrEval</code>.
</p>
</li>
<li> <p><code>"attrEvalClustering"</code> similarly to the <code>"attrEval"</code> the attributes are evaluated with random forest 
model and the importance scores are then visualized, but the importance scores are generated
for each cluster separately. The parameter <code>clustering</code> provides clustering information on
the <code>trainSet</code>. If <code>clustering</code> parameter is set to NULL, the class values are used as 
clustering information and visualization of attribute importance for each class separately is
generated.
For details see <code>rfAttrEvalClustering</code>.                         
</p>
</li>
<li> <p><code>"outliers"</code> the random forest proximity measure of training instances in <code>trainSet</code>
is visualized and outliers for each class separately can be detected.
For details see <code>rfProximity</code> and <code>rfOutliers</code>.  
</p>
</li>
<li> <p><code>"prototypes"</code> typical instances are found based on predicted class probabilities
and their values are visualized (see <code>classPrototypes</code>). 
</p>
</li>
<li> <p><code>"scaling"</code> returns a scaling plot of training instances in a two dimensional space using
random forest based proximity as the distance (see <code>rfProximity</code> 
and a scaling function <code>cmdscale</code>).
</p>
</li>
</ul>
<h3>Value</h3>

<p>The method returns no value.
</p>


<h3>Author(s)</h3>

<p> John Adeyanju Alao (initial implementation) and Marko Robnik-Sikonja (integration, improvements)</p>


<h3>References</h3>

<p>Leo Breiman: Random Forests. <em>Machine Learning Journal</em>, 45:5-32, 2001
</p>


<h3>See Also</h3>

<p><code>CoreModel</code>,
<code>rfProximity</code>,
<code>pam</code>,
<code>rfClustering</code>,
<code>rfAttrEvalClustering</code>,
<code>rfOutliers</code>,
<code>classPrototypes</code>,
<code>cmdscale</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># decision tree
dataset &lt;- iris
md &lt;- CoreModel(Species ~ ., dataset, model="tree")
plot(md, dataset) # additional parameters are passed directly to rpart.plot

# Additional visualizations can be obtained by explicit conversion to rpart.object 
#rpm &lt;- getRpartModel(md,dataset)
# and than setting graphical parameters in plot.rpart and text.rpart
#require(rpart)
# E.g., set angle to tan(0.5)=45 (degrees) and length of branches at least 5, 
# try to make a dendrogram more compact
#plot(rpm, branch=0.5, minbranch=5, compress=TRUE)
#(pretty=0) full names of attributes, numbers to 3 decimals, 
#text(rpm, pretty=0, digits=3)

destroyModels(md) # clean up

# regression tree
dataset &lt;- CO2
mdr &lt;- CoreModel(uptake ~ ., dataset, model="regTree")
plot(mdr, dataset)
destroyModels(mdr) # clean up

#random forests
dataset &lt;- iris
mdRF &lt;- CoreModel(Species ~ ., dataset, model="rf", rfNoTrees=30, maxThreads=1)
plot(mdRF, dataset, rfGraphType="attrEval")
plot(mdRF, dataset, rfGraphType="outliers")
plot(mdRF, dataset, rfGraphType="scaling")
plot(mdRF, dataset, rfGraphType="prototypes")
plot(mdRF, dataset, rfGraphType="attrEvalCluster", clustering=NULL)
destroyModels(mdRF) # clean up

</code></pre>


</div>