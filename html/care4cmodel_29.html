<div class="container">

<table style="width: 100%;"><tr>
<td>sim_area_single_concept_with_risk</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>sim_area_single_concept_with_risk</h2>

<h3>Description</h3>

<p>Low-level simulation function for area-phase dynamics, available for users
who want to compose simulations out of the single steps. Regular users are
recommended to use the function <code>simulate_single_concept</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sim_area_single_concept_with_risk(
  state_vars,
  parms,
  event_times,
  time_span = 100L,
  time_frac = 4L,
  integ_method = "lsoda"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>state_vars</code></td>
<td>
<p>list of state variable(s) (vectors), all initialized</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>parms</code></td>
<td>
<p>list of parameter(s) (vectors)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>event_times</code></td>
<td>
<p>vector of integers specifying the points in time when
damage events can happen. Usually all numbers between (and including) zero
and the endpoint of the simulation (i.e. <code>c(0, time_span)</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_span</code></td>
<td>
<p>simulation time span, integer, in the chosen time unit
(typically years)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time_frac</code></td>
<td>
<p>integer &gt;= 1, defines the time step to be used for numerical
integration (time step = 1 / time_frac), i.e. one time unit will be split
into time_frac substeps. Too small values of <code>time_frac</code> may cause the
model showing chaotic dynamics, too large values increase computation time
without meaningful gains in precision. The default value of 4 is mostly a
good choice; in doubt, increase <code>time_frac</code> until the results do not
change meaningfully anymore (risk events should be turned off during that
procedure).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>integ_method</code></td>
<td>
<p>integration method, passed to <code>ode</code></p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>an object of class <code>deSolve</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  # Work with the example data pine_thinning_from_above_1
  # Initialize state variables (areas per stand development phase)
  state_vars &lt;- setup_statevars(pine_thinning_from_above_1,
                                c(1000, 0, 0, 0, 0, 0))

  # Set time frame
  time_span          &lt;- 200

  # Initialize parameters
  parms     &lt;- setup_parms(pine_thinning_from_above_1)

  # Build risk matrix and add it to parms
  parms$risk_mat &lt;- setup_risk_events(
    time_span, avg_event_strength = 1, parms$risk
  )

  # Simulate
  sim_area_single_concept_with_risk(
    state_vars,
    parms       = parms,
    event_times = c(0:time_span),
    time_span   = time_span
  )

</code></pre>


</div>