<div class="container">

<table style="width: 100%;"><tr>
<td>short_term_trend</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Determine the short term trend of a timeseries</h2>

<h3>Description</h3>

<p>The method is based upon a published analytics strategy by Benedetti (2019) &lt;doi:10.5588/pha.19.0002&gt;.
</p>


<h3>Usage</h3>

<pre><code class="language-R">short_term_trend(x, ...)

## S3 method for class 'csfmt_rts_data_v1'
short_term_trend(
  x,
  numerator,
  denominator = NULL,
  prX = 100,
  trend_isoyearweeks = 6,
  remove_last_isoyearweeks = 0,
  forecast_isoyearweeks = trend_isoyearweeks,
  numerator_naming_prefix = "from_numerator",
  denominator_naming_prefix = "from_denominator",
  statistics_naming_prefix = "universal",
  remove_training_data = FALSE,
  include_decreasing = FALSE,
  alpha = 0.05,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>Data object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Not in use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numerator</code></td>
<td>
<p>Character of name of numerator</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denominator</code></td>
<td>
<p>Character of name of denominator (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>prX</code></td>
<td>
<p>If using denominator, what scaling factor should be used for numerator/denominator?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trend_isoyearweeks</code></td>
<td>
<p>Same as trend_dates, but used if granularity_geo=='isoyearweek'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_last_isoyearweeks</code></td>
<td>
<p>Same as remove_last_dates, but used if granularity_geo=='isoyearweek'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>forecast_isoyearweeks</code></td>
<td>
<p>Same as forecast_dates, but used if granularity_geo=='isoyearweek'</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>numerator_naming_prefix</code></td>
<td>
<p>"from_numerator", "generic", or a custom prefix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>denominator_naming_prefix</code></td>
<td>
<p>"from_denominator", "generic", or a custom prefix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>statistics_naming_prefix</code></td>
<td>
<p>"universal" (one variable for trend status, one variable for doubling dates), "from_numerator_and_prX" (If denominator is NULL, then one variable corresponding to numerator. If denominator exists, then one variable for each of the prXs)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>remove_training_data</code></td>
<td>
<p>Boolean. If TRUE, removes the training data (i.e. 1:(trend_dates-1) or 1:(trend_isoyearweeks-1)) from the returned dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include_decreasing</code></td>
<td>
<p>If true, then *_trend*_status contains the levels c("training", "forecast", "decreasing", "null", "increasing"), otherwise the levels c("training", "forecast", "notincreasing", "increasing").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>Significance level for change in trend.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>The original csfmt_rts_data_v1 dataset with extra columns. *_trend*_status contains a factor with levels c("training", "forecast", "decreasing", "null", "increasing"), while *_doublingdays* contains the expected number of days before the numerator doubles.
</p>


<h3>Examples</h3>

<pre><code class="language-R">d &lt;- cstidy::nor_covid19_icu_and_hospitalization_csfmt_rts_v1
d &lt;- d[granularity_time=="isoyearweek"]
res &lt;- csalert::short_term_trend(
  d,
  numerator = "hospitalization_with_covid19_as_primary_cause_n",
  trend_isoyearweeks = 6
)
print(res[, .(
  isoyearweek,
  hospitalization_with_covid19_as_primary_cause_n,
  hospitalization_with_covid19_as_primary_cause_trend0_41_status
)])
</code></pre>


</div>