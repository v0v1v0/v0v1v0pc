<div class="container">

<table style="width: 100%;"><tr>
<td>getColorDistanceMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Distance matrix for a list of color cluster sets</h2>

<h3>Description</h3>

<p>Calculates a distance matrix for a list of color cluster sets as returned by
<code>extractClusters</code> or <code>getHistList</code> based on the
specified distance metric.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getColorDistanceMatrix(
  cluster.list,
  method = "emd",
  ordering = "default",
  size.weight = 0.5,
  color.weight = 0.5,
  plotting = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cluster.list</code></td>
<td>
<p>A list of identically sized dataframes with 4 columns each
(R, G, B, Pct or H, S, V, Pct) as output by <code>extractClusters</code> or
<code>getHistList</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>One of four possible comparison methods for calculating the
color distances: <code>"emd"</code> (uses <code>EMDistance</code>, recommended),
<code>"chisq"</code> (uses <code>chisqDistance</code>), <code>"color.dist"</code>
(uses <code>colorDistance</code>; not appropriate if binAvg=F), or
<code>"weighted.pairs"</code> (<code>weightedPairsDistance</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordering</code></td>
<td>
<p>Logical if not left as "default". Should the color clusters
in the list be reordered to minimize the distances between the pairs? If
left as default, ordering depends on distance method: "emd" and "chisq" do
not order clusters ("emd" orders on a case-by-case in the
<code>EMDistance</code> function itself and reordering by size similarity
would make chi-squared meaningless); "color.dist" and "weighted.pairs" use
ordering. To override defaults, set to either <code>T</code> (for ordering) or
<code>F</code> (for no ordering).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>size.weight</code></td>
<td>
<p>Same as in <code>weightedPairsDistance</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color.weight</code></td>
<td>
<p>Same as in <code>weightedPairsDistance</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotting</code></td>
<td>
<p>Logical. Should a heatmap of the distance matrix be displayed
once the function finishes running?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional arguments passed on to
<code>heatmapColorDistance</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Each cell represents the distance between a pair of color cluster
sets as measured using either chi-squared distance (cluster size only), earth
mover's distance (size and color), weighted pairs (size and color with
user-specified weights for each), or color distance (Euclidean distance
between clusters as 3-dimensional - RGB or HSV - color coordinates).
</p>
<p>Earth mover's distance is recommended unless <code>binAvg</code> is set to false
during cluster list generation (in which case all paired bins will have the
same colors across datasets), in which case chi-squared is recommended.
Weighted pairs or color distance may be appropriate depending on the
question, but generally give poorer results.
</p>


<h3>Value</h3>

<p>A distance matrix of image distance scores (the scales vary depending
on the distance metric chosen, but for all four methods, higher scores =
more different).
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
cluster.list &lt;- colordistance::getHistList(c(system.file("extdata",
"Heliconius/Heliconius_A", package="colordistance"), system.file("extdata",
"Heliconius/Heliconius_B", package="colordistance")), lower=rep(0.8, 3),
upper=rep(1, 3))

# Default values - recommended!
colordistance::getColorDistanceMatrix(cluster.list, main="EMD")

# Without plotting
colordistance::getColorDistanceMatrix(cluster.list, plotting=FALSE)

# Use chi-squared instead
colordistance::getColorDistanceMatrix(cluster.list, method="chisq", main="Chi-squared")

# Override ordering (throws a warning if you're trying to do this with
# chisq!)
colordistance::getColorDistanceMatrix(cluster.list, method="chisq",
ordering=TRUE, main="Chi-squared w/ ordering")

# Specify high size weight/low color weight for weighted pairs
colordistance::getColorDistanceMatrix(cluster.list, method="weighted.pairs",
color.weight=0.1, size.weight=0.9, main="Weighted pairs")

# Color distance only
colordistance::getColorDistanceMatrix(cluster.list, method="color.dist",
ordering=TRUE, main="Color distance only")

## End(Not run)
</code></pre>


</div>