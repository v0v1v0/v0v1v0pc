<div class="container">

<table style="width: 100%;"><tr>
<td>dynConfMatrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate a confusion matrix</h2>

<h3>Description</h3>

<p>Calculates a confusion matrix for real-valued classifier predictions, with the optional
ability to dynamically determine an
incidence-based cutoff value using validation sample predictions
</p>


<h3>Usage</h3>

<pre><code class="language-R">dynConfMatrix(predTest, depTest, cutoff = 0.5, dyn.cutoff = FALSE,
  predVal = NULL, depVal = NULL, returnClassPreds = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>predTest</code></td>
<td>
<p>Vector with predictions (real-valued or discrete)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depTest</code></td>
<td>
<p>Vector with real class labels</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>Threshold for converting real-valued predictions into class predictions.
Default 0.5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dyn.cutoff</code></td>
<td>
<p>Logical indicator to enable dynamic threshold determination using
validation sample predictions. In this case, the function determines, using validation
data, the indidicence (occurrence percentage of the customer behavior or characterstic
of interest) and chooses a cutoff value so that the number of predicted positives is
equal to the number of true positives. If TRUE, then the value for the cutoff parameter
is ignored.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predVal</code></td>
<td>
<p>Vector with predictions (real-valued or discrete). Only used if
<code>dyn.cutoff</code> is TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>depVal</code></td>
<td>
<p>Optional vector with true class labels for validation data. Only used
if <code>dyn.cutoff</code> is <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnClassPreds</code></td>
<td>
<p>Boolean value: should class predictions (using <code>cutoff</code>)
be returned?</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with two elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>confMatrix</code></td>
<td>
<p>a confusion matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cutoff</code></td>
<td>
<p>the threshold value used to convert real-valued predictions to class
predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>classPreds</code></td>
<td>
<p>class predictions, if requested using <code>returnClassPreds</code></p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Koen W. De Bock, <a href="mailto:kdebock@audencia.com">kdebock@audencia.com</a>
</p>


<h3>References</h3>

<p>Witten, I.H., Frank, E. (2005): Data Mining: Practical Machine Learning
Tools and Techniques, Second Edition. Chapter 5. Morgan Kauffman.
</p>


<h3>See Also</h3>

<p><code>dynAccuracy</code>, <code>confMatrixMetrics</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Load response modeling data set
data("response")
## Apply dynConfMatrix function to obtain a confusion matrix. Use validation sample
## predictions to dynamically determine an incidence-based cutoff value.
cm&lt;-dynConfMatrix(response$test[,2],response$test[,1],dyn.cutoff=TRUE,
predVal=response$val[,2],depVal=response$val[,1])
print(cm)

</code></pre>


</div>