<div class="container">

<table style="width: 100%;"><tr>
<td>datsubset</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subset data by subperiod, code list or no. of years with data</h2>

<h3>Description</h3>

<p>This function allows saving a subset of <code>climatol</code> input data into new input
files by selecting a subperiod, a minimum number of years with data and/or a group of stations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">datsubset(varcli, anyi, anyf, anyis=anyi, anyfs=anyf, minny=NA, codes=NULL,
na.strings=NA, ini=NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>varcli</code></td>
<td>
<p>Short name of the studied climatic variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anyi</code></td>
<td>
<p>Initial year of the data present in the file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anyf</code></td>
<td>
<p>Final year of the data present in the file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anyis</code></td>
<td>
<p>First year of the output subperiod. (Defaults to <code>anyi</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>anyfs</code></td>
<td>
<p>Last year of the output subperiod. (Defaults to <code>anyf</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minny</code></td>
<td>
<p>Minimum number of years with data to retain the series.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>codes</code></td>
<td>
<p>Vector of chosen station codes. (Defaults to <code>NULL</code>, meaning all).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>na.strings</code></td>
<td>
<p>Strings marking missing data (<code>NA</code> by default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ini</code></td>
<td>
<p>Initial date (if not January 1st).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Homogenization by <code>climatol</code> requires that no time step be totally void of data in all stations simultaneously. This function allows subsetting already existing <code>climatol</code> input files by selecting a subperiod and/or stations with a minimum number of years with data (may contain gaps).
</p>
<p>Another possibility is to choose a group of stations, useful when the initial cluster analysis reveals areas with different climate regimes that should be homogenized independently.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Set a temporal working directory and write input files:
wd &lt;- tempdir()
wd0 &lt;- setwd(wd)
data(climatol_data)
write.table(Temp.est,'Temp_1961-2005.est',row.names=FALSE,col.names=FALSE)
write(Temp.dat,'Temp_1961-2005.dat',ncolumns=12)

## Now run the examples:
datsubset('Temp',1961,2005,1971,2000,minny=20)
datsubset('Temp',1971,2000,codes=c('st02','st03'))

## Return to user's working directory:
setwd(wd0)

## Input and output files can be found in directory:
print(wd)
</code></pre>


</div>