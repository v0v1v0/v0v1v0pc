<div class="container">

<table style="width: 100%;"><tr>
<td>descr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Detailed Statistical Description of Data Frame
</h2>

<h3>Description</h3>

<p><code>descr</code> offers a fast and detailed description of each variable in a data frame. Since v1.9.0 it fully supports grouped and weighted computations.
</p>


<h3>Usage</h3>

<pre><code class="language-R">descr(X, ...)

## Default S3 method:
descr(X, by = NULL, w = NULL, cols = NULL,
      Ndistinct = TRUE, higher = TRUE, table = TRUE, sort.table = "freq",
      Qprobs = c(0.01, 0.05, 0.1, 0.25, 0.5, 0.75, 0.9, 0.95, 0.99), Qtype = 7L,
      label.attr = "label", stepwise = FALSE, ...)

## S3 method for class 'grouped_df'
descr(X, w = NULL,
      Ndistinct = TRUE, higher = TRUE, table = TRUE, sort.table = "freq",
      Qprobs = c(0.01, 0.05, 0.1, 0.25, 0.5, 0.75, 0.9, 0.95, 0.99), Qtype = 7L,
      label.attr = "label", stepwise = FALSE, ...)

## S3 method for class 'descr'
as.data.frame(x, ..., gid = "Group")

## S3 method for class 'descr'
print(x, n = 14, perc = TRUE, digits = .op[["digits"]], t.table = TRUE, total = TRUE,
      compact = FALSE, summary = !compact, reverse = FALSE, stepwise = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>a (grouped) data frame or list of atomic vectors. Atomic vectors, matrices or arrays can be passed but will first be coerced to data frame using <code>qDF</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by</code></td>
<td>
<p>a factor, <code>GRP</code> object, or atomic vector / list of vectors (internally grouped with <code>GRP</code>), or a one- or two-sided formula e.g. <code>~ group1</code> or <code>var1 + var2 ~ group1 + group2</code> to group <code>X</code>. See Examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>w</code></td>
<td>
<p>a numeric vector of (non-negative) weights. the default method also supports a one-sided formulas i.e. <code>~ weightcol</code> or <code>~ log(weightcol)</code>. The <code>grouped_df</code> method supports lazy-expressions (same without <code>~</code>). See Examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>select columns to describe using column names, indices a logical vector or selector function (e.g. <code>is.numeric</code>). <em>Note</em>: <code>cols</code> is ignored if a two-sided formula is passed to <code>by</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ndistinct</code></td>
<td>

<p>logical. <code>TRUE</code> (default) computes the number of distinct values on all variables using <code>fndistinct</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>higher</code></td>
<td>

<p>logical. Argument is passed down to <code>qsu</code>: <code>TRUE</code> (default) computes the skewness and the kurtosis.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>table</code></td>
<td>

<p>logical. <code>TRUE</code> (default) computes a (sorted) frequency table for all categorical variables (excluding Date variables).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sort.table</code></td>
<td>
<p>an integer or character string specifying how the frequency table should be presented:
</p>

<table>
<tr>
<td style="text-align: left;">
<em> Int. </em>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <em> String </em>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <em> Description </em>  </td>
</tr>
<tr>
<td style="text-align: left;">
                 1 </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> "value"   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> sort table by values. </td>
</tr>
<tr>
<td style="text-align: left;">
                 2 </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> "freq" </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> sort table by frequencies. </td>
</tr>
<tr>
<td style="text-align: left;">
                 3 </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> "none"   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> return table in first-appearance order of values, or levels for factors (most efficient). </td>
</tr>
<tr>
<td style="text-align: left;">
  </td>
</tr>
</table>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qprobs</code></td>
<td>

<p>double. Probabilities for quantiles to compute on numeric variables, passed down to <code>.quantile</code>. If something non-numeric is passed (i.e. <code>NULL</code>, <code>FALSE</code>, <code>NA</code>, <code>""</code> etc.), no quantiles are computed.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Qtype</code></td>
<td>

<p>integer. Quantile types 5-9 following Hyndman and Fan (1996) who recommended type 8, default 7 as in <code>quantile</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>label.attr</code></td>
<td>

<p>character. The name of a label attribute to display for each variable (if variables are labeled).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for <code>descr</code>: other arguments passed to <code>qsu.default</code>. For <code>[.descr</code>: variable names or indices passed to <code>[.list</code>. The argument is unused in the <code>print</code> and <code>as.data.frame</code> methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class 'descr'.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>integer. The maximum number of table elements to print for categorical variables. If the number of distinct elements is <code>&lt;= n</code>, the whole table is printed. Otherwise the remaining items are summed into an '... %s Others' category.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>perc</code></td>
<td>
<p>logical. <code>TRUE</code> (default) adds percentages to the frequencies in the table for categorical variables, and, if <code>!is.null(by)</code>, the percentage of observations in each group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>digits</code></td>
<td>
<p>integer. The number of decimals to print in statistics, quantiles and percentage tables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t.table</code></td>
<td>
<p>logical. <code>TRUE</code> (default) prints a transposed table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>total</code></td>
<td>
<p>logical. <code>TRUE</code> (default) adds a 'Total' column for grouped tables (when using <code>by</code> argument).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>compact</code></td>
<td>
<p>logical. <code>TRUE</code> combines statistics and quantiles to generate a more compact printout. Especially useful with groups (<code>by</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>summary</code></td>
<td>
<p>logical. <code>TRUE</code> (default) computes and displays a summary of the frequencies, if the size of the table for a categorical variable exceeds <code>n</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reverse</code></td>
<td>
<p>logical. <code>TRUE</code> prints contents in reverse order, starting with the last column, so that the dataset can be analyzed by scrolling up the console after calling <code>descr</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stepwise</code></td>
<td>
<p>logical. <code>TRUE</code> prints one variable at a time. The user needs to press [enter] to see the printout for the next variable. If called from <code>descr</code>, the computation is also done one variable at a time, and the finished 'descr' object is returned invisibly. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gid</code></td>
<td>
<p>character. Name assigned to the group-id column, when describing data by groups.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>descr</code> was heavily inspired by <code>Hmisc::describe</code>, but is much faster and has more advanced statistical capabilities. It is principally a wrapper around <code>qsu</code>, <code>fquantile</code> (<code>.quantile</code>), and <code>fndistinct</code> for numeric variables, and computes frequency tables for categorical variables using <code>qtab</code>. Date variables are summarized with <code>fnobs</code>, <code>fndistinct</code> and <code>frange</code>.
</p>
<p>Since v1.9.0 grouped and weighted computations are fully supported. The use of sampling weights will produce a weighted mean, sd, skewness and kurtosis, and weighted quantiles for numeric data. For categorical data, tables will display the sum of weights instead of the frequencies, and percentage tables as well as the percentage of missing values indicated next to 'Statistics' in print, be relative to the total sum of weights. All this can be done by groups. Grouped (weighted) quantiles are computed using <code>BY</code>.
</p>
<p>For larger datasets, calling the <code>stepwise</code> option directly from <code>descr()</code> is recommended, as precomputing the statistics for all variables before digesting the results can be time consuming.

</p>
<p>The list-object returned from <code>descr</code> can efficiently be converted to a tidy data frame using the <code>as.data.frame</code> method. This representation will not include frequency tables computed for categorical variables. 
</p>


<h3>Value</h3>

<p>A 2-level nested list-based object of class 'descr'. The list has the same size as the dataset, and contains the statistics computed for each variable, which are themselves stored in a list containing the class, the label, the basic statistics and quantiles / tables computed for the variable (in matrix form).
</p>
<p>The object has attributes attached providing the 'name' of the dataset, the number of rows in the dataset ('N'), an attribute 'arstat' indicating whether arrays of statistics where generated by passing arguments (e.g. <code>pid</code>) down to <code>qsu.default</code>, an attribute 'table' indicating whether <code>table = TRUE</code> (i.e. the object could contain tables for categorical variables), and attributes 'groups' and/or 'weights' providing a <code>GRP</code> object and/or weight vector for grouped and/or weighted data descriptions.
</p>


<h3>See Also</h3>

<p><code>qsu</code>, <code>qtab</code>, <code>fquantile</code>, <code>pwcor</code>, Summary Statistics, Fast Statistical Functions, Collapse Overview
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Simple Use
descr(iris)
descr(wlddev)
descr(GGDC10S)

# Some useful print options (also try stepwise argument)
print(descr(GGDC10S), reverse = TRUE, t.table = FALSE)
# For bigger data consider: descr(big_data, stepwise = TRUE)

# Generating a data frame
as.data.frame(descr(wlddev, table = FALSE))

## Weighted Desciptions
descr(wlddev, w = ~ replace_na(POP)) # replacing NA's with 0's for fquantile()

## Grouped Desciptions
descr(GGDC10S, ~ Variable)
descr(wlddev, ~ income)
print(descr(wlddev, ~ income), compact = TRUE)

## Grouped &amp; Weighted Desciptions
descr(wlddev, ~ income, w = ~ replace_na(POP))

## Passing Arguments down to qsu.default: for Panel Data Statistics
descr(iris, pid = iris$Species)
descr(wlddev, pid = wlddev$iso3c)

</code></pre>


</div>