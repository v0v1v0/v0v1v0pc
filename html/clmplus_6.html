<div class="container">

<table style="width: 100%;"><tr>
<td>clmplus.AggregateDataPP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fit Chain Ladder Plus to reverse time triangles.</h2>

<h3>Description</h3>

<p>Method to fit Chain Ladder plus models to <code>AggregateDataPP</code> objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'AggregateDataPP'
clmplus(
  AggregateDataPP,
  hazard.model = NULL,
  link = c("log", "logit"),
  staticAgeFun = TRUE,
  periodAgeFun = "NP",
  cohortAgeFun = NULL,
  effect_log_scale = TRUE,
  constFun = function(ax, bx, kt, b0x, gc, wxt, ages) list(ax = ax, bx = bx, kt = kt, b0x
    = b0x, gc = gc),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>AggregateDataPP</code></td>
<td>
<p><code>AggregateDataPP</code> object, reverse time triangle to be fitted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hazard.model</code></td>
<td>
<p><code>character</code>, hazard model supported from our package. The model can be chosen from:
</p>

<ul>
<li>
<p>'a': Age model, this is equivalent to the Mack chain-ladder.
</p>
</li>
<li>
<p>'ac': Age and cohort effects.
</p>
</li>
<li>
<p>'ap': Age and cohort effects.
</p>
</li>
<li>
<p>'apc': Age cohort and period effects.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>link</code></td>
<td>
<p><code>character</code>, defines the link function and random component associated with 
the mortality model. <code>"log"</code> would assume that deaths follow a 
Poisson distribution and use a log link while <code>"logit"</code> would assume 
that deaths follow a Binomial distribution and a logit link.
To be disregarded unless the practitioner specifies his own hazard model in StMoMo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>staticAgeFun</code></td>
<td>
<p><code>logical</code>, indicates if a static age function 
<code class="reqn">\alpha_x</code> is to be included. To be disregarded unless the practitioner specifies his own hazard model in StMoMo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>periodAgeFun</code></td>
<td>
<p><code>list</code>, a list of length <code class="reqn">N</code> with the definitions of the 
period age modulating parameters <code class="reqn">\beta_x^{(i)}</code>. Each entry can take 
values: <code>"NP"</code> for non-parametric age terms, <code>"1"</code> for 
<code class="reqn">\beta_x^{(i)}=1</code> or a predefined parametric function of 
age (see details). Set this to <code>NULL</code> if there are no period terms 
in the model.
To be disregarded unless the practitioner specifies his own hazard model in StMoMo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cohortAgeFun</code></td>
<td>
<p><code>character</code> or <code>function</code>, defines the cohort age modulating parameter 
<code class="reqn">\beta_x^{(0)}</code>. It can take values: <code>"NP"</code> for non-parametric 
age terms, <code>"1"</code> for <code class="reqn">\beta_x^{(0)}=1</code>, a predefined parametric 
function of age (see details) or <code>NULL</code> if there is no cohort effect. 
To be disregarded unless the practitioner specifies his own hazard model in StMoMo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>effect_log_scale</code></td>
<td>
<p><code>logical</code>, whether effects should be on the logarithmic scale. By default, <code>TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>constFun</code></td>
<td>
<p><code>function</code>, it defines the identifiability constraints of the 
model. It must be a function of the form 
<code>constFun &lt;- function(ax, bx, kt, b0x, gc, wxt, ages)</code> taking a set
of fitted model parameters and returning a list 
<code>list(ax = ax, bx = bx, kt = kt, b0x = b0x, gc = gc)</code>
of the model parameters with the identifiability constraints applied. If 
omitted no identifiability constraints are applied to the model.
To be disregarded unless the practitioner specifies his own hazard model in StMoMo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>parameters to be passed to clmplus.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class <code>clmplusmodel</code>. A list with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>model.fit</code></td>
<td>
<p><code>fitStMoMo</code> object, specified hazard model fit from StMoMo.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>apc_input</code></td>
<td>
<p><code>list</code> object. A list containing the following model inputs in age-period-cohort notation: <code>J</code> (<code>integer</code>) Run-off triangle dimension.  <code>eta</code> (<code>numeric</code>) Expected time-to-event in the cell. I.e., lost exposure.   
<code>diagonal</code> (<code>numeric</code>) Cumulative payments last diagonal. <code>hazard.model</code> (<code>character</code>), hazard model specified from the user. Set to <code>user.specific</code> when a custom model is passed. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hazard_scaled_deviance_residuals</code></td>
<td>
 <p><code>matrix array</code> Triangle of the scaled deviance residuals. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitted_development_factors</code></td>
<td>
 <p><code>matrix array</code> Triangle of the fitted development factors. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fitted_effects</code></td>
<td>
 <p><code>list</code> List of the development-accident-calendar effects fitted. </p>
</td>
</tr>
</table>
<h3>References</h3>

<p>Pittarello, Gabriele, Munir Hiabu, and Andr√©s M. Villegas. "Replicating and extending chain ladder 
via an age-period-cohort structure on the claim development in a run-off triangle." arXiv preprint arXiv:2301.03858 (2023).
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(sifa.mtpl)
sifa.mtpl.rtt &lt;- AggregateDataPP(cumulative.payments.triangle=sifa.mtpl)
hz.chl=clmplus(sifa.mtpl.rtt, 'a')

</code></pre>


</div>