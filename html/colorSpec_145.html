<div class="container">

<table style="width: 100%;"><tr>
<td>responsivityMetrics</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute Metrics for a Light Responder (e.g. a camera) or a Material Responder (e.g. a scanner)</h2>

<h3>Description</h3>

<p>This function computes a few technical metrics regarding some
geometric objects related to a responder:
the spherical chromaticity polygon, cone, convex cone, and color-solid.
</p>
<p>Currently the function only works if the number of spectra in <code>x</code> is 3 (e.g. RGB or XYZ).
In this case the rows of <code>as.matrix(x)</code> (after weighting by step size)
are called the <em>generators</em>; they are vectors in <code class="reqn">R^3</code> 
and we require that they are all in some open linear halfspace (unless a generator is 0).
The 0-based rays through the generators intersect a plane inside the halfspace to form the vertices
of the <em>chromaticity polygon</em> <code class="reqn">P</code>.
The 0-based rays through points of the interior of <code class="reqn">P</code> form a cone,
and the convex hull of this cone is a convex cone.
The central projection of <code class="reqn">P</code> onto the unit sphere is the <em>spherical chromaticity polygon</em> <code class="reqn">P_S</code>.
If <code>type</code> is <code>'responsivity.material'</code>, then <code>x</code> has an
<em>object-color solid</em> or <em>Rösch Farbkörper</em>,
which is a zonohedron <code class="reqn">Z</code>.
See <cite>Centore</cite> and vignette
<a href="../doc/convexity.pdf"><b>Convexity and Transitions</b></a>
for details.
<br>
Some simplification of the generators is performed during pre-processing.
Generators that are 0 (in all channels) are removed,
and a group of generators that are all positive multiples of each other is replaced by their sum.
The 3-vectors are called the <em>condensed generators</em>.
These simplifications do not change any of the geometric objects defined above.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'colorSpec'
responsivityMetrics( x )

</code></pre>


<h3>Arguments</h3>

<table><tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a <b>colorSpec</b> object with <code>type</code>
equal to <code>'responsivity.light'</code> or <code>'responsivity.material'</code>, and 3 spectra</p>
</td>
</tr></table>
<h3>Value</h3>

<p><code>responsivityMetrics()</code> returns a list with these items:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>generators</code></td>
<td>

<p>a pair of integers, the 1st is the number of original generators,
and the 2nd is the number of condensed generators
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zeros</code></td>
<td>
<p>vector of wavelengths at which the responsivity is 0 (in all 3 channels)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>multiples</code></td>
<td>
<p>a list of vectors of wavelengths; the responsivities in each vector (group) are positive multiples of each other</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>salient</code></td>
<td>
<p>a logical where TRUE means that there is some open linear halfspace that contains all the non-zero generators.  If all the responsivities are non-negative, which is the usual case, then <code>salient=TRUE</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normal</code></td>
<td>
<p>If <code>salient=TRUE</code>, then the inward pointing unit normal for the previous halfspace.
Otherwise, <code>normal=NA</code>.</p>
</td>
</tr>
</table>
<p>If <code>salient=TRUE</code>, then the list also contains:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>concavities</code></td>
<td>
<p>a <code>data.frame</code> with 2 columns: <code>wavelength</code> and <code>extangle</code>,
where <code>extangle</code> is the external angle at the wavelength (for the spherical chromaticity polygon <code class="reqn">P_S</code>), 
and is negative.
A negative angle means that <code class="reqn">P_S</code> is concave at that vertex.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>coneangle</code></td>
<td>
<p>the solid angle of the cone generated by the generators.
This is identical to the area of the spherical chromaticity polygon, with concavities preserved.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cxconeangle</code></td>
<td>
<p>the solid angle of the convex cone generated by the generators, with no concavities.
This is identical to the area of the convex hull of the spherical chromaticity polygon.
If all responsivities are non-negative, which is the usual case, then this solid angle is less than
the solid angle of an octant, which is <code class="reqn">\pi/2</code>.</p>
</td>
</tr>
</table>
<p>If the type of x is <code>'responsivity.material'</code> then the list also contains:    
</p>
<table>
<tr style="vertical-align: top;">
<td><code>area</code></td>
<td>
<p>the surface area of the object-color solid of <code>x</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>volume</code></td>
<td>
<p>the volume of the object-color solid of <code>x</code></p>
</td>
</tr>
</table>
<p>In case of global error, the function returns <code>NULL</code>.
</p>


<h3>Note</h3>

<p>To determine the value of <code>salient</code>, the package <b>quadprog</b> might be required.
</p>


<h3>References</h3>

<p>Centore, Paul.
<em>A zonohedral approach to optimal colours</em>.
<b>Color Research &amp; Application</b>.
Vol. 38.
No. 2.
pp. 110-119.
April 2013.
</p>


<h3>See Also</h3>

<p><code>type</code>,
vignette <a href="../doc/convexity.pdf"><b>Convexity and Transitions</b></a>
</p>


</div>