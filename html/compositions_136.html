<div class="container">

<table style="width: 100%;"><tr>
<td>clr</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Centered log ratio transform</h2>

<h3>Description</h3>

<p>Compute the centered log ratio transform of a (dataset of)
composition(s) and its inverse.
</p>


<h3>Usage</h3>

<pre><code class="language-R">          clr( x,... )
          clrInv( z,..., orig=gsi.orig(z) )
          </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a composition or a data matrix of compositions, not necessarily closed</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>the clr-transform of a composition or a data matrix of
clr-transforms of compositions, not necessarily centered
(i.e. summing up to zero)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>for generic use only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orig</code></td>
<td>
<p>a compositional object which should be mimicked 
by the inverse transformation. It is especially used to
reconstruct the names of the parts.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The clr-transform maps a composition in the D-part Aitchison-simplex
isometrically to a D-dimensonal euclidian vector subspace: consequently, the
transformation is not injective. Thus resulting covariance matrices
are always singular. 
<br> 
The data can then
be analysed in this transformation by all classical multivariate
analysis tools not relying on a full rank of the covariance. See
<code>ilr</code> and <code>alr</code> for alternatives. The
interpretation of the results is relatively easy since the relation between each original
part and a transformed variable is preserved.
<br>  
The centered logratio transform is given by
</p>
<p style="text-align: center;"><code class="reqn"> clr(x) := \left(\ln x_i - \frac1D \sum_{j=1}^D \ln x_j\right)_i </code>
</p>

<p>The image of the <code>clr</code> is a vector with entries
summing to 0. This hyperplane is also called the clr-plane.
</p>


<h3>Value</h3>

<p><code>clr</code> gives the centered log ratio transform,
<code>clrInv</code> gives closed compositions with the given clr-transform
</p>


<h3>Author(s)</h3>

<p>K.Gerald v.d. Boogaart
<a href="http://www.stat.boogaart.de">http://www.stat.boogaart.de</a>
</p>


<h3>References</h3>

<p>Aitchison, J. (1986) <em>The Statistical Analysis of Compositional
Data</em>, Monographs on Statistics and Applied Probability. Chapman &amp;
Hall Ltd., London (UK). 416p.
</p>


<h3>See Also</h3>

<p><code>ilr</code>,<code>alr</code>,<code>apt</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">(tmp &lt;- clr(c(1,2,3)))
clrInv(tmp)
clrInv(tmp) - clo(c(1,2,3)) # 0
data(Hydrochem)
cdata &lt;- Hydrochem[,6:19]
pairs(clr(cdata),pch=".") 
</code></pre>


</div>