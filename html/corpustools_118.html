<div class="container">

<table style="width: 100%;"><tr>
<td>tCorpus$subset_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Subset tCorpus token data using a query</h2>

<h3>Description</h3>

<p>A convenience function that searches for contexts (documents, sentences), and uses the results to subset the tCorpus token data.
</p>
<p>See the documentation for search_contexts for an explanation of the query language.
</p>
<p><strong>Usage:</strong>
</p>
<p>## R6 method for class tCorpus. Use as tc$method (where tc is a tCorpus object).
</p>
<pre>subset_query(query, feature = 'token', context_level = c('document','sentence','window'))</pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>A character string that is a query. See search_contexts for query syntax.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature</code></td>
<td>
<p>The name of the feature columns on which the query is used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>context_level</code></td>
<td>
<p>Select whether the query and subset are performed at the document or sentence level.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>If used, uses a word distance as the context (overrides context_level)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>as_ascii</code></td>
<td>
<p>if TRUE, perform search in ascii.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>not</code></td>
<td>
<p>If TRUE, perform a NOT search. Return the articles/sentences for which the query is not found.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>copy</code></td>
<td>
<p>If TRUE, return modified copy of data instead of subsetting the input tcorpus by reference.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">text = c('A B C', 'D E F. G H I', 'A D', 'GGG')
tc = create_tcorpus(text, doc_id = c('a','b','c','d'), split_sentences = TRUE)

## subset by reference
tc$subset_query('A')
tc$meta

## using copy mechanic
class(tc$tokens$doc_id)
tc2 = tc$subset_query('A AND D', copy=TRUE)

tc2$get_meta()

tc$meta ## (unchanged)
</code></pre>


</div>