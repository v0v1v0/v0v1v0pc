<div class="container">

<table style="width: 100%;"><tr>
<td>EndRule</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>internal function</h2>

<h3>Description</h3>

<p>internal function</p>


<h3>Usage</h3>

<pre><code class="language-R">EndRule(x, y, k, dimx,
             endrule=c("NA", "trim", "keep", "constant", "func"), 
             align = c("center", "left", "right"), Func, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>numeric vector of length n</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k</code></td>
<td>
<p>width of moving window; must be an integer between one and n.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimx</code></td>
<td>
<p>original dimension of x (usually <code>dim(x)</code>) used to choose 
dimentions of the output. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>endrule</code></td>
<td>
<p>character string indicating how the values at the beginning 
and the end, of the data, should be treated. Only first and last <code>k2</code> 
values at both ends are affected, where <code>k2</code> is the half-bandwidth 
<code>k2 = k %/% 2</code>.
</p>

<ul>
<li> <p><code>"mad"</code> - applies the mad function to
smaller and smaller sections of the array. Equivalent to: 
<code>for(i in 1:k2) out[i]=mad(x[1:(i+k2)])</code>. 
</p>
</li>
<li> <p><code>"trim"</code> - trim the ends; output array length is equal to 
<code>length(x)-2*k2 (out = out[(k2+1):(n-k2)])</code>. This option mimics 
output of <code>apply</code> <code>(embed(x,k),1,FUN)</code> and other 
related functions.
</p>
</li>
<li> <p><code>"keep"</code> - fill the ends with numbers from <code>x</code> vector 
<code>(out[1:k2] = x[1:k2])</code>. This option makes more sense in case of 
smoothing functions, kept here for consistency.
</p>
</li>
<li> <p><code>"constant"</code> - fill the ends with first and last calculated 
value in output array <code>(out[1:k2] = out[k2+1])</code>
</p>
</li>
<li> <p><code>"NA"</code> - fill the ends with NA's <code>(out[1:k2] = NA)</code>
</p>
</li>
<li> <p><code>"func"</code> - same as <code>"mad"</code> option except that implemented
in R for testing purposes. Avoid since it can be very slow for large windows.
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y</code></td>
<td>
<p>numeric vector of length n, which is partially filled output of 
one of the <code>run</code> functions. Function <code>EndRule</code> will fill the 
remaining beginning and end sections using method chosen by <code>endrule</code> 
argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>align</code></td>
<td>
<p>specifies whether result should be centered (default), 
left-aligned or right-aligned. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Func</code></td>
<td>
<p>Function name that <code>EndRule</code> will use in case of 
<code>endrule="func"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters to <code>Func</code> that <code>EndRule</code> will 
use in case of <code>endrule="func"</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a numeric vector of the same length as <code>x</code>. Only in case of 
<code>endrule="trim"</code>.the output will be shorter. 
</p>


<h3>Author(s)</h3>

<p>Jarek Tuszynski (SAIC) <a href="mailto:jaroslaw.w.tuszynski@saic.com">jaroslaw.w.tuszynski@saic.com</a></p>


</div>