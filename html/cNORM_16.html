<div class="container">

<table style="width: 100%;"><tr>
<td>cnorm.cv</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Cross-validation for Term Selection in cNORM</h2>

<h3>Description</h3>

<p>Assists in determining the optimal number of terms for the regression model using repeated Monte Carlo
cross-validation. It leverages an 80-20 split between training and validation data, with stratification by norm group
or random sample in case of using sliding window ranking.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cnorm.cv(
  data,
  formula = NULL,
  repetitions = 5,
  norms = TRUE,
  min = 1,
  max = 12,
  cv = "full",
  pCutoff = NULL,
  width = NA,
  raw = NULL,
  group = NULL,
  age = NULL,
  weights = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame of norm sample or a cnorm object. Should have ranking, powers, and interaction of L and A.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Formula from an existing regression model; min/max functions ignored. If using a cnorm object, this is automatically fetched.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repetitions</code></td>
<td>
<p>Number of repetitions for cross-validation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>norms</code></td>
<td>
<p>If TRUE, computes norm score crossfit and R^2. Note: Computationally intensive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min</code></td>
<td>
<p>Start with a minimum number of terms (default = 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max</code></td>
<td>
<p>Maximum terms in model, up to (k + 1) * (t + 1) - 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cv</code></td>
<td>
<p>"full" (default) splits data into training/validation, then ranks. Otherwise, expects a pre-ranked dataset.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pCutoff</code></td>
<td>
<p>Checks stratification for unbalanced data. Performs a t-test per group. Default set to 0.2 to minimize beta error.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>If provided, ranking done via 'rankBySlidingWindow'. Otherwise, by group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>raw</code></td>
<td>
<p>Name of the raw score variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>group</code></td>
<td>
<p>Name of the grouping variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>age</code></td>
<td>
<p>Name of the age variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>Name of the weighting parameter.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Successive models, with an increasing number of terms, are evaluated, and the RMSE for raw scores plotted. This
encompasses the training, validation, and entire dataset. If 'norms' is set to TRUE (default), the function will also
calculate the mean norm score reliability and crossfit measures. Note that due to the computational requirements
of norm score calculations, execution can be slow, especially with numerous repetitions or terms.
</p>
<p>When 'cv' is set to "full" (default), both test and validation datasets are ranked separately, providing comprehensive
cross-validation. For a more streamlined validation process focused only on modeling, a pre-ranked dataset can be used.
The output comprises RMSE for raw score models, norm score R^2, delta R^2, crossfit, and the norm score SE according
to Oosterhuis, van der Ark, &amp; Sijtsma (2016).
</p>
<p>This function is not yet prepared for the 'extensive' search strategy, introduced in version 3.3, but instead
relies on the first model per number of terms, without consistency check.
</p>
<p>For assessing overfitting:
</p>
<p style="text-align: center;"><code class="reqn">CROSSFIT = R(Training; Model)^2 / R(Validation; Model)^2</code>
</p>

<p>A CROSSFIT &gt; 1 suggests overfitting, &lt; 1 suggests potential underfitting, and values around 1 are optimal,
given a low raw score RMSE and high norm score validation R^2.
</p>
<p>Suggestions for ideal model selection:
</p>

<ul>
<li>
<p> Visual inspection of percentiles with 'plotPercentiles' or 'plotPercentileSeries'.
</p>
</li>
<li>
<p> Pair visual inspection with repeated cross-validation (e.g., 10 repetitions).
</p>
</li>
<li>
<p> Aim for low raw score RMSE and high norm score R^2, avoiding terms with significant overfit (e.g., crossfit &gt; 1.1).
</p>
</li>
</ul>
<h3>Value</h3>

<p>Table with results per term number: RMSE for raw scores, R^2 for norm scores, and crossfit measure.
</p>


<h3>References</h3>

<p>Oosterhuis, H. E. M., van der Ark, L. A., &amp; Sijtsma, K. (2016). Sample Size Requirements for Traditional
and Regression-Based Norms. Assessment, 23(2), 191â€“202. https://doi.org/10.1177/1073191115580638
</p>


<h3>See Also</h3>

<p>Other model: 
<code>bestModel()</code>,
<code>checkConsistency()</code>,
<code>derive()</code>,
<code>modelSummary()</code>,
<code>print.cnorm()</code>,
<code>printSubset()</code>,
<code>rangeCheck()</code>,
<code>regressionFunction()</code>,
<code>summary.cnorm()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# Example: Plot cross-validation RMSE by number of terms (up to 9) with three repetitions.
result &lt;- cnorm(raw = elfe$raw, group = elfe$group)
cnorm.cv(result$data, min = 2, max = 9, repetitions = 3)

# Using a cnorm object examines the predefined formula.
cnorm.cv(result, repetitions = 1)

## End(Not run)

</code></pre>


</div>