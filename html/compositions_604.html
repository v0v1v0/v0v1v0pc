<div class="container">

<table style="width: 100%;"><tr>
<td>robustnessInCompositions</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Handling robustness issues and outliers in compositions.</h2>

<h3>Description</h3>

<p>The seamless transition to robust estimations in library(compositions).
</p>


<h3>Details</h3>

<p>A statistical method is called nonrobust if an arbitrary contamination of
a small portion of the dataset can produce results radically different
from the results without the contamination. In this sense many
classical procedures relying on distributional models or on moments
like mean and variance are highly nonrobust. 
<br>
We consider robustness as an essential prerequierement of all
statistical analysis. However in the context of compositional data
analysis robustness is still in its first years. 
<br>
As of Mai 2008 we provide a new approach to robustness in the
package. The central idea is that robustness should be more or less
automatic and that there should be no necessity to change the code to
compare results obtained from robust procedures and results from there
more efficient nonrobust counterparts. 
<br>
To achieve this all routines that rely on distributional models (such
as e.g. mean,
variance, principle component analysis, scaling) and routines relying
on those routines get a new standard argument of the form:
<br><code>fkt(...,robust=getOption("robust"))</code>
<br>
which defaults to a new option "robust". This option can take several
values:
</p>

<dl>
<dt>FALSE</dt>
<dd>
<p>The classical estimators such as arithmetic mean and
persons product moment variance are used and the results are to be
considered nonrobust. </p>
</dd>
<dt>TRUE</dt>
<dd>
<p>The default for robust estimation in the package is
used. At this time this is <code>covMcd</code> in the
<span class="pkg">robustbase</span>-package. This default might change in future. </p>
</dd>
<dt>"pearson"</dt>
<dd>
<p>This is a synonym for FALSE and explicitly states
that no robustness should be used.</p>
</dd>
<dt>"mcd"</dt>
<dd>
<p>Minimum Covariance Determinant. This option explicitly
selects the use of <code>covMcd</code> in the
<span class="pkg">robustbase</span>-package as the main robustness engine.</p>
</dd>
</dl>
<p>More options might follow later.
To control specific parameters of the
model the string can get an attribute named "control" which contains
additional options for the robustness engine used. In this moment the
control attribute of mcd is a control object of
<code>covMcd</code>. The control argument of "pearson" is a list
containing addition options to the mean, like trim. 
<br>
The standard value for getOption("robust") is FALSE to avoid situation
in which the user thinks he uses a classical technique. Robustness
must be switched on explicitly. Either by setting the option with
<code>options(robust=TRUE)</code> or by giving the argument. This default
might change later if the authors come to the impression that robust
estimation is now considered to be the default.
</p>
<p>For those not only interested in avoiding the influence of the
outliers, but in an analysis of the outliers we added a subsystem for
outlier classification. This subsystem is described in
outliersInCompositions and also relies on the
robust option. However evidently for these routines the factory
default for the robust option is always TRUE, because it is only
applicable in an outlieraware context.
</p>
<p>We hope that in this way we can provide a seamless transition from
nonrobust analysis to a robust analysis. 
</p>


<h3>Note</h3>

<p>IMPORTANT: The robust argument only works with the classes of the
package. Only your compositional analysis is suddenly robust.
<br>
The package <span class="pkg">robustbase</span> is required for using the
robust estimations and the outlier subsystem of compositions. To
simplify installation it is not listed as required, but it will be
loaded, whenever any sort of outlierdetection or robust estimation is
used.
</p>


<h3>Author(s)</h3>

<p>K.Gerald v.d. Boogaart <a href="http://www.stat.boogaart.de">http://www.stat.boogaart.de</a></p>


<h3>See Also</h3>

<p><code>var.acomp</code>, <code>mean.acomp</code>,
<span class="pkg">robustbase</span>, compositions-package,
missings, <code>outlierplot</code>,
<code>OutlierClassifier1</code>, <code>ClusterFinder1</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">A &lt;- matrix(c(0.1,0.2,0.3,0.1),nrow=2)
Mvar &lt;- 0.1*ilrvar2clr(A%*%t(A))
Mcenter &lt;- acomp(c(1,2,1))
typicalData &lt;- rnorm.acomp(100,Mcenter,Mvar) # main population
colnames(typicalData)&lt;-c("A","B","C")
data5 &lt;- acomp(rbind(unclass(typicalData)+outer(rbinom(100,1,p=0.1)*runif(100),c(0.1,1,2))))

mean(data5)
mean(data5,robust=TRUE)
var(data5)
var(data5,robust=TRUE)
Mvar
biplot(princomp(data5))
biplot(princomp(data5,robust=TRUE))

</code></pre>


</div>