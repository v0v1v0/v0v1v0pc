<div class="container">

<table style="width: 100%;"><tr>
<td>build_cladistic_matrix</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates a morphological data file from a matrix</h2>

<h3>Description</h3>

<p>Creates a morphological data file from a character-taxon matrix.
</p>


<h3>Usage</h3>

<pre><code class="language-R">build_cladistic_matrix(
  character_taxon_matrix,
  header = "",
  character_weights = NULL,
  ordering = NULL,
  symbols = NULL,
  equalise.weights = FALSE,
  ignore_duplicate_taxa = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>character_taxon_matrix</code></td>
<td>
<p>A Character-Taxon (columns-rows) matrix, with taxon names as rownames.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>A scalar indicating any header text (defaults to an empty string: "").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>character_weights</code></td>
<td>
<p>A vector specifying the weights used (if not specified defaults to 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ordering</code></td>
<td>
<p>A vector indicating whether characters are ordered (<code>"ordered"</code>) or unordered (<code>"unordered"</code>) (if no specified defaults to ordered).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbols</code></td>
<td>
<p>The symbols to use if writing to a file (defaults to the numbers 0:9 then the letters A to V).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>equalise.weights</code></td>
<td>
<p>Optional that overrides the weights specified above make all characters truly equally weighted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_duplicate_taxa</code></td>
<td>
<p>Logical indicating whether or not to ignore (allow; TRUE) duplicate taxa or not (FALSE; default).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Claddis generally assumes that matrices will be imported into R from the #NEXUS format, but in some cases (e.g., when using simulated data) it might be desirable to build a matrix within R. This function allows the user to convert such a matrix into the format required by other Claddis functions as long as it only contains a single block.
</p>
<p>NB: Currently the function cannot deal directly with costmatrices or continuous characters.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>topper</code></td>
<td>
<p>Contains any header text or costmatrices and pertains to the entire file.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>matrix_N</code></td>
<td>
<p>One or more matrix blocks (numbered 1 to N) with associated information pertaining only to that matrix block. This includes the block name (if specificed, NA if not), the block datatype (one of "CONTINUOUS", "DNA", "NUCLEOTIDE", "PROTEIN", "RESTRICTION", "RNA", or "STANDARD"), the actual matrix (taxa as rows, names stored as rownames and characters as columns), the ordering type of each character (<code>"ordered"</code>, <code>"unordered"</code> etc.), the character weights, the minimum and maximum values (used by Claddis' distance functions), and the original characters (symbols, missing, and gap values) used for writing out the data.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Graeme T. Lloyd <a href="mailto:graemetlloyd@gmail.com">graemetlloyd@gmail.com</a>
</p>


<h3>See Also</h3>

<p>compactify_cladistic_matrix, prune_cladistic_matrix, read_nexus_matrix, safe_taxonomic_reduction, write_nexus_matrix, write_tnt_matrix
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# Create random 10-by-50 matrix:
character_taxon_matrix &lt;- matrix(sample(c("0", "1", "0&amp;1", NA, ""),
  500,
  replace = TRUE
),
nrow = 10, dimnames =
  list(apply(matrix(sample(LETTERS, 40,
    replace = TRUE
  ), nrow = 10), 1, paste,
  collapse = ""
  ), c())
)

# Reformat for use elsewhere in Claddis:
build_cladistic_matrix(character_taxon_matrix)
</code></pre>


</div>