<div class="container">

<table style="width: 100%;"><tr>
<td>plot.plotB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot Bayes dose response curve and dose group means  </h2>

<h3>Description</h3>

<p>Plot a dose response curve fit by Bayes MCMC methods
(with optional posterior interval bars).  Also plot dose
group means (with optional CI bars)
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S3 method for class 'plotB'
plot( x,
	plotDif= FALSE, plotMed= FALSE, 
	plotResid=FALSE, predict= TRUE,
	logScale=FALSE,
	xlim,
	xat=NULL,
	ylim,  
	xlab, 
	ylab,labac='Act Comp',shapeac=8,colac='red',  
	symbolLabel='Group',symbolShape=8,
	symbolColor='red',symbolSize=4, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>plotB</code> object output from function <code>plotB</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotDif</code></td>
<td>
<p>Plot difference between doses and placebo. 
It is assumed the lowest dose is placebo. If <code>activeControl</code>, the
difference is with the active control mean, and the active 
controls are not plotted.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotMed</code></td>
<td>
<p>If TRUE, model-based curves are medians rather than means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotResid</code></td>
<td>
<p>If TRUE, a plot of the residuals formed from the
dose group means minus the posterior dose group means.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predict</code></td>
<td>
<p>When predict=TRUE, predictive intervals for sample dose group
proportions are plotted.  They are gray-shaded bars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>logScale</code></td>
<td>
<p>If <code>TRUE</code>, log scale is used for dose.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>x-axis limits </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xat</code></td>
<td>
<p>The points at which tick-marks are to be drawn. Errors occur if the 
points are outside the range of xlim. By default (when NULL) tickmark locations are    computed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>y-axis limits </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>x-axis label </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>y-axis label </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labac</code></td>
<td>
<p>x-axis label for the active control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>shapeac</code></td>
<td>
<p>Shape of the symbol for the active control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>colac</code></td>
<td>
<p>Color of the symbol for the active control group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbolLabel</code></td>
<td>
<p>Label given to symbol in plot legend.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbolShape</code></td>
<td>
<p>A character vector with names giving the shapes assigned
to different levels of variable <code>symbol</code>.  If a single shape is 
specified, it is replicated for all dose groups.  See package
<code>ggplot2</code> for symbol mappings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbolColor</code></td>
<td>
<p>A character vector with names giving the colors assigned
to different levels of variable <code>symbol</code>.  If a single color is 
specified, it is replicated for all dose groups.  See package
<code>ggplot2</code> for color mappings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>symbolSize</code></td>
<td>
<p>The size of the symbol for the dose group sample means.   
Set <code>symbolSize=0</code> to supress plotting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters (not used)</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Produce additional plots from output of <code>plotB</code> without
any re-computing.  A plot is produced by default on return from the
function.  When active control is specified, the plot is 'printed'
within the function.  If there is a symbol group variable, it must be
specified when <code>plotB</code> is executed.  The symbol label, shape, color,
and size must be re-specified in subsequent plot requests.</p>


<h3>Value</h3>

<p>ggplot object of the dose response curve, which will be plotted by
default unless the output of the plot is assigned.  When an active
control group is present, the value returned is an invisible list with the
ggplot for the dosing data, and a second ggplot for the ac data.</p>


<h3>Note</h3>

<p>PlotB can also be used with draws from a prior distribution to
evaluate the prior dose response curve.
</p>


<h3>Author(s)</h3>

<p> Neal Thomas </p>


<h3>See Also</h3>

<p><code>plotB</code>, <code>plotD</code>,  <code>plot.fitEmax</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
data("metaData")
exdat&lt;-metaData[metaData$taid==6 &amp; metaData$poptype==1,]

prior&lt;-emaxPrior.control(epmu=0,epsca=100,difTargetmu=0,difTargetsca=100,dTarget=80.0,
        p50=3.75,sigmalow=0.01,sigmaup=20)
mcmc&lt;-mcmc.control(chains=3)

msSat&lt;-sum((exdat$sampsize-1)*(exdat$sd)^2)/(sum(exdat$sampsize)-length(exdat$sampsize))
fitout&lt;-fitEmaxB(exdat$rslt,exdat$dose,prior,modType=4,
				count=exdat$sampsize,msSat=msSat,mcmc=mcmc)
parms&lt;-coef(fitout)[,1:4]  #use first intercept

outB&lt;-plotB(exdat$rslt,exdat$dose,parms, sigma2=(sigma(fitout))^2,
			ylab="Change in EDD")
			
plot(outB,plotDif=TRUE)

## End(Not run)

</code></pre>


</div>