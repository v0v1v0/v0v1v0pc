<div class="container">

<table style="width: 100%;"><tr>
<td>cor_smooth</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Smooth a non-positive definite correlation matrix to make it positive definite</h2>

<h3>Description</h3>

<p>Make correlations positive definite using <code>psych::cor.smooth</code>. If smoothing
is done, inferential statistics (<em>p</em>-values, confidence intervals, etc.) are
removed, as they are no longer valid.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cor_smooth(x, method = "psych", verbose = TRUE, ...)

is.positive_definite(x, tol = 10^-12, ...)

is_positive_definite(x, tol = 10^-12, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A correlation matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Smoothing method. Can be <code>psych</code> (will use
<code>psych::cor.smooth()</code>), <code>hj</code> (Jorjani et al., 2003) or <code>lrs</code> (Schaeffer,
2014). For the two last, will use <code>mbend::bend()</code> (check its documentation
for details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>Set to <code>FALSE</code> to silence the function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other arguments to be passed to or from other functions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tol</code></td>
<td>
<p>The minimum eigenvalue to be considered as acceptable.</p>
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">
set.seed(123)
data &lt;- as.matrix(mtcars)
# Make missing data so pairwise correlation matrix is non-positive definite
data[sample(seq_len(352), size = 60)] &lt;- NA
data &lt;- as.data.frame(data)
x &lt;- correlation(data)
is.positive_definite(x)

smoothed &lt;- cor_smooth(x)

</code></pre>


</div>