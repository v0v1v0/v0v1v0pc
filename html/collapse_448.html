<div class="container">

<table style="width: 100%;"><tr>
<td>pad</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Pad Matrix-Like Objects with a Value
</h2>

<h3>Description</h3>

<p>The <code>pad</code> function inserts elements / rows filled with <code>value</code> into a vector matrix or data frame <code>X</code> at positions given by <code>i</code>. It is particularly useful to expand objects returned by statistical procedures which remove missing values to the original data dimensions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pad(X, i, value = NA, method = c("auto", "xpos", "vpos"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>

<p>a vector, matrix, data frame or list of equal-length columns.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>

<p>either an integer (positive or negative) or logical vector giving positions / rows of <code>X</code> into which <code>value</code>'s should be inserted, or, alternatively, a positive integer vector with <code>length(i) == NROW(X)</code>, but with some gaps in the indices into which <code>value</code>'s can be inserted, or a logical vector with <code>sum(i) == NROW(X)</code> such that <code>value</code>'s can be inserted for <code>FALSE</code> values in the logical vector. See also <code>method</code> and Examples.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>

<p>a scalar value to be replicated and inserted into <code>X</code> at positions / rows given by <code>i</code>. Default is <code>NA</code>.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>

<p>an integer or string specifying the use of <code>i</code>. The options are:
</p>

<table>
<tr>
<td style="text-align: left;">
<em> Int. </em>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <em> String </em>   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <em> Description </em>  </td>
</tr>
<tr>
<td style="text-align: left;">
                 1 </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> "auto" </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> automatic method selection: If <code>i</code> is positive integer and <code>length(i) == NROW(X)</code> or if <code>i</code> is logical and <code>sum(i) == NROW(X)</code>, choose method "xpos", else choose "vpos". </td>
</tr>
<tr>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">
                 1 </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> "xpos"   </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <code>i</code> is a vector of positive integers or a logical vector giving the positions of the the elements / rows of <code>X</code>. <code>values</code>'s are inserted where there are gaps / <code>FALSE</code> values in <code>i</code>. </td>
</tr>
<tr>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;"></td>
</tr>
<tr>
<td style="text-align: left;">
                 2 </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> "vpos" </td>
<td style="text-align: left;"></td>
<td style="text-align: left;"> <code>i</code> is a vector of positive / negative integers or a logical vector giving the positions at which <code>values</code>'s / rows should be inserted into <code>X</code>.
  </td>
</tr>
</table>
</td>
</tr>
</table>
<h3>Value</h3>

<p><code>X</code> with elements / rows filled with <code>value</code> inserted at positions given by <code>i</code>.
</p>


<h3>See Also</h3>

<p><code>append</code>, Recode and Replace Values, Small (Helper) Functions, Collapse Overview
</p>


<h3>Examples</h3>

<pre><code class="language-R">v &lt;- 1:3

pad(v, 1:2)       # Automatic selection of method "vpos"
pad(v, -(1:2))    # Same thing
pad(v, c(TRUE, TRUE, FALSE, FALSE, FALSE)) # Same thing

pad(v, c(1, 3:4)) # Automatic selection of method "xpos"
pad(v, c(TRUE, FALSE, TRUE, TRUE, FALSE))  # Same thing

head(pad(wlddev, 1:3)) # Insert 3 missing rows at the beginning of the data
head(pad(wlddev, 2:4)) # ... at rows positions 2-4

# pad() is mostly useful for statistical models which only use the complete cases:
mod &lt;- lm(LIFEEX ~ PCGDP, wlddev)
# Generating a residual column in the original data (automatic selection of method "vpos")
settfm(wlddev, resid = pad(resid(mod), mod$na.action))
# Another way to do it:
r &lt;- resid(mod)
i &lt;- as.integer(names(r))
resid2 &lt;- pad(r, i)        # automatic selection of method "xpos"
# here we need to add some elements as flast(i) &lt; nrow(wlddev)
resid2 &lt;- c(resid2, rep(NA, nrow(wlddev)-length(resid2)))
# See that these are identical:
identical(unattrib(wlddev$resid), resid2)

# Can also easily get a model matrix at the dimensions of the original data
mm &lt;- pad(model.matrix(mod), mod$na.action)

</code></pre>


</div>