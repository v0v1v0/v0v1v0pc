<div class="container">

<table style="width: 100%;"><tr>
<td>tCorpus$fold_rsyntax</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Fold rsyntax annotations</h2>

<h3>Description</h3>

<p>If a tCorpus has rsyntax annotations (see <code>annotate_rsyntax</code>), it can be convenient to aggregate tokens that have a certain semantic label.
For example, if you have a query for labeling "source" and "quote", you can add an aggegated value for the sources (such as a unique ID) as a column, and then remove the quote tokens.
</p>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>annotation</code></td>
<td>
<p>The name of an rsyntax annotation column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>by_label</code></td>
<td>
<p>The labels in this column for which you want to aggregate the tokens</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Specify the new aggregated columns in name-value pairs. The name is the name of the new column, and the value should be a function over a column in $tokens. 
For example:  subject = paste(token, collapse = ' ')  would create the column 'subject', of which the values are the concatenated tokens. See examples for more.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>txt</code></td>
<td>
<p>If TRUE, add _txt column with concatenated tokens for by_label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>rm_by</code></td>
<td>
<p>If TRUE (default), remove the column(s) specified in by_label</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>copy</code></td>
<td>
<p>If TRUE, return a copy of the transformed tCorpus, instead of transforming the tCorpus by reference</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><strong>Usage:</strong>
</p>
<p>## R6 method for class tCorpus. Use as tc$method (where tc is a tCorpus object).
</p>
<pre>
fold_rsyntax(annotation, by_label, ..., 
             to_label=NULL, rm_by=T, copy=F)</pre>


<h3>Examples</h3>

<pre><code class="language-R">tc = tc_sotu_udpipe$copy()
tc$udpipe_clauses()

tc$fold_rsyntax('clause', by_label = 'subject', subject = paste(token, collapse=' '))
tc$tokens
</code></pre>


</div>