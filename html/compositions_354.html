<div class="container">

<table style="width: 100%;"><tr>
<td>idt</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Isometric default transform</h2>

<h3>Description</h3>

<p>Compute the isometric default transform of a vector (or dataset) of
compositions or amounts in the selected class.
</p>


<h3>Usage</h3>

<pre><code class="language-R">          idt(x,...)
          ## Default S3 method:
idt( x,... )
          ## S3 method for class 'acomp'
idt( x ,...)
          ## S3 method for class 'rcomp'
idt( x ,...)
          ## S3 method for class 'aplus'
idt( x ,...)
          ## S3 method for class 'rplus'
idt( x ,...)
          ## S3 method for class 'rmult'
idt( x ,...)
          ## S3 method for class 'ccomp'
idt( x ,...)
          ## S3 method for class 'factor'
idt( x ,...)
          ## S3 method for class 'data.frame'
idt( x ,...)
          idtInv(x,orig=gsi.orig(x),...)
          ## Default S3 method:
idtInv( x ,orig=gsi.orig(x),...)
          ## S3 method for class 'acomp'
idtInv( x ,orig=gsi.orig(x), V=gsi.getV(x),...)
          ## S3 method for class 'rcomp'
idtInv( x ,orig=gsi.orig(x), V=gsi.getV(x),...)
          ## S3 method for class 'aplus'
idtInv( x ,orig=gsi.orig(x),...)
          ## S3 method for class 'rplus'
idtInv( x ,orig=gsi.orig(x),...)
          ## S3 method for class 'ccomp'
idtInv( x ,orig=gsi.orig(x),...)
          ## S3 method for class 'rmult'
idtInv( x ,orig=gsi.orig(x),...)
          ## S3 method for class 'factor'
idtInv( x ,orig=gsi.orig(x), V=gsi.getV(x),...)
          ## S3 method for class 'data.frame'
idtInv( x , orig=gsi.orig(x), ...)

          </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>a classed amount or composition, to be transformed with its
isometric default transform, or its inverse; in case of the method for <code>data.frame</code>
objects, the function attempts to track information about a previous class (in an attribute
<code>origClass</code>, and if found, a transformation is tried with it; for factors, idt expands
the factor according to the contrasts represented by <code>V</code>, or vice-versa.)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>generic arguments past to underlying functions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>orig</code></td>
<td>
<p>a compositional object which should be mimicked
by the inverse transformation. It is the generic
argument. Typically the <code>orig</code> argument is stored as an attribute 
in <code>x</code> and will be extracted automatically by this function; if this
fails, <code>orig</code> can be set equal to the dataset that
was transformed in the first place.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>V</code></td>
<td>
<p>matrix of (<em>transposed, inverted</em>) logcontrasts; 
together with <code>orig</code>, it defines the back-transformation.
Typically the <code>V</code> argument is stored as an attribute 
in <code>x</code> and will be extracted automatically by this function; if this
fails, <code>V</code> must be manually set to the matrix V used in the idt/ilr/ipt
calculations. Argument not used in amounts or counts geometries.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The general idea of this package is to analyse the same data with
different geometric concepts, in a fashion as similar as possible. For each of the
four concepts there exists an isometric transform expressing the geometry
in a full-rank euclidean vector space. Such a transformation is computed 
by <code>idt</code>. For <code>acomp</code> the transform is <code>ilr</code>, for
<code>rcomp</code> it is <code>ipt</code>, for 
<code>aplus</code> it is <code>ilt</code>, and for
<code>rplus</code> it is <code>iit</code>. Keep in mind that the
transform does not keep the variable names, since there is no guaranteed 
one-to-one relation between the original parts and each transformed
variable.
<br>
The inverse <code>idtInv</code> is intended to allow for an "easy" and automatic 
back-transformation, without intervention of the user. The argument <code>orig</code> 
(the one determining the behaviour of <code>idtInv</code> as a generic function) 
tells the function which back-transformation should be applied, and
gives the column names of <code>orig</code> to the back-transformed
values of <code>x</code>. Therefore, it is very conventient to give the original classed
data set used in the analysis as <code>orig</code>.
</p>


<h3>Value</h3>

<p>A corresponding matrix of row-vectors containing the transforms. (Exception: idt.data.frame can return a data.frame if the input has no "origClass"-attribute)
</p>


<h3>Author(s)</h3>

<p>R. Tolosana-Delgado, K.Gerald v.d. Boogaart <a href="http://www.stat.boogaart.de">http://www.stat.boogaart.de</a></p>


<h3>References</h3>

<p>van den Boogaart, K.G. and R. Tolosana-Delgado (2008) "compositions": a unified 
R package to analyze Compositional Data, <em>Computers &amp;
Geosciences</em>, 34 (4), pages 320-338, doi: <a href="https://doi.org/10.1016/j.cageo.2006.11.017">10.1016/j.cageo.2006.11.017</a>.
</p>


<h3>See Also</h3>

<p><code>backtransform</code>, <code>cdt</code>, <code>ilr</code>, <code>ipt</code>,
<code>ilt</code>, <code>cdtInv</code>, <code>ilrInv</code>, <code>iptInv</code>, 
<code>iltInv</code>, <code>iitInv</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
# the idt is defined by
idt         &lt;- function(x) UseMethod("idt",x)
idt.default &lt;- function(x) x
idt.acomp   &lt;- function(x) ilr(x) 
idt.rcomp   &lt;- function(x) ipt(x) 
idt.aplus   &lt;- ilt 
idt.rplus   &lt;- iit 

## End(Not run)
idt(acomp(1:5))
idt(rcomp(1:5))
  data(Hydrochem)
  x = Hydrochem[,c("Na","K","Mg","Ca")]
  y = acomp(x)
  z = idt(y)
  y2 = idtInv(z,y)
  par(mfrow=c(2,2))
  for(i in 1:4){plot(y[,i],y2[,i])}
</code></pre>


</div>