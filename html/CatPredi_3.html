<div class="container">

<table style="width: 100%;"><tr>
<td>catpredi</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Function to obtain optimal cut points to categorise a continuous predictor variable in a logistic regression model</h2>

<h3>Description</h3>

<p>Returns an object with the optimal cut points to categorise a continuous predictor variable in a logistic regression model</p>


<h3>Usage</h3>

<pre><code class="language-R">catpredi(formula, cat.var, cat.points = 1, data,
method = c("addfor", "genetic"), range = NULL, 
correct.AUC = TRUE, control = controlcatpredi(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>An object of class <code>formula</code> giving the model to be fitted in addition to the continuous covariate
is aimed to categorise. This argument allows the user to specify whether the continuous predictor should
be categorised in a univariable context, or in presence of other covariates or cofounders, i.e in
a multiple logistic regression model. For instance, Y ~ 1 indicates that the categorisation should be done
in a univariable setting, with Y being the response variable. If the predictor variable is aimed to be categorised 
in a multivariable setting, this argument allows to specify whether the covariates should be modelled using linear
or non linear effects. In the latest, the effects are estimated using the <code>mgcv</code> package. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cat.var</code></td>
<td>
<p>Name of the continuous variable to categorise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cat.points</code></td>
<td>
<p>Number of cut points to look for.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>Data frame containing all needed variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>The algorithm selected to search for the optimal cut points. "addfor" if the AddFor algorithm is choosen and "genetic" otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>range</code></td>
<td>
<p>The range of the continuous variable in which to look for the cut points. By default NULL, i.e, all the range.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct.AUC</code></td>
<td>
<p>A logical value. If TRUE the bias corrected AUC is estimated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>Output of the controlcatpredi() function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments for passing on to the function <code>genoud</code> of the package <code>rgenoud</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns an object of class "catpredi" with the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>the matched call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>the algorithm selected in the call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>an object of class <code>formula</code> giving the model to be fitted in addition to the continuous covariate
is aimed to categorise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cat.var</code></td>
<td>
<p>name of the continuous variable to categorise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>the data frame with the variables used in the call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>correct.AUC</code></td>
<td>
<p>The logical value used in the call.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results</code></td>
<td>
<p>a list with the estimated cut points, AUC and bias corrected AUC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>the control parameters used in the call.</p>
</td>
</tr>
</table>
<p>For each of the methods used in the call, a list with the following components is obtained:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>"cutpoints"</code></td>
<td>
<p>Estimated optimal cut points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"AUC"</code></td>
<td>
<p>Estimated AUC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>"AUC.cor"</code></td>
<td>
<p>Estimated bias corrected AUC.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Irantzu Barrio, Maria Xose Rodriguez-Alvarez and Inmaculada Arostegui
</p>


<h3>References</h3>

<p>I Barrio, I Arostegui, M.X Rodriguez-Alvarez and  J.M Quintana (2015). A new approach to categorising continuous variables in prediction models: proposal and validation. <em>Statistical Methods in Medical Research</em> (in press).
</p>
<p>S.N Wood (2006). Generalized Additive Models: An Introduction with R. Chapman and Hall/CRC.
</p>


<h3>See Also</h3>

<p>See Also as <code>controlcatpredi</code>, <code>comp.cutpoints</code>, <code>plot.catpredi</code>, 
<code>summary.catpredi</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(CatPredi)


set.seed(127)
#Simulate data
  n = 200
  #Predictor variable
  xh &lt;- rnorm(n, mean = 0, sd = 1)
  xd &lt;- rnorm(n, mean = 1.5, sd = 1)
  x &lt;- c(xh, xd)
  #Response
  y &lt;- c(rep(0,n), rep(1,n))
  #Covariate
  zh &lt;- rnorm(n, mean=1.5, sd=1)
  zd &lt;- rnorm(n, mean=1, sd=1)
  z &lt;- c(zh, zd)
  # Data frame
  df &lt;- data.frame(y = y, x = x, z = z)
  
  # Select optimal cut points using the AddFor algorithm
  res.addfor &lt;- catpredi(formula = y ~ z, cat.var = "x", cat.points = 3, 
  data = df, method = "addfor", range=NULL, correct.AUC=FALSE)
 </code></pre>


</div>