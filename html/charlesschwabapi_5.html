<div class="container">

<table style="width: 100%;"><tr>
<td>get_authentication_tokens</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get Authentication Tokens</h2>

<h3>Description</h3>

<p>Given the app key, redirect uri, and app secret, this function
will walk the user through the process to gather the appropriate
authentication tokens (access token and refresh token) and store
them in the user's specified location (if no location is specified,
it will store the tokens in the user's working directory). Note that
the tokens are saved in an RDS file via a list since additional
metadata is captured in addition to the tokens (such as the expiration
of those tokens to help with knowing when to refresh). After this function
is initially called, be sure use the same path to the token for future calls
along with maintaining the default name that is used for
the RDS file to avoid manual reauthentication whenever possible.
This function will always first look to see if an RDS file exists
at the specified path and with the default name to check if tokens
are valid or expired. Authentication requires no user intervention
when the refresh token is valid. User intervention (via the login
method through a separate browser) is only required when both the
access token and the refresh token are expired.
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_authentication_tokens(
  app_key,
  redirect_uri,
  app_secret,
  token_save_path = getwd()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>app_key</code></td>
<td>
<p>application key generated by Charles Schwab (character)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>redirect_uri</code></td>
<td>
<p>redirect URI specified when registering application (character)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>app_secret</code></td>
<td>
<p>application secret generated by Charles Schwab (character)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>token_save_path</code></td>
<td>
<p>path to current token or where you would like token stored. Default is the working directory (character)</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a message on whether the authentication
was successful or not along with token information
(if successful, NULL otherwise), including the path
to where the token RDS object is saved.
</p>


<h3>Author(s)</h3>

<p>Nick Bultman, <a href="mailto:njbultman74@gmail.com">njbultman74@gmail.com</a>, June 2024
</p>


</div>