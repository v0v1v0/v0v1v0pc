<div class="container">

<table style="width: 100%;"><tr>
<td>CVpredict</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>A predict generic function for condvis</h2>

<h3>Description</h3>

<p>A predict generic function for condvis
</p>


<h3>Usage</h3>

<pre><code class="language-R">CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)

## Default S3 method:
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  pinterval = NULL,
  pinterval_level = 0.95,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'lm'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  pinterval = NULL,
  pinterval_level = 0.95,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'glm'
CVpredict(
  fit,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  pinterval = NULL,
  pinterval_level = 0.95,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'lda'
CVpredict(
  fit,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'qda'
CVpredict(
  fit,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'nnet'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'randomForest'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'ranger'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'rpart'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'tree'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'C5.0'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'svm'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'gbm'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  n.trees = fit$n.trees,
  ptrans = NULL
)

## S3 method for class 'loess'
CVpredict(fit, newdata = NULL, ...)

## S3 method for class 'ksvm'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'glmnet'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  s = NULL,
  makex = NULL
)

## S3 method for class 'cv.glmnet'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  makex = NULL
)

## S3 method for class 'glmnet.formula'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  s = NULL
)

## S3 method for class 'cv.glmnet.formula'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'keras.engine.training.Model'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  batch_size = 32,
  response = NULL,
  predictors = NULL
)

## S3 method for class 'kde'
CVpredict(fit, newdata = fit$x, ..., scale = TRUE)

## S3 method for class 'densityMclust'
CVpredict(
  fit,
  newdata = NULL,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  scale = TRUE
)

## S3 method for class 'MclustDA'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'MclustDR'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'Mclust'
CVpredict(
  fit,
  newdata,
  ...,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'train'
CVpredict(
  fit,
  newdata,
  ...,
  type = "response",
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'bartMachine'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'wbart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'lbart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'pbart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'bart'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL
)

## S3 method for class 'model_fit'
CVpredict(
  fit,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)

## S3 method for class 'WrappedModel'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)

## S3 method for class 'Learner'
CVpredict(
  fit,
  newdata,
  ...,
  type = NULL,
  ptype = "pred",
  pthreshold = NULL,
  ylevels = NULL,
  ptrans = NULL,
  pinterval = NULL,
  pinterval_level = 0.95
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fit</code></td>
<td>
<p>A fitted model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>newdata</code></td>
<td>
<p>Where to calculate predictions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>extra arguments to predict</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptype</code></td>
<td>
<p>One of "pred","prob" or "probmatrix"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pthreshold</code></td>
<td>
<p>Used for calculating classes from probs, in the two class case</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylevels</code></td>
<td>
<p>The levels of the response, when it is a factor</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ptrans</code></td>
<td>
<p>A function to apply to the result</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pinterval</code></td>
<td>
<p>NULL, "confidence" or "prediction". Only for lm, parsnip, mlr(regression, confidence only)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pinterval_level</code></td>
<td>
<p>Defaults to 0.95</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>type</code></td>
<td>
<p>For some predict methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n.trees</code></td>
<td>
<p>Used by CVpredict.gbm, passed to predict</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>s</code></td>
<td>
<p>Used by CVpredict.glmnet and CVpredict.cv.glmnet, passed to predict</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>makex</code></td>
<td>
<p>Used by CVpredict.glmnet and CVpredict.cv.glmnet. A function to construct xmatrix for predict.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>batch_size</code></td>
<td>
<p>Used by CVpredict.keras.engine.training.Model, passed to predict</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>Used by CVpredict.keras.engine.training.Model. Name of response (optional)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictors</code></td>
<td>
<p>Used by CVpredict.keras.engine.training.Model. Name of predictors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>Used by CVpredict for densities. If TRUE (default) rescales the conditional density to integrate to 1.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is a wrapper for predict used by condvis.
When the model response is numeric, the result is a vector of predictions.
When the model response is a factor the result depends on the value of ptype.
If ptype="pred", the result is a factor.
If also threshold is numeric, it is used to threshold a numeric prediction to construct the factor
when the factor has two levels.
For ptype="prob", the result is a vector of probabilities for the last factor level.
For ptype="probmatrix", the result is a matrix  of probabilities for each factor level.
</p>


<h3>Value</h3>

<p>a vector of predictions, or a matrix when type is "probmatrix"
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>CVpredict(default)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(lm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(glm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(lda)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(qda)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(nnet)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(randomForest)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(ranger)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(rpart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(tree)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(C5.0)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(svm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(gbm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(loess)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(ksvm)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(glmnet)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(cv.glmnet)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(glmnet.formula)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(cv.glmnet.formula)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(keras.engine.training.Model)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(kde)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(densityMclust)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(MclustDA)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(MclustDR)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(Mclust)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(train)</code>: CVpredict method for caret
</p>
</li>
<li> <p><code>CVpredict(bartMachine)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(wbart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(lbart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(pbart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(bart)</code>: CVpredict method
</p>
</li>
<li> <p><code>CVpredict(model_fit)</code>: CVpredict method for parsnip
</p>
</li>
<li> <p><code>CVpredict(WrappedModel)</code>: CVpredict method for mlr
</p>
</li>
<li> <p><code>CVpredict(Learner)</code>: CVpredict method for mlr3
</p>
</li>
</ul>
<h3>Examples</h3>

<pre><code class="language-R">#Fit a model. 
f &lt;- lm(Fertility~ ., data=swiss)
CVpredict(f)

#Fit a model with a factor response
swiss1 &lt;- swiss
swiss1$Fertility &lt;-  cut(swiss$Fertility, c(0,80,100))
levels(swiss1$Fertility)&lt;- c("lo", "hi")
f &lt;- glm(Fertility~ ., data=swiss1, family="binomial")
CVpredict(f) # by default gives a factor
CVpredict(f, ptype="prob") # gives prob of level hi
CVpredict(f, ptype="probmatrix") # gives prob of both levels
</code></pre>


</div>