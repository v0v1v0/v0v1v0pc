<div class="container">

<table style="width: 100%;"><tr>
<td>recode_missing_visits</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Recode Missing or Ambiguous UDS in a Subject Use Pattern</h2>

<h3>Description</h3>

<p>Replace all missing UDS <code>"o"</code> in a use pattern string
</p>


<h3>Usage</h3>

<pre><code class="language-R">recode_missing_visits(
  use_pattern,
  missing_is = "o",
  missing_becomes = c("+", "", "-")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>use_pattern</code></td>
<td>
<p>A character string showing the daily, by visit, or weekly
substance use pattern for a single subject</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_is</code></td>
<td>
<p>Which single character is used to mark missing UDS in a
use pattern string? Defaults to <code>"o"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>missing_becomes</code></td>
<td>
<p>How should missing UDS be treated? Defaults to marking
the subject as positive for that missing period. Options are <code>"+"</code> for
positive, <code>""</code> for ignore, or <code>"-"</code> for negative (note that this
last option should only be used in case where the "missing" UDS is a
regular and expected artefact of the study design and the preceding and
following UDS are both negative).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>At current, we allow for many symbols in the use pattern "word",
such as "_" for missing by study design, "o" missing for protocol
non-compliance (the most common form of missing), "+" for positive, "-" for
negative, and "*" for mixed positive and negative results (this usually
comes up when the visit represents multiple days and there are both
positive and negative results in those days; for example, a subject is
tested weekly; they provided a positive test on Tuesday but came back to
provide a negative test the following day).
</p>


<h3>Value</h3>

<p>A character string with all missing UDS values (marked as <code>"o"</code>
unless a different value is supplied to <code>missing_is</code>) replaces by the
value supplied to <code>missing_becomes</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">  pattern_char &lt;- "__++++*o-------+--+-o-o-o+o+"
  
  # Default: change all missing weeks to positive
  recode_missing_visits(pattern_char)
  
  # Other example: remove all weeks with no UDS by design
  recode_missing_visits(pattern_char, missing_is = "_", missing_becomes = "")
  
</code></pre>


</div>