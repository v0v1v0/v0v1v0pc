<div class="container">

<table style="width: 100%;"><tr>
<td>ms_dynam</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Member state dynamics</h2>

<h3>Description</h3>

<p>A ggplot object time by countries where coloured rectangles show the departure
from the mean after partitioning into intervals (-Inf, m-1 s, m-0.5 s, m+0.5 s, m+1 s, Inf).
Note that the following convention is adopted where the colour of labels changes depending on the type of indicator,
i.e. "lowBest" or "highBest":
</p>


<h3>Usage</h3>

<pre><code class="language-R">ms_dynam(
  myTB,
  timeName = "time",
  displace = 0.25,
  displaceh = 0.45,
  dimeFontNum = 5,
  myfont_scale = 1.35,
  x_angle = 45,
  axis_name_y = "Countries",
  axis_name_x = "Time",
  alpha_color = 0.9,
  indiType = "highBest"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>myTB</code></td>
<td>
<p>dataset time by countries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timeName</code></td>
<td>
<p>a string, name of the time variable.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>displace</code></td>
<td>
<p>rectangle half height.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>displaceh</code></td>
<td>
<p>rectangle half base.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dimeFontNum</code></td>
<td>
<p>size of font.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>myfont_scale</code></td>
<td>
<p>axes magnification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_angle</code></td>
<td>
<p>angle of x axis labels.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis_name_y</code></td>
<td>
<p>name of y axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>axis_name_x</code></td>
<td>
<p>name of x axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_color</code></td>
<td>
<p>transparency.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indiType</code></td>
<td>
<p>is a string: "highBest" or "lowBest" to define the type
of indicator.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>* (-Inf, m -1 s] is labelled as -1; it is coloured in dark green for "lowBest" type of indicator
and in red for "highBest" type of indicator;
* (m -1 s, m -0.5 s] is labelled as -0.5; it is coloured in pale green for "lowBest" type of indicator
and in yellow (ocra) for "highBest" type of indicator;
* (m -0.5 s,m +0.5 s ] is labelled as 0; it is coloured in pale yellow for both "lowBest" and "highBest
types of indicators;
* (m +0.5 s, m +1 s] is labelled as 0.5; it is coloured in  yellow (ocra) for "lowBest" type of indicator
and in pale green for "highBest" type of indicator;
* (m +1 s, Inf] is labelled as 1; it is coloured in red for "lowBest" type of indicator
and in dark green for "highBest" type of indicator.
</p>


<h3>Value</h3>

<p>a ggplot object to be displayed or saved using ggsave.
</p>


<h3>References</h3>

<p><a href="https://www.eurofound.europa.eu/system/files/2022-04/introduction-to-the-convergeu-package-0.6.4-tutorial-v2-apr2022.pdf">https://www.eurofound.europa.eu/system/files/2022-04/introduction-to-the-convergeu-package-0.6.4-tutorial-v2-apr2022.pdf</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">


# Example 1: "lowBest" type of indicator:
# Dataset in the format time by countries:
require(tibble)
testTB &lt;- dplyr::tribble(
    ~time, ~countryA ,  ~countryB,  ~countryC,
    2000,     0.8,   2.7,    3.9,
    2001,     1.2,   3.2,    4.2,
    2002,     0.9,   2.9,    4.1,
    2003,     1.3,   2.9,    4.0,
    2004,     1.2,   3.1,    4.1,
    2005,     1.2,   3.0,    4.0
    )

# Calculate scoreboards for countries:
res&lt;-scoreb_yrs(testTB, timeName = "time")

# Extract the component "sco_level_num" from "res"
resTB&lt;-res$res$sco_level_num

# Plot the departures from the mean for each country:
ms_dynam ( resTB,
    timeName = "time",
    displace = 0.25,
    displaceh = 0.45,
    dimeFontNum = 5,
    myfont_scale = 1.35,
    x_angle = 45,
    axis_name_y = "Countries",
    axis_name_x = "Time",
    alpha_color = 0.9,
    indiType = "lowBest")

# Plot the departures from the mean for some years only:
# Extract results from sco_level_num" for some years only:
estrattore &lt;- resTB[["time"]] &gt;= 2001 &amp; resTB[["time"]] &lt;= 2004
scobelvl &lt;- dplyr::filter(resTB, estrattore)

# Plot the countries dynamics
ms_dynam ( scobelvl,
    timeName = "time",
    displace = 0.25,
    displaceh = 0.45,
    dimeFontNum = 5,
    myfont_scale = 1.35,
    x_angle = 45,
    axis_name_y = "Countries",
    axis_name_x = "Time",
    alpha_color = 0.9,
    indiType = "lowBest"
    )

# Example 2: "highBest" type of indicator:
# Scoreboards of Member States for the emp_20_64_MS Eurofound dataset:
data(emp_20_64_MS)

# Extract the component "sco_level_num
sco_lvl &lt;- scoreb_yrs(emp_20_64_MS,timeName = "time")$res$sco_level_num

# Extract the results from 2009 to 2016
estrattore1 &lt;- sco_lvl[["time"]] &gt;= 2009 &amp; sco_lvl[["time"]] &lt;= 2016
scobelvl1 &lt;- dplyr::filter(sco_lvl, estrattore1)
# Plot the departures from the mean for the EU Member States:
ms_dynam( scobelvl1,
    timeName = "time",
    displace = 0.25,
    displaceh = 0.45,
    dimeFontNum = 3,
    myfont_scale = 1.35,
    x_angle = 45,
    axis_name_y = "Countries",
    axis_name_x = "Time",
    alpha_color = 0.9,
    indiType = "highBest")

# Extract the results for Member States from 2007 to 2012:
estrattore2 &lt;- sco_lvl[["time"]] &gt;= 2007 &amp; sco_lvl[["time"]] &lt;= 2012
scobelvl2 &lt;- dplyr::filter(sco_lvl, estrattore2)

# Plot the departures from the mean:
ms_dynam( scobelvl2,
    timeName = "time",
    displace = 0.25,
    displaceh = 0.45,
    dimeFontNum = 3,
    myfont_scale = 1.35,
    x_angle = 45,
    axis_name_y = "Countries",
    axis_name_x = "Time",
    alpha_color = 0.9,
    indiType = "highBest")



</code></pre>


</div>