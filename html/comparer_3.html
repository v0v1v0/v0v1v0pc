<div class="container">

<table style="width: 100%;"><tr>
<td>mbc</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Model benchmark compare</h2>

<h3>Description</h3>

<p>Compare the run time and output of various code chunks
</p>


<h3>Usage</h3>

<pre><code class="language-R">mbc(
  ...,
  times = 5,
  input,
  inputi,
  evaluator,
  post,
  target,
  targetin,
  metric = "rmse",
  paired,
  kfold
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Functions to run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>times</code></td>
<td>
<p>Number of times to run</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>input</code></td>
<td>
<p>Object to be passed as input to each function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputi</code></td>
<td>
<p>Function to be called with the replicate number then passed to each function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>evaluator</code></td>
<td>
<p>An expression that the ... expressions will be passed as "." for evaluation.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>post</code></td>
<td>
<p>Function or expression (using ".") to post-process results.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>Values the functions are expected to (approximately) return.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetin</code></td>
<td>
<p>Values that will be given to the result of the run to produce output.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>metric</code></td>
<td>
<p>c("rmse", "t", "mis90", "sr27") Metric used to compare output values to target.
mis90 is the mean interval score for 90% confidence, see Gneiting and Raftery (2007).
sr27 is the scoring rule given in Equation 27 of Gneiting and Raftery (2007).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>paired</code></td>
<td>
<p>Should the results be paired for comparison?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kfold</code></td>
<td>
<p>First element should be the number of elements that are being
split into groups. If the number of folds is different from 'times', then
the second argument is the number of folds.
Use 'ki' in 'inputi' and 'targeti' to select elements in the current fold.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Data frame of comparison results
</p>


<h3>References</h3>

<p>Gneiting, T., &amp; Raftery, A. E. (2007). Strictly proper scoring rules, prediction, and estimation. Journal of the American Statistical Association, 102(477), 359-378.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Compare distribution of mean for different sample sizes
mbc(mean(rnorm(1e2)),
    mean(rnorm(1e4)),
    times=20)

# Compare mean and median on same data
mbc(mean(x),
    median(x),
    inputi={x=rexp(1e2)})

# input given, no post
mbc({Sys.sleep(rexp(1, 30));mean(x)},
     {Sys.sleep(rexp(1, 5));median(x)},
    inputi={x=runif(100)})

# input given with post
mbc(mean={Sys.sleep(rexp(1, 30));mean(x)},
    med={Sys.sleep(rexp(1, 5));median(x)},
    inputi={x=runif(100)},
    post=function(x){c(x+1, x^2)})

# input given with post, 30 times
mbc(mean={Sys.sleep(rexp(1, 30));mean(x)+runif(1)},
    med={Sys.sleep(rexp(1, 50));median(x)+runif(1)},
    inputi={x=runif(100)},
    post=function(x){c(x+1, x^2)}, times=10)

# Name one function and post
mbc({mean(x)+runif(1)},
    a1={median(x)+runif(1)},
    inputi={x=runif(100)},
    post=function(x){c(rr=x+1, gg=x^2)}, times=10)

# No input
m1 &lt;- mbc(mean={x &lt;- runif(100);Sys.sleep(rexp(1, 30));mean(x)},
          med={x &lt;- runif(100);Sys.sleep(rexp(1, 50));median(x)})
</code></pre>


</div>