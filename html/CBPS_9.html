<div class="container">

<table style="width: 100%;"><tr>
<td>CBMSM.fit</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>CBMSM.fit</h2>

<h3>Description</h3>

<p>CBMSM.fit
</p>


<h3>Usage</h3>

<pre><code class="language-R">CBMSM.fit(
  treat,
  X,
  id,
  time,
  MultiBin.fit,
  twostep,
  msm.variance,
  time.vary,
  init,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>treat</code></td>
<td>
<p>A vector of treatment assignments.  For N observations over T
time periods, the length of treat should be N*T.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>A covariate matrix.  For N observations over T time periods, X
should have N*T rows.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>A vector which identifies the unit associated with each row of
treat and X.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time</code></td>
<td>
<p>A vector which identifies the time period associated with each
row of treat and X.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MultiBin.fit</code></td>
<td>
<p>A parameter for whether the multiple binary treatments
occur concurrently (<code>FALSE</code>) or over consecutive time periods
(<code>TRUE</code>) as in a marginal structural model.  Setting type = "MultiBin"
when calling <code>CBMSM</code> will set MultiBin.fit to <code>TRUE</code> when
CBMSM.fit is called.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>twostep</code></td>
<td>
<p>Set to <code>TRUE</code> to use a two-step estimator, which will
run substantially faster than continuous-updating.  Default is <code>FALSE</code>,
which uses the continuous-updating estimator described by Imai and Ratkovic
(2014).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>msm.variance</code></td>
<td>
<p>Default is <code>FALSE</code>, which uses the low-rank
approximation of the variance described in Imai and Ratkovic (2014).  Set to
<code>TRUE</code> to use the full variance matrix.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>time.vary</code></td>
<td>
<p>Default is <code>FALSE</code>, which uses the same coefficients
across time period.  Set to <code>TRUE</code> to fit one set per time period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>init</code></td>
<td>
<p>Default is <code>"opt"</code>, which uses CBPS and logistic regression
starting values, and chooses the one that achieves the best balance.  Other options 
are "glm" and "CBPS"</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Other parameters to be passed through to <code>optim()</code></p>
</td>
</tr>
</table>
</div>