<div class="container">

<table style="width: 100%;"><tr>
<td>pcaCV</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Determine the number of PCA components with repeated cross validation </h2>

<h3>Description</h3>

<p>By splitting data into training and test data repeatedly the number of
principal components can be determined by inspecting the distribution
of the explained variances.
</p>


<h3>Usage</h3>

<pre><code class="language-R">pcaCV(X, amax, center = TRUE, scale = TRUE, repl = 50, segments = 4, 
segment.type = c("random", "consecutive", "interleaved"), length.seg, trace = FALSE, 
plot.opt = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p> numeric data frame or matrix </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>amax</code></td>
<td>
<p> maximum number of components for evaluation </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>center</code></td>
<td>
<p> should the data be centered? TRUE or FALSE  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p> should the data be scaled? TRUE or FALSE  </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>repl</code></td>
<td>
<p> number of replications of the CV procedure </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segments</code></td>
<td>
<p> number of segments for CV </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>segment.type</code></td>
<td>
<p> "random", "consecutive", "interleaved" splitting into training 
and test data </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>length.seg</code></td>
<td>
<p> number of parts for training and test data, overwrites segments </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>trace</code></td>
<td>
<p> if TRUE intermediate results are reported </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.opt</code></td>
<td>
<p> if TRUE the results are shown by boxplots </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> additional graphics parameters, see <code>par</code> </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For cross validation the data are split into a number of segments, PCA is
computed (using 1 to amax components) for all but one segment, and the 
scores of the segment left out are calculated. This is done in turn, by 
omitting each segment one time. Thus, a complete score matrix results for
each desired number of components, and the error martrices of fit can be
computed. A measure of fit is the explained variance, which is computed
for each number of components. Then the whole procedure is repeated
(repl times), which results in repl numbers of explained variance for
1 to amax components, i.e. a matrix. The matrix is presented by boxplots,
where each boxplot summarized the explained variance for a certain number
of principal components.
</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ExplVar </code></td>
<td>
<p>matrix with explained variances, repl rows, and amax columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>MSEP </code></td>
<td>
<p>matrix with MSEP values, repl rows, and amax columns</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p> Peter Filzmoser &lt;P.Filzmoser@tuwien.ac.at&gt; </p>


<h3>References</h3>

<p> K. Varmuza and P. Filzmoser: Introduction to Multivariate Statistical 
Analysis in Chemometrics. CRC Press, Boca Raton, FL, 2009. </p>


<h3>See Also</h3>

<p><code>princomp</code></p>


<h3>Examples</h3>

<pre><code class="language-R">data(glass)
x.sc &lt;- scale(glass)
resv &lt;- clvalidity(x.sc,clnumb=c(2:5))
</code></pre>


</div>