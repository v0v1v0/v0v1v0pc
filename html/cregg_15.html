<div class="container">

<table style="width: 100%;"><tr>
<td>mm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Marginal Means</h2>

<h3>Description</h3>

<p>Calculate (descriptive) marginal means (MMs) from a conjoint design
</p>


<h3>Usage</h3>

<pre><code class="language-R">mm(
  data,
  formula,
  id = ~0,
  weights = NULL,
  feature_order = NULL,
  feature_labels = NULL,
  level_order = c("ascending", "descending"),
  alpha = 0.05,
  h0 = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A data frame containing variables specified in <code>formula</code>. All RHS variables should be factors.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>A formula specifying an outcome (LHS) and conjoint features (RHS) to describe. All variables should be factors; all levels across features should be unique, with constraints specified with an asterisk (*) between features, as in <code>amce</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>id</code></td>
<td>
<p>An RHS formula specifying a variable holding respondent identifiers, to be used for clustering standard errors. By default, data are unclustered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weights</code></td>
<td>
<p>An (optional) RHS formula specifying a variable holding survey weights.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature_order</code></td>
<td>
<p>An (optional) character vector specifying the names of feature (RHS) variables in the order they should be encoded in the resulting data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>feature_labels</code></td>
<td>
<p>A named list of “fancy” feature labels to be used in output. By default, the function looks for a “label” attribute on each variable in <code>formula</code> and uses that for pretty printing. This argument overrides those attributes or otherwise provides fancy labels for this purpose. This should be a list with names equal to variables on the righthand side of <code>formula</code> and character string values; arguments passed here override variable attributes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>level_order</code></td>
<td>
<p>A character string specifying levels (within each feature) should be ordered increasing or decreasing in the final output. This is mostly only consequential for plotting via <code>plot.cj_mm</code>, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>
<p>A numeric value indicating the significance level at which to calculate confidence intervals for the MMs (by default 0.95, meaning 95-percent CIs are returned).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>h0</code></td>
<td>
<p>A numeric value specifying a null hypothesis value to use when generating z-statistics and p-values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Ignored.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>mm</code> provides descriptive representations of conjoint data as marginal means (MMs), which represent the mean outcome across all appearances of a particular conjoint feature level, averaging across all other features. In forced choice conjoint designs with two profiles per choice task, MMs by definition average 0.5 with values above 0.5 indicating features that increase profile favorability and values below 0.5 indicating features that decrease profile favorability. For continuous outcomes, MMs can take any value in the full range of the outcome.
</p>
<p>But note that if feature levels can co-occur, such that both alternatives share a feature level, then the MMs on forced choice outcomes are bounded by the probability of co-occurrence (as a lower bound) and 1 minus that probability as an upper bound.
</p>
<p>Plotting functionality is provided in <code>plot.cj_mm</code>.
</p>


<h3>Value</h3>

<p>A data frame of class “cj_mm”
</p>


<h3>See Also</h3>

<p><code>mm_diffs</code> <code>plot.cj_mm</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
data(immigration)
# marginal means
mm(immigration, ChosenImmigrant ~ Gender + Education + LanguageSkills,
   id = ~ CaseID, h0 = 0.5)

# higher-order marginal means with feature interactions
immigration$language_entry &lt;- 
  interaction(immigration$LanguageSkills, immigration$PriorEntry, sep = "_")
mm(immigration, ChosenImmigrant ~ language_entry,
   id = ~CaseID)

</code></pre>


</div>