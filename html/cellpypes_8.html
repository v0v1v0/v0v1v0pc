<div class="container">

<table style="width: 100%;"><tr>
<td>knn_refine</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Refine cell type labels with knn classifier</h2>

<h3>Description</h3>

<p>Assigns the label that most neighbors have, given it is more than
<code>min_knn_prob</code>.
I've found empirically on the MALT data that <code>min_knn_prob=0.5</code> gives
good results, whether you classify the entire data set or just a single
cell type.
It simply excludes some of the cells that have more than 2 cell types in their
neighborhood and none is much stronger than the others,
so this is a reasonable, conservative filtering.
</p>


<h3>Usage</h3>

<pre><code class="language-R">knn_refine(labels, neighbors, min_knn_prob = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>Cell type labels as character or factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>neighbors</code></td>
<td>
<p>Neighbor graph, pass <code>obj$neighbors</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_knn_prob</code></td>
<td>
<p>Value between 0 and 1, defaults to 0.5.
If the 'winning label' is below this proportion of kNN that have it,
knn_refine will return "Unassigned".</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Character vector with refined labels.
</p>


</div>