<div class="container">

<table style="width: 100%;"><tr>
<td>estimateCompetingRiskSurvival</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Estimate survival for a given event and competing risk of interest using
cohorts in the OMOP Common Data Model</h2>

<h3>Description</h3>

<p>Estimate survival for a given event and competing risk of interest using
cohorts in the OMOP Common Data Model
</p>


<h3>Usage</h3>

<pre><code class="language-R">estimateCompetingRiskSurvival(
  cdm,
  targetCohortTable,
  targetCohortId = NULL,
  outcomeCohortTable,
  outcomeCohortId = NULL,
  outcomeDateVariable = "cohort_start_date",
  outcomeWashout = Inf,
  competingOutcomeCohortTable,
  competingOutcomeCohortId = NULL,
  competingOutcomeDateVariable = "cohort_start_date",
  competingOutcomeWashout = Inf,
  censorOnCohortExit = FALSE,
  censorOnDate = NULL,
  followUpDays = Inf,
  strata = NULL,
  eventGap = 30,
  estimateGap = 1,
  restrictedMeanFollowUp = NULL,
  minimumSurvivalDays = 1,
  minCellCount = 5,
  returnParticipants = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>cdm</code></td>
<td>
<p>CDM reference</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetCohortTable</code></td>
<td>
<p>targetCohortTable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>targetCohortId</code></td>
<td>
<p>targetCohortId</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcomeCohortTable</code></td>
<td>
<p>The outcome cohort table of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcomeCohortId</code></td>
<td>
<p>ID of event cohorts to include. Only one outcome
(and so one ID) can be considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcomeDateVariable</code></td>
<td>
<p>Variable containing date of outcome event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outcomeWashout</code></td>
<td>
<p>Washout time in days for the outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>competingOutcomeCohortTable</code></td>
<td>
<p>The competing outcome cohort table of interest.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>competingOutcomeCohortId</code></td>
<td>
<p>ID of event cohorts to include. Only one competing outcome
(and so one ID) can be considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>competingOutcomeDateVariable</code></td>
<td>
<p>Variable containing date of competing outcome event</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>competingOutcomeWashout</code></td>
<td>
<p>Washout time in days for the competing outcome</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censorOnCohortExit</code></td>
<td>
<p>If TRUE, an individual's follow up will be
censored at their cohort exit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>censorOnDate</code></td>
<td>
<p>if not NULL, an individual's follow up will be censored
at the given date</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>followUpDays</code></td>
<td>
<p>Number of days to follow up individuals (lower bound 1,
upper bound Inf)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strata</code></td>
<td>
<p>strata</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>eventGap</code></td>
<td>
<p>Days between time points for which to report survival
events, which are grouped into the specified intervals.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>estimateGap</code></td>
<td>
<p>Days between time points for which to report survival
estimates. First day will be day zero with risk estimates provided
for times up to the end of follow-up, with a gap in days equivalent
to eventGap.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>restrictedMeanFollowUp</code></td>
<td>
<p>number of days of follow-up to take into account
when calculating restricted mean for all cohorts</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimumSurvivalDays</code></td>
<td>
<p>Minimum number of days required for the main cohort
to have survived</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minCellCount</code></td>
<td>
<p>The minimum number of events to reported, below which
results will be obscured. If 0, all results will be reported.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnParticipants</code></td>
<td>
<p>Either TRUE or FALSE. If TRUE, references to
participants from the analysis will be returned allowing for further
analysis.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>tibble with survival information for desired cohort, including:
time, people at risk, survival probability, cumulative incidence,
95 CIs, strata and outcome. A tibble with the number of events is
outputted as an attribute of the output
</p>


<h3>Examples</h3>

<pre><code class="language-R">
cdm &lt;- mockMGUS2cdm()
surv &lt;- estimateCompetingRiskSurvival(
  cdm = cdm,
  targetCohortTable = "mgus_diagnosis",
  targetCohortId = 1,
  outcomeCohortTable = "progression",
  outcomeCohortId = 1,
  competingOutcomeCohortTable = "death_cohort",
  competingOutcomeCohortId = 1,
  eventGap = 7
)


</code></pre>


</div>