<div class="container">

<table style="width: 100%;"><tr>
<td>ch_wbt_flow_accumulation</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Creates flow accumulation grid file</h2>

<h3>Description</h3>

<p>Creates flow accumulation grid file
</p>


<h3>Usage</h3>

<pre><code class="language-R">ch_wbt_flow_accumulation(fn_dem_ns, fn_flowacc, return_raster = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>fn_dem_ns</code></td>
<td>
<p>File name of dem with sinks removed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_flowacc</code></td>
<td>
<p>File name for flow accumulation grid to be created.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_raster</code></td>
<td>
<p>If <code>TRUE</code> (the default), the flow accumulation
grid will be returned as a raster object, in addition to being written to
<span class="option">fn_flowacc</span>. If <code>FALSE</code>, the output file will still be created
but a <code>NULL</code> value is returned.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>If <code>return_raster = TRUE</code>, the flow accumulation
grid will be returned as a raster object, otherwise <code>NULL</code> is returned.
</p>


<h3>Author(s)</h3>

<p>Dan Moore
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Only proceed if Whitebox executable is installed
library(whitebox)
if (check_whitebox_binary()){
  library(raster)
  test_raster &lt;- ch_volcano_raster()
  dem_raster_file &lt;- tempfile(fileext = c(".tif"))
  no_sink_raster_file &lt;- tempfile("no_sinks", fileext = c(".tif"))

  # write test raster to file
  writeRaster(test_raster, dem_raster_file, format = "GTiff")

  # remove sinks
  removed_sinks &lt;- ch_wbt_removesinks(dem_raster_file, no_sink_raster_file, method = "fill")

  # get flow accumulations
  flow_acc_file &lt;- tempfile("flow_acc", fileext = c(".tif"))
  flow_acc &lt;- ch_wbt_flow_accumulation(no_sink_raster_file, flow_acc_file)
  plot(flow_acc)
} else {
  message("Examples not run as Whitebox executable not found")
}
</code></pre>


</div>