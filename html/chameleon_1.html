<div class="container">

<table style="width: 100%;"><tr>
<td>data_colors</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute colors for multi-dimensional data.</h2>

<h3>Description</h3>

<p>Given a matrix of observation/element rows and variable/measurement columns, compute a color for
each row (or group of rows) such that the colors are distinct, and where more-similar colors
roughly designate more-similar data rows (or groups of rows).
</p>


<h3>Usage</h3>

<pre><code class="language-R">data_colors(
  data,
  run_umap = TRUE,
  groups = NULL,
  minimal_saturation = 33,
  minimal_lightness = 20,
  maximal_lightness = 80
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A matrix whose rows represent elements/observations and columns represent
variables/measurements.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>run_umap</code></td>
<td>
<p>A boolean specifying whether to run UMAP on the data to convert it to 3D (by default,
<code>TRUE</code>). If <code>FALSE</code>, the data matrix must have exactly 3 columns and
will be used as-is.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>groups</code></td>
<td>
<p>An optional array with an entry per row containing the identifier of the group the
row belongs to.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimal_saturation</code></td>
<td>
<p>Exclude colors whose saturation (<code>hypot(a, b)</code> in CIELAB color
space) is less than this value (by default, 33).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minimal_lightness</code></td>
<td>
<p>Exclude colors whose lightnes (<code>l</code> in CIELAB color space) is less
than this value (by default, 20).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maximal_lightness</code></td>
<td>
<p>Exclude colors whose lightnes (<code>l</code> in CIELAB color space) is more
than this value (by default, 80).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is intended to provide a "reasonable" set of colors to "arbitrary" data, for use as a
convenient default when investigating unknown data sets. It is not meant to replace hand-picked
colors tailored for specific data (e.g. using red colors for "bad" rows and green colors for
"good" rows).
</p>
<p>This ensures all colors are distinct by packing the (visible part) of the CIELAB color space
with the needed number of spheres. To assign the colors to the data, it uses UMAP to reduce the
data to 3D. It then uses principal component analysis to represent both the chosen colors (3D
sphere centers) and the (3D UMAP) data as point clouds with coordinates in the range 0-1, and
finally uses a stable matching algorithm to map these point clouds to each other, thereby
assigning a color to each data row. If the data is grouped, then the center of gravity of each
group is used to generate a color for each group.
</p>


<h3>Value</h3>

<p>An array with one entry per row, whose names are the matrix <code>rownames</code>, containing the
color of each row. If <code>groups</code> was specified, the array will contain one entry per
unique group identifier, whose names are the <code>as.character</code> group identifiers,
containing the color of each group.
</p>


<h3>Examples</h3>

<pre><code class="language-R">chameleon::data_colors(stackloss)
</code></pre>


</div>