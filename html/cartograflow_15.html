<div class="container">

<table style="width: 100%;"><tr>
<td>flowtype</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Compute bilateral several flow types</h2>

<h3>Description</h3>

<p>Compute bilateral flow type: volumn (gross), balance (net), asymetry, min/max ... from an initial asymetric matrix
</p>


<h3>Usage</h3>

<pre><code class="language-R">flowtype(
  tab,
  origin = NULL,
  destination = NULL,
  fij = NULL,
  format,
  lowup,
  net,
  x
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tab</code></td>
<td>
<p>is the input flow dataset</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>origin</code></td>
<td>
<p>the place of origin code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>destination</code></td>
<td>
<p>the place of destination code</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fij</code></td>
<td>
<p>the flow value between origin and destination places</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format</code></td>
<td>
<p>specify the flow dataset format, "M " for square matrix [n*n] or L for long [i,j,data]</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lowup</code></td>
<td>
<p>for extracting the lower or upper triangular sub-portion of the bilateral volum matrix. See Details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>net</code></td>
<td>
<p>for extracting the "positive" or the "negative" flow values of the bilateral balance) matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>enter the flow indicator type : "alltypes", "flux", "transpose", "bivolum", "bibal","biasym","bimin", "bimax","birange" and "bidisym"</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The matrice must be squared (if not, see flowcarre).
This function compute for all pairs or origin-destination places (i,j)
involved in an asymetric flow matrix (Fij&lt;&gt; Fji) several matrix :<br>
Param x:
- x = "flux" for the initial flow: (Fij)<br>
- x = "transpose" for the reverse flow value: (Fji) =t(Fij)<br>
- x = "bivolum" for the bilateral volum or gross flow: FSij=(Fij+Fji)<br>
- x = "bibal" for the bilateral balance or net flow: FBij=(Fij-Fji) <br>
- x = "biasym" for asymetry of bilateral flow: FAij=(FBij/FSij)<br>
- x = "bimin" for the minimum of bilateral flow: minFij=(Fij, Fji)<br>
- x = "bimax" for the maximum of bilateral flow: Fij(Fij, Fji)<br>
- x = "birange" for the amplitude of bilateral flows: rangeFij=(maxFij - minFij)<br>
- x = "bidisym" for the bilateral disymetry: FDij=(rangeFij/FSij)
- x = "alltypes" for computing all the available types of flows <br>
Param lowup is for reducing the matrix:<br>
- lowup ="up" for triangular part above the main diagonal <br>
- lowup = "low" for triangular part below the main diagonal<br>
Param net is for extracting positive or negative flow values of the bilateral balance (bibal matrix):<br>
- net ="negative" values<br>
- net ="positive" values<br></p>


<h3>References</h3>

<p>Bahoken Francoise, 2016, L'approche cartographique de la décomposition des matrices de flux,
Mappemonde, Revue sur l'image géographique et les formes du territoire,
number 116, URL : https://mappemonde-archive.mgm.fr/num44/articles/art14404.html
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(cartograflow)
data(flowdata)
bkg &lt;- system.file("shape/MGP_TER.shp",package = "cartograflow",
                  lib.loc = NULL, mustWork = TRUE
)

## 1a:Computes flowtypes: Matrix format
matflow &lt;- flowtabmat(flows, matlist = "M")
m &lt;- flowtype(matflow, format = "M", x = "flux")
m &lt;- flowtype(matflow, format = "M", x = "transpose")
m &lt;- flowtype(matflow, format = "M", x = "bivolum")
m &lt;- flowtype(matflow, format = "M", x = "bibal")

## 1b:Computes flowtypes: Long format
types_all &lt;- flowtype(flows,origin ="i",destination="j",fij="Fij", format = "L",
x = "alltypes")
bivol&lt;- flowtype(flows,origin ="i",destination="j",fij="Fij",format = "L",
x = "bivolum",lowup="up")
bibal_net&lt;- flowtype(flows,origin ="i",destination="j",fij="Fij",format = "L",
x = "bibal", net="negative")
</code></pre>


</div>