<div class="container">

<table style="width: 100%;"><tr>
<td>get_kwic</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get keyword-in-context (KWIC) strings</h2>

<h3>Description</h3>

<p>Create a data.frame with keyword-in-context strings for given indices (i), search results (hits) or search strings (keyword).
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_kwic(
  tc,
  hits = NULL,
  i = NULL,
  query = NULL,
  code = "",
  ntokens = 10,
  n = NA,
  nsample = NA,
  output_feature = "token",
  query_feature = "token",
  context_level = c("document", "sentence"),
  kw_tag = c("&lt;", "&gt;"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tc</code></td>
<td>
<p>a tCorpus</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hits</code></td>
<td>
<p>results of feature search. see search_features.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>i</code></td>
<td>
<p>instead of the hits argument, you can give the indices of features directly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>instead of using the hits or i arguments, a search string can be given directly. Note that this simply a convenient shorthand for first creating a hits object with search_features. If a query is given, then the ... argument is used to pass other arguments to search_features.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>code</code></td>
<td>
<p>if 'i' or 'query' is used, the code argument can be used to add a code label. Should be a vector of the same length that gives the code for each i or query, or a vector of length 1 for a single label.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ntokens</code></td>
<td>
<p>an integers specifying the size of the context, i.e. the number of tokens left and right of the keyword.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n</code></td>
<td>
<p>a number, specifying the total number of hits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsample</code></td>
<td>
<p>like n, but with a random sample of hits. If multiple codes are used, the sample is drawn for each code individually.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_feature</code></td>
<td>
<p>the feature column that is used to make the KWIC.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query_feature</code></td>
<td>
<p>If query is used, the feature column that is used to perform the query</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>context_level</code></td>
<td>
<p>Select the maxium context (document or sentence).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kw_tag</code></td>
<td>
<p>a character vector of length 2, that gives the symbols before (first value) and after (second value) the keyword in the KWIC string. Can for instance be used to prepare KWIC with format tags for highlighting.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>See search_features for the query parameters</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is mainly for viewing results in the R console. If you want to create a subset corpus based on the context
of query results, you can use subset_query with the window argument. Also, the browse_hits function
is a good alternative for viewing query hits in full text.
</p>


<h3>Examples</h3>

<pre><code class="language-R">tc = tokens_to_tcorpus(corenlp_tokens, sentence_col = 'sentence', token_id_col = 'id')

## look directly for a term (or complex query)
get_kwic(tc, query = 'love*')

## or, first perform a feature search, and then get the KWIC for the results
hits = search_features(tc, '(john OR mark) AND mary AND love*', context_level = 'sentence')
get_kwic(tc, hits=hits, context_level = 'sentence')
</code></pre>


</div>