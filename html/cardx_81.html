<div class="container">

<table style="width: 100%;"><tr>
<td>construction_helpers</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Construction Helpers</h2>

<h3>Description</h3>

<p>These functions help construct calls to various types of models.
</p>


<h3>Usage</h3>

<pre><code class="language-R">construct_model(data, ...)

## S3 method for class 'data.frame'
construct_model(
  data,
  formula,
  method,
  method.args = list(),
  package = "base",
  env = caller_env(),
  ...
)

## S3 method for class 'survey.design'
construct_model(
  data,
  formula,
  method,
  method.args = list(),
  package = "survey",
  env = caller_env(),
  ...
)

reformulate2(
  termlabels,
  response = NULL,
  intercept = TRUE,
  env = parent.frame(),
  pattern_term = NULL,
  pattern_response = NULL
)

bt(x, pattern = NULL)

bt_strip(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<ul>
<li> <p><code>construct_model.data.frame()</code> (<code>data.frame</code>) a data frame
</p>
</li>
<li> <p><code>construct_model.survey.design()</code> (<code>survey.design</code>) a survey design object
</p>
</li>
</ul>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>These dots are for future extensions and must be empty.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>(<code>formula</code>)<br>
a formula</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>(<code>string</code>)<br>
string of function naming the function to be called, e.g. <code>"glm"</code>.
If function belongs to a library that is not attached, the package name
must be specified in the <code>package</code> argument.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method.args</code></td>
<td>
<p>(named <code>list</code>)<br>
named list of arguments that will be passed to <code>method</code>.
</p>
<p>Note that this list may contain non-standard evaluation components.
If you are wrapping this function in other functions, the argument
must be passed in a way that does not evaluate the list, e.g.
using rlang's  embrace operator <code>{{ . }}</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>package</code></td>
<td>
<p>(<code>string</code>)<br>
string of package name that will be temporarily loaded when function
specified in <code>method</code> is executed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>. This
environment is not applicable for quosures because they have
their own environments.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>termlabels</code></td>
<td>
<p>character vector giving the right-hand side of a
model formula.  Cannot be zero-length.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>character string, symbol or call giving the left-hand
side of a model formula, or <code>NULL</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>intercept</code></td>
<td>
<p>logical: should the formula have an intercept?</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(<code>character</code>)<br>
character vector, typically of variable names</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pattern, pattern_term, pattern_response</code></td>
<td>
<p>DEPRECATED</p>
</td>
</tr>
</table>
<h3>Details</h3>


<ul>
<li> <p><code>construct_model()</code>: Builds models of the form <code style="white-space: pre;">⁠method(data = data, formula = formula, method.args!!!)⁠</code>.
If the <code>package</code> argument is specified, that package is temporarily attached
when the model is evaluated.
</p>
</li>
<li> <p><code>reformulate2()</code>: This is a copy of <code>reformulate()</code> except that variable
names that contain a space are wrapped in backticks.
</p>
</li>
<li> <p><code>bt()</code>: Adds backticks to a character vector.
</p>
</li>
<li> <p><code>bt_strip()</code>: Removes backticks from a string if it begins and ends with a backtick.
</p>
</li>
</ul>
<h3>Value</h3>

<p>depends on the calling function
</p>


<h3>Examples</h3>

<pre><code class="language-R">
construct_model(
  data = mtcars,
  formula = am ~ mpg + (1 | vs),
  method = "glmer",
  method.args = list(family = binomial),
  package = "lme4"
) |&gt;
  broom.mixed::tidy()

construct_model(
  data = mtcars |&gt; dplyr::rename(`M P G` = mpg),
  formula = reformulate2(c("M P G", "cyl"), response = "hp"),
  method = "lm"
) |&gt;
  ard_regression() |&gt;
  dplyr::filter(stat_name %in% c("term", "estimate", "p.value"))

</code></pre>


</div>