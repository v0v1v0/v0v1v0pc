<div class="container">

<table style="width: 100%;"><tr>
<td>chooseB</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Diagnostic plot for the number of iterations used in the varselbest function</h2>

<h3>Description</h3>

<p><code>chooseB</code> plots the proportion of times an explanatory variable is selected according to the number of iterations (B).
</p>


<h3>Usage</h3>

<pre><code class="language-R">chooseB(
  res.varselbest,
  plotvar = NULL,
  linewidth = 1,
  linetype = "dotdash",
  xlab = "B",
  ylab = "Proportion",
  nrow = 2,
  ncol = 2,
  graph = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>res.varselbest</code></td>
<td>
<p>an output from the varselbest function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plotvar</code></td>
<td>
<p>index of variables for which a curve is ploted</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linewidth</code></td>
<td>
<p>a numerical value setting the widths of lines</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype</code></td>
<td>
<p>what type of plot should be drawn</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlab</code></td>
<td>
<p>a title for the x axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylab</code></td>
<td>
<p>a title for the y axis</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nrow</code></td>
<td>
<p>argument of gtable. Default value is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ncol</code></td>
<td>
<p>argument of gtable. Default value is 2.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph</code></td>
<td>
<p>a boolean. If FALSE, no graphics are ploted. Default value is TRUE</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>varselbest</code> performs variable selection on random subsets of variables and, then, combines them to recover which explanatory variables are related to the response, following Bar-Hen and Audigier (2022) &lt;doi:10.1080/00949655.2022.2070621&gt;.
More precisely, the outline of the algorithm are as follows: let consider a random subset of <code>sizeblock</code> among p variables.
Then,  any selection variables scheme can be applied.
By resampling <code>B</code> times, a sample of size <code>sizeblock</code> among the p variables, we may count how many times a variable is considered as significantly related to the response and how many times it is not.
The number of iterations <code>B</code> should be large so that the proportion of times a variable is selected becomes stable. <code>chooseB</code> plots the values of proportion according to the number of iterations.
</p>


<h3>Value</h3>

<p>a list of matrices where each row corresponds to the vector of proportions (for all explanatory variables) obtained for a given value of B
</p>


<h3>References</h3>

<p>Bar-Hen, A. and Audigier, V., An ensemble learning method for variable selection: application to high dimensional data and missing values, Journal of Statistical Computation and Simulation, &lt;doi:10.1080/00949655.2022.2070621&gt;, 2022.
</p>


<h3>See Also</h3>

<p><code>varselbest</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(wine)

require(parallel)
ref &lt;- wine$cult
nb.clust &lt;- 3
wine.na&lt;-wine
wine.na$cult &lt;- NULL
wine.na &lt;- prodna(wine.na)

nnodes &lt;- 2 # Number of CPU cores for parallel computing
B &lt;- 80 # Number of iterations for variable selection

# variable selection

res.varsel &lt;- varselbest(data.na = wine.na,
                        listvar = "alco",
                        B = B,
                        nnodes = nnodes,
                        nb.clust = nb.clust,
                        graph = FALSE)
# convergence
res.chooseB &lt;- chooseB(res.varsel)

</code></pre>


</div>