<div class="container">

<table style="width: 100%;"><tr>
<td>CompSurvMod</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Conditional Power (Comparison)
</h2>

<h3>Description</h3>

<p>Calculates the conditional power within the exponential model
and the non-mixture models with exponential, Weibull type
and Gamma type survival.
</p>


<h3>Usage</h3>

<pre><code class="language-R"> CompSurvMod(data, cont.time, new.pat = c(0, 0),
             theta.0 = 1, alpha = 0.05,
             disp.data = FALSE, plot.km = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>

<p>Data frame which consists of at least three columns with the group
(two different expressions) in the first,
status (1 = event, 0 = censored) in the second
and event time in the third column.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cont.time</code></td>
<td>

<p>Period of time of continuing the trial.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new.pat</code></td>
<td>

<p>2-dimensional vector which consists of numbers of new patients
who will be recruited each time unit
(first component = group 1, second component = group 2)
with default at (0, 0).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.0</code></td>
<td>

<p>Originally postulated clinically relevant difference
(hazard ratio = hazard of group 2 / hazard of group 1)
with default at 1.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha</code></td>
<td>

<p>Significance level for conditional power calculations
with default at 0.05.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>disp.data</code></td>
<td>

<p>Logical value indicating if all calculated data should be displayed
with default at FALSE.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>plot.km</code></td>
<td>

<p>Logical value indicating if Kaplan-Meier curves
and estimated survival curves according to
the four mentioned models should be plotted
with default at FALSE.
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function calculates the conditional power within the exponential model
and the non-mixture models with exponential, Weibull type
and Gamma type survival and plots the conditional power curves.
</p>
<p>Optionally, further data will be displayed.
This includes data from interim analysis, log-likelihoods, AICs,
calculated estimators and further patient times.
</p>
<p>Moreover, it is possible to plot the Kaplan-Meier curves
and the estimated survival curves according to
the four mentioned models.
</p>


<h3>Value</h3>

<p>See Details.
</p>
<p>Returns a list which consists of the following components:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>lambda1.hat.exp</code></td>
<td>

<p>estimated hazard of group 1
within the exponential model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda2.hat.exp</code></td>
<td>

<p>estimated hazard of group 2
within the exponential model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.hat.exp</code></td>
<td>

<p>estimated hazard ratio
= estimated hazard of group 2 / estimated hazard of group 1
within the exponential model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma.theta.0.exp</code></td>
<td>

<p>conditional power
within the exponential model
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda1.hat.nm.exp</code></td>
<td>

<p>estimated rate parameter of group 1
within the non-mixture model with exponential survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c1.hat.nm.exp</code></td>
<td>

<p>estimated survival fraction of group 1
within the non-mixture model with exponential survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda2.hat.nm.exp</code></td>
<td>

<p>estimated rate parameter of group 2
within the non-mixture model with exponential survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c2.hat.nm.exp</code></td>
<td>

<p>estimated survival fraction of group 2
within the non-mixture model with exponential survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.hat.nm.exp</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
within the non-mixture model with exponential survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma.theta.0.nm.exp</code></td>
<td>

<p>conditional power
within the non-mixture model with exponential survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda1.hat.nm.wei</code></td>
<td>

<p>estimated scale parameter of group 1
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k1.hat.nm.wei</code></td>
<td>

<p>estimated shape parameter of group 1
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c1.hat.nm.wei</code></td>
<td>

<p>estimated survival fraction of group 1
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lambda2.hat.nm.wei</code></td>
<td>

<p>estimated scale parameter of group 2
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>k2.hat.nm.wei</code></td>
<td>

<p>estimated shape parameter of group 2
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c2.hat.nm.wei</code></td>
<td>

<p>estimated survival fraction of group 2
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.hat.nm.wei</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma.theta.0.nm.wei</code></td>
<td>

<p>conditional power
within the non-mixture model with Weibull type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a1.hat.nm.gamma</code></td>
<td>

<p>estimated shape parameter of group 1
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b1.hat.nm.gamma</code></td>
<td>

<p>estimated rate parameter of group 1
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c1.hat.nm.gamma</code></td>
<td>

<p>estimated survival fraction of group 1
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a2.hat.nm.gamma</code></td>
<td>

<p>estimated shape parameter of group 2
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>b2.hat.nm.gamma</code></td>
<td>

<p>estimated rate parameter of group 2
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>c2.hat.nm.gamma</code></td>
<td>

<p>estimated survival fraction of group 2
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta.hat.nm.gamma</code></td>
<td>

<p>estimated hazard ratio
= <code class="reqn">log(</code>estimated survival fraction of group 2<code class="reqn">)</code>
/ <code class="reqn">log(</code>estimated survival fraction of group 1<code class="reqn">)</code>
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gamma.theta.0.nm.gamma</code></td>
<td>

<p>conditional power
within the non-mixture model with Gamma type survival
</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>There are several mechanisms to ensure that no illegal operations will be done
and maximum likelihood calculations will be executed stable.
That is why there should not be too less data in the data frame,
for example one patient of each group and both being censored.
</p>


<h3>Author(s)</h3>

<p>Andreas Kuehnapfel
</p>


<h3>References</h3>

<p>Kuehnapfel, A. (2013).
Die bedingte Power in der Ueberlebenszeitanalyse.
</p>


<h3>See Also</h3>

<p><code>CP</code> <br><code>ConPwrExp</code> <br><code>ConPwrNonMixExp</code> <br><code>ConPwrNonMixWei</code> <br><code>ConPwrNonMixGamma</code> <br><code>ConPwrExpAndersen</code> <br><code>GenerateDataFrame</code> <br><code>test</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"> # data frame 'test' generated by 'GenerateDataFrame'
 
 # conditional power calculations
 # within the four mentioned models
 CompSurvMod(data = test, cont.time = 12, new.pat = c(2.5, 2.5),
             theta.0 = 0.75, alpha = 0.05,
             disp.data = TRUE, plot.km = TRUE)
</code></pre>


</div>