<div class="container">

<table style="width: 100%;"><tr>
<td>ctmc2glm</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Convert a "ctmc" object into Poisson glm format.
</h2>

<h3>Description</h3>

<p>Transforms a "ctmc" object and covariate rasters into data suitable for analysis using
Poisson GLM software (like glm in R). 
</p>


<h3>Usage</h3>

<pre><code class="language-R">ctmc2glm(ctmc, stack.static, stack.grad, crw = TRUE,
    normalize.gradients = FALSE, grad.point.decreasing = TRUE,
    include.cell.locations=TRUE,directions=4,zero.idx=integer())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ctmc</code></td>
<td>

<p>A "ctmc" object (output from "path2ctmc").
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stack.static</code></td>
<td>

<p>A rasterStack object, where each layer in the stack is a location-based covariate.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>stack.grad</code></td>
<td>

<p>A rasterStack object, where each layer in the stack is a directional
gradient-based covariate
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>crw</code></td>
<td>

<p>Logical.  If TRUE (default), an autocovariate is created for each cell
visited in the CTMC movement path.  The autocovariate is a
unit-length directional vector pointing from the center of the most
recent grid cell to the center of the current grid cell. 
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>normalize.gradients</code></td>
<td>

<p>Logical.  Default is FALSE.  If TRUE, then all gradient
covariates are normalized by dividing by the length of the gradient
vector at each point.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>grad.point.decreasing</code></td>
<td>

<p>Logical.  If TRUE, then the gradient covariates are positive in the
direction of decreasing values of the covariate.  If FALSE, then the
gradient covariates are positive in the direction of increasing values
of the covariate (like a true gradient).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>include.cell.locations</code></td>
<td>

<p>Logical.  If TRUE, then the x and y locations of the centers of the (1) current
and (2) neighboring raster cells will be returned for each row in the created 
data matrix.
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>directions</code></td>
<td>

<p>Integer.  Either 4 (indicating a "Rook's neighborhood" of 4
neighboring grid cells) or 8 (indicating a
"King's neighborhood" of 8 neighboring grid cells).
</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zero.idx</code></td>
<td>

<p>Integer vector of the indices of raster cells that are not passable and should be
excluded.  These are cells where movement should be impossible.  Default is zero.idx=integer().
</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This code creates one data row for each possible transition from each
grid cell visited by the CTMC path.

</p>


<h3>Value</h3>

<table>
<tr style="vertical-align: top;">
<td><code>z</code></td>
<td>
<p>Response variable (either zero or 1) for analysis using GLM
software.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>Matrix of predictor variables for analysis using GLM
software.  Created from the location-based
and gradient-based covariates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tau</code></td>
<td>
<p>Offset for each row in a Poisson GLM with log link.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>t</code></td>
<td>
<p>Vector of the time each raster grid cell was entered</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Ephraim M. Hanks

</p>


<h3>References</h3>

<p>Hanks, E. M.; Hooten, M. B. &amp; Alldredge, M. W. Continuous-time
Discrete-space Models for Animal Movement The Annals of Applied
Statistics, 2015, 9, 145-165

</p>


<h3>Examples</h3>

<pre><code class="language-R">## For example code, do
##
## &gt; help(ctmcMove)
</code></pre>


</div>