<div class="container">

<table style="width: 100%;"><tr>
<td>zeroreplace</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Zero-replacement routine</h2>

<h3>Description</h3>

<p>A function to automatically replace rounded zeroes/BDLs in a composition.
</p>


<h3>Usage</h3>

<pre><code class="language-R">          zeroreplace(x,d=NULL,a=2/3)
          </code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>composition or dataset of compositions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>d</code></td>
<td>
<p>vector containing the detection limits of each part</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a</code></td>
<td>
<p>fraction of the detection limit to be used in replacement</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If <code>d</code> is given, zeroes from each column of <code>x</code> are replaced by the 
corresponding detection limit contained there, scaled
down by the value of <code>a</code> (usually a scalar, although if 
it is a vector it will be recycled with a warning). The variable <code>d</code> should
be a vector of length equal to <code>ncol(x)</code> 
or a matrix of the same shape as <code>x</code>.
<br>
If <code>d=NULL</code>, then the detection limit is extracted from the data set,
if it is available there (i.e., if there are negative numbers). If no negative
number is present in the data set, and no value is given for <code>d</code>, the
result will be equal to <code>x</code>. See <code>compositions.missings</code> for more 
details on the missing policy.
</p>


<h3>Value</h3>

<p>an object of the same class as <code>x</code>, where all WZERO values have been replaced. 
Output contains a further attribute (named <code>Losts</code>), 
with a logical array of the same dimensions as <code>x</code>, 
showing which elements were replaced (TRUE) and which were 
kept unchanged (FALSE).</p>


<h3>References</h3>

<p>Aitchison, J. (1986) <em>The Statistical Analysis of Compositional
Data</em> Monographs on Statistics and Applied Probability. Chapman &amp;
Hall Ltd., London (UK). 416p.<br></p>
<p>Mart\'in-Fern\'andez, J.A.; Barcel\'o-Vidal, C. and Pawlowsky-Glahn, V. (2003)
Dealing With Zeros and Missing Values in Compositional Data Sets
Using Nonparametric Imputation. <em>Mathematical Geology</em>, 35 , 253-278
</p>
<p><a href="https://ima.udg.edu/Activitats/CoDaWork03/">https://ima.udg.edu/Activitats/CoDaWork03/</a><br></p>
<p><a href="https://ima.udg.edu/Activitats/CoDaWork05/">https://ima.udg.edu/Activitats/CoDaWork05/</a>
</p>


<h3>See Also</h3>

<p><code>compositions.missings</code>,<code>getDetectionlimit</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(SimulatedAmounts)
x &lt;- acomp(sa.lognormals)
xnew &lt;- simulateMissings(x,dl=0.05,knownlimit=FALSE)
xnew
xrep &lt;- zeroreplace(xnew,0.05)
xrep
</code></pre>


</div>