<div class="container">

<table style="width: 100%;"><tr>
<td>newSlide</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Append a new slide to a Crunch Deck</h2>

<h3>Description</h3>

<p>Append a new slide to a Crunch Deck
</p>


<h3>Usage</h3>

<pre><code class="language-R">newSlide(
  deck,
  query = NULL,
  display_settings = list(),
  title = "",
  subtitle = "",
  filter = NULL,
  weight = NULL,
  viz_specs = NULL,
  transform = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>deck</code></td>
<td>
<p>A Crunch Deck</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>query</code></td>
<td>
<p>A formula definition of a query to be used by the slide. See
Details of <code>crtabs()</code> for more information about making queries.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>display_settings</code></td>
<td>
<p>(optional) A list of display settings. If omitted,
slide will be a table of column percentages with hypothesis test highlighting
enabled. The most common setting used is <code>vizType</code>, which can be:
<code>table</code>, <code>groupedBarPlot</code>, <code>stackedBarPlot</code>, <code>horizontalBarPlot</code>,
<code>horizontalStackedBarPlot</code>, <code>donut</code>, and (if the second variable in the
query formula is a wave variable) <code>timeplot</code>.
In addition, <code>showValueLabels</code> (logical) controls whether the web app and
exports show labels on bars or arcs of donuts.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>The slide's title</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subtitle</code></td>
<td>
<p>The slide's subtitle</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filter</code></td>
<td>
<p>a <code>CrunchLogicalExpression</code>, a crunch <code>filter</code> object or
a vector of names of <code>filters</code> defined in the dataset (defaults
to <code>NULL</code>, using all data).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight</code></td>
<td>
<p>A weight variable (defaults to NULL, meaning no weight)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>viz_specs</code></td>
<td>
<p>Another set of options for the display of the slide, see
the <a href="https://crunch.io/api/reference/#post-/datasets/-dataset_id-/decks/-deck_id-/slides/">API documentation</a>
for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform</code></td>
<td>
<p>A list of slide transformations, usually created using the function
<code>makeDimTransform()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further options to be passed on to the API</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>CrunchSlide object
</p>


<h3>See Also</h3>

<p><code>newMarkdownSlide</code> for creating a markdown slide
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
newSlide(
    main_deck,
    ~ cyl + wt,
    title = "Cyl and Weight",
    subtitle = "2017 Data"
)

# Grouped bar plot
newSlide(
    main_deck,
    ~ approval + age4,
    title = "Approval by age group",
    display_settings = list(
        vizType = "groupedBarPlot",
        showValueLabels = TRUE
    ),
    subtitle = "2017 Data"
)

# Horizontal stacked bars
newSlide(
    main_deck,
    ~ approval + age4,
    title = "Approval by age group",
    display_settings = list(
        vizType = "horizontalStackedBarPlot"
    ),
    subtitle = "2017 Data"
)

# A donut is only suitable for a single variable
newSlide(
    main_deck,
    ~ approval,
    title = "Approval of new feature",
    display_settings = list(
        vizType = "donut",
        showValueLabels = FALSE
    ),
    subtitle = "2017 Data"
)

# A Grouped bar plot with slide transformations to hide a category
newSlide(
    main_deck,
    ~ approval + age4,
    title = "Approval by age group",
    display_settings = list(
        vizType = "groupedBarPlot",
        showValueLabels = TRUE
    ),
    transform = list(rows_dimension = makeDimTransform(hide = "Neutral")),
    subtitle = "2017 Data"
)

# Example of advanced options being set:
# viz_specs can get quite long, see
# https://crunch.io/api/reference/#post-/datasets/-dataset_id-/decks/-deck_id-/slides/
viz_specs &lt;- list(
    default = list(
        format = list(
            decimal_places = list(percentages = 0L, other = 2L),
            show_empty = FALSE
        )
    ),
    table = list(
        measures = c("col_percent", "pairwise_t_test"),
        page_layout = list(
            rows = list(
                top = list(),
                bottom = c("base_unweighted", "scale_mean", "significant_columns")
            ),
            measure_layout = "long"
        ),
        pairwise_comparison = list(sig_threshold = c(0.05, 0.01)),
        format = list(pval_colors = FALSE)
    )
)

newSlide(
    main_deck,
    ~categories(fav_array)+subvariables(fav_array),
    display_settings = list(viz_type = list(value = "table")),
    title = "custom slide",
    filter = filters(ds)[[1]],
    weight = ds$weight,
    viz_specs = viz_specs
)

# Can also specify `analyses` directly, which allows for very advanced use.
# `formulaToSlideQuery()` and `slideQueryEnv()` help describe the API
newSlide(
    main_deck,
    title = "custom slide",
    analyses = list(list(
        query = formulaToSlideQuery(~categories(fav_array)+subvariables(fav_array), ds),
        query_environment = slideQueryEnv(filter = filters(ds)[[1]]),
        display_settings = list(viz_type = list(value = "table")),
        viz_specs = viz_specs
    ))
)

## End(Not run)
</code></pre>


</div>