<div class="container">

<table style="width: 100%;"><tr>
<td>getInputs</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Get input and output variables and literals from R expressions</h2>

<h3>Description</h3>

<p>This function is used to analyze an R expression and
identify the input and output variables in the expressions and
related packages that are loaded and files that are referenced.
</p>
<p>This might be better called getCodeDepends. It is not to be confused
with <code>getVariableInputs</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">getInputs (e, collector = inputCollector(), basedir = ".", reset =
  FALSE, formulaInputs = FALSE, ...)


</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>e</code></td>
<td>
<p>the expression whose code we are to process</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>collector</code></td>
<td>
<p>an object which collects the different elements of
interest in the code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>basedir</code></td>
<td>
<p>the directory for the code relative to which we can
resolve file names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters for methods</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>reset</code></td>
<td>
<p>a logical value that controls whether we call the
collector's reset method before starting to process the expressions in
the script.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formulaInputs</code></td>
<td>
<p> Logical indicating whether symbols appearing in
formulas should be treated as inputs to the expression. Defaults to
<code>FALSE</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A ScriptInfo object containing information about the expression(s) in
e.
</p>
<p>Things tracked include:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>files</code></td>
<td>
<p>the names of any strings used as arguments or literal
values that correspond to file names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>strings</code></td>
<td>
<p>A vector of literal strings which appeared in <code>e</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>libraries</code></td>
<td>
<p>the names of any libraries explicitly loaded within
this code.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>inputs</code></td>
<td>
<p>a character vector naming the variables that are used as
inputs to the computations in this collection of expressions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>outputs</code></td>
<td>
<p>a character vector giving the names of the variables
that are assigned values in this block of code, including
assignments to elements of a variable, e.g. the variable x in the
expression <code>x[[1]] &lt;- 10</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>updates</code></td>
<td>
<p> character vector of variables which receive new values
when evaluating the expression, but must already exist. Note this
does not currently catch some situations, so checking if any symbols
appear in both inputs and outputs is still prudent.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>functions</code></td>
<td>
<p>a named logical vector, where the names are the names
of the functions called and the values indicate whether the function
is local (TRUE), from a package (FALSE) or unknown (NA). Note that
this is not recursive.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>removes</code></td>
<td>
<p>a vector of variables which were removed (via the
<code>rm</code> function) in <code>e</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nsevalVars</code></td>
<td>
<p>A vector of variables which appear in appear in
<code>e</code>, but which are non-standarly evaluated and thus are not
typical inputs. Note this classification is determined by the
functionhandlers in use by <code>collector</code>.</p>
</td>
</tr>
</table>
<h3>Note</h3>

<p>Users should never call <code>getInputs.langauge</code> directly. It is
listed here due to the vagaries of R CMD check documentation checks.</p>


<h3>Author(s)</h3>

<p>Duncan Temple Lang</p>


<h3>See Also</h3>

<p><code>parse</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">  frags = parse(system.file("samples", "dual.R", package = "CodeDepends"))  
  # formula involves non-df variables
  inputs = lapply(frags, getInputs, formulaInputs=TRUE)
  inputs
  sapply(inputs, slot, "outputs")

   # Specify the base directory in which to resolve the file names.
  getInputs(frags[[5]], basedir = system.file("samples", package = "CodeDepends"))


  f = system.file("samples", "namedAnnotatedScript.R", package = "CodeDepends")
  sc = readScript(f, "labeled")
  getInputs(sc)
  getInputs(sc[[2]])
</code></pre>


</div>