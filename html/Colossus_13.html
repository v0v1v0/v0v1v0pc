<div class="container">

<table style="width: 100%;"><tr>
<td>Gather_Guesses_CPP</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Performs checks to gather a list of guesses and iterations</h2>

<h3>Description</h3>

<p><code>Gather_Guesses_CPP</code> called from within R, uses a list of options and the model definition to generate a list of parameters and iterations that do not produce errors
</p>


<h3>Usage</h3>

<pre><code class="language-R">Gather_Guesses_CPP(
  df,
  dfc,
  names,
  term_n,
  tform,
  keep_constant,
  a_n,
  x_all,
  a_n_default,
  modelform,
  fir,
  control,
  guesses_control,
  model_control = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>a data.table containing the columns of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dfc</code></td>
<td>
<p>vector matching subterm number to matrix column</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>names</code></td>
<td>
<p>columns for elements of the model, used to identify data columns</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>term_n</code></td>
<td>
<p>term numbers for each element of the model</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tform</code></td>
<td>
<p>list of string function identifiers, used for linear/step</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_constant</code></td>
<td>
<p>binary values to denote which parameters to change</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a_n</code></td>
<td>
<p>list of initial parameter values, used to determine number of parameters. May be either a list of vectors or a single vector.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_all</code></td>
<td>
<p>covariate matrix</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>a_n_default</code></td>
<td>
<p>center of parameter distribution guessing scope</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>modelform</code></td>
<td>
<p>string specifying the model type: M, ME, A, PA, PAE, GMIX, GMIX-R, GMIX-E</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fir</code></td>
<td>
<p>term number for the initial term, used for models of the form T0*f(Ti) in which the order matters</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>control</code></td>
<td>
<p>list of parameters controlling the convergence, see Def_Control() for options or vignette("Control_Options")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>guesses_control</code></td>
<td>
<p>list of parameters to control how the guessing works, see Def_Control_Guess() for options or vignette("Control_Options")</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_control</code></td>
<td>
<p>controls which alternative model options are used, see Def_model_control() for options and vignette("Control_Options") for further details</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>returns a list of the final results
</p>


<h3>Examples</h3>

<pre><code class="language-R">library(data.table)
a &lt;- c(0,1,2,3,4,5,6)
b &lt;- c(1,2,3,4,5,6,7)
c &lt;- c(0,1,0,0,0,1,0)
d &lt;- c(3,4,5,6,7,8,9)
df &lt;- data.table::data.table("a"=a,"b"=b,"c"=c,"d"=d)
time1 &lt;- "a"
time2 &lt;- "b"
event &lt;- "c"
names &lt;- c("d")
term_n &lt;- c(0)
tform &lt;- c("loglin")
keep_constant &lt;- c(0)
a_n &lt;- c(-0.1)
a_n_default &lt;- a_n
modelform &lt;- "M"
fir &lt;- 0
der_iden &lt;- 0
control &lt;- list("ncores"=2,'lr' = 0.75,'maxiter' = -1,'halfmax' = 5,'epsilon' = 1e-9,
            'deriv_epsilon' = 1e-9, 'abs_max'=1.0,'change_all'=TRUE,
            'dose_abs_max'=100.0,'verbose'=FALSE, 'ties'='breslow','double_step'=1)
guesses_control &lt;- list()
model_control &lt;- list()
all_names &lt;- unique(names(df))
dfc &lt;- match(names,all_names)
term_tot &lt;- max(term_n)+1
x_all &lt;- as.matrix(df[,all_names, with = FALSE])
control &lt;- Def_Control(control)
guesses_control &lt;- Def_Control_Guess(guesses_control, a_n)
model_control &lt;- Def_model_control(model_control)
Gather_Guesses_CPP(df, dfc, names, term_n, tform, keep_constant, a_n, x_all, a_n_default,
                   modelform, fir, control, guesses_control)
</code></pre>


</div>