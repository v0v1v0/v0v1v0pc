<div class="container">

<table style="width: 100%;"><tr>
<td>JaroWinkler</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Jaro-Winkler String/Sequence Comparator</h2>

<h3>Description</h3>

<p>The Jaro-Winkler comparator is a variant of the <code>Jaro</code> comparator which
boosts the similarity score for strings/sequences with matching prefixes.
It was developed for comparing names at the U.S. Census Bureau.
</p>


<h3>Usage</h3>

<pre><code class="language-R">JaroWinkler(
  p = 0.1,
  threshold = 0.7,
  max_prefix = 4L,
  similarity = TRUE,
  ignore_case = FALSE,
  use_bytes = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>p</code></td>
<td>
<p>a non-negative numeric scalar no larger than 1/max_prefix.
Similarity scores eligible for boosting are scaled by this factor.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>a numeric scalar on the unit interval. Jaro similarities
greater than this value are boosted based on matching characters in the
prefixes of both strings. Jaro similarities below this value are
returned unadjusted. Defaults to 0.7.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_prefix</code></td>
<td>
<p>a non-negative integer scalar, specifying the size of
the prefix to consider for boosting. Defaults to 4 (characters).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>similarity</code></td>
<td>
<p>a logical. If TRUE, similarity scores are returned
(default), otherwise distances are returned (see definition under Details).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ignore_case</code></td>
<td>
<p>a logical. If TRUE, case is ignored when comparing
strings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>use_bytes</code></td>
<td>
<p>a logical. If TRUE, strings are compared byte-by-byte
rather than character-by-character.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>For simplicity we assume <code>x</code> and <code>y</code> are strings in this section,
however the comparator is also implemented for more general sequences.
</p>
<p>The Jaro-Winkler similarity (computed when <code>similarity = TRUE</code>) is
defined in terms of the <code>Jaro</code> similarity. If the Jaro similarity
<code class="reqn">sim_J(x,y)</code> between strings <code class="reqn">x</code> and <code class="reqn">y</code> exceeds a
user-specified threshold <code class="reqn">0 \leq \tau \leq 1</code>,
the similarity score is boosted in proportion to the number of matching
characters in the prefixes of <code class="reqn">x</code> and <code class="reqn">y</code>. More precisely, the
Jaro-Winkler similarity is defined as:
</p>
<p style="text-align: center;"><code class="reqn">\mathrm{sim}_{JW}(x, y) = \mathrm{sim}_J(x, y) + \min(c(x, y), l) p (1 - \mathrm{sim}_J(x, y)),</code>
</p>

<p>where <code class="reqn">c(x,y)</code> is the length of the common prefix, <code class="reqn">l \geq 0</code>
is a user-specified upper bound on the prefix size, and
<code class="reqn">0 \leq p \leq 1/l</code> is a scaling factor.
</p>
<p>The Jaro-Winkler distance is computed when <code>similarity = FALSE</code> and is
defined as
</p>
<p style="text-align: center;"><code class="reqn">\mathrm{dist}_{JW}(x, y) = 1 - \mathrm{sim}_{JW}(x, y).</code>
</p>



<h3>Value</h3>

<p>A <code>JaroWinkler</code> instance is returned, which is an S4 class inheriting from
<code>StringComparator</code>.
</p>


<h3>Note</h3>

<p>Like the Jaro distance, the Jaro-Winkler distance is not a metric as
it does not satisfy the identity axiom.
</p>


<h3>References</h3>

<p>Jaro, M. A. (1989), "Advances in Record-Linkage Methodology as Applied to
Matching the 1985 Census of Tampa, Florida", <em>Journal of the American
Statistical Association</em> <strong>84</strong>(406), 414-420.
</p>
<p>Winkler, W. E. (2006), "Overview of Record Linkage and Current Research
Directions", Tech. report. Statistics #2006-2. Statistical Research
Division, U.S. Census Bureau.
</p>
<p>Winkler, W., McLaughlin G., Jaro M. and Lynch M. (1994), <a href="https://web.archive.org/web/20100227020019/http://www.census.gov/geo/msb/stand/strcmp.c">strcmp95.c</a>,
Version 2. United States Census Bureau.
</p>


<h3>See Also</h3>

<p>This comparator reduces to the <code>Jaro</code> comparator when <code>max_prefix = 0L</code>
or <code>threshold = 0.0</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Compare names
JaroWinkler()("Martha", "Mathra")
JaroWinkler()("Eileen", "Phyllis")

## Reduce the threshold for boosting
x &lt;- "Matthew"
y &lt;- "Martin"
JaroWinkler()(x, y) &lt; JaroWinkler(threshold = 0.5)(x, y)

</code></pre>


</div>