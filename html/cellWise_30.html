<div class="container">

<table style="width: 100%;"><tr>
<td>unpack</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Unpacks cellwise weighted data
</h2>

<h3>Description</h3>

<p>This function transforms a dataset X with cellwise weights W
to an extended data matrix U with the same number of columns but more rows, and containing more NA's. Its rows have the case weights v.
</p>


<h3>Usage</h3>

<pre><code class="language-R">unpack(X,W)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>An <code class="reqn">n</code> by <code class="reqn">d</code> data matrix or data frame. Must be given.
<code>X</code> is allowed to contain <code>NA</code>'s.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>W</code></td>
<td>
<p>An <code class="reqn">n</code> by <code class="reqn">d</code> matrix of nonnegative cellwise weights.
Must be given. <code>W</code> is not allowed to contain <code>NA</code>'s.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list with components: <br></p>

<ul>
<li>
<p><code>U</code><br>
unpacked data matrix, with the same columns as <code>X</code> but typically more rows.
</p>
</li>
<li>
<p><code>V</code><br> vector with the rowwise (=casewise) weights of <code>U</code>.
</p>
</li>
</ul>
<h3>Author(s)</h3>

<p>P.J. Rousseeuw
</p>


<h3>References</h3>

<p>P.J. Rousseeuw (2023). Analyzing cellwise weighted data. Econometrics and Statistics, appeared online. <a href="https://doi.org/10.1016/j.ecosta.2023.01.007">doi:10.1016/j.ecosta.2023.01.007</a>(link to open access pdf)
</p>


<h3>See Also</h3>

 
<p><code>weightedEM</code>,
<code>cwLocScat</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">

X &lt;- matrix(c(2.8, 5.3, 4.9, 7.4,
             2.3, 5.7, 4.3, 7.2,
             2.5, 5.1, 4.4, 7.6), nrow = 3, byrow = TRUE)
W &lt;- matrix(c(0.8, 1.0, 0.3, 0.4, 
             0.3, 0.5, 0.9, 0.5, 
             1.0, 0.6, 0, 0.7), nrow = 3, byrow = TRUE)
rownames(X) &lt;- rownames(W) &lt;- c("A", "B", "C")
colnames(X) &lt;- colnames(W) &lt;- c("V1", "V2", "V3", "V4")
X
W
out &lt;- unpack(X, W)
cbind(out$U, out$v)


# For more examples, we refer to the vignette:
## Not run: 
vignette("cellwise_weights_examples")

## End(Not run)
</code></pre>


</div>