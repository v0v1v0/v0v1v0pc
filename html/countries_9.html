<div class="container">

<table style="width: 100%;"><tr>
<td>find_countrycol</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Finds columns containing country names</h2>

<h3>Description</h3>

<p>This function takes a data frame as argument and returns the column name (or index) of all columns containing country names.
It can be used to automate the search of country columns in data frames.
For the purpose of this function, a country is any of the 249 territories designated in the ISO standard <code>3166</code>.
On large datasets a random sample is used for evaluating the columns.
</p>


<h3>Usage</h3>

<pre><code class="language-R">find_countrycol(
  x,
  return_index = FALSE,
  allow_NA = TRUE,
  min_share = 0.8,
  sample_size = 1000
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data frame object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return_index</code></td>
<td>
<p>A logical value indicating whether the function should return the index of country columns instead of the column names. Default is <code>FALSE</code>, column names are returned.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>allow_NA</code></td>
<td>
<p>Logical value indicating whether columns containing <code>NA</code> values are to be considered as country columns. Default is <code>allow_NA=FALSE</code>, the function will not return country column containing <code>NA</code> values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min_share</code></td>
<td>
<p>A value between <code>0</code> and <code>1</code> indicating the minimum share of country names in columns that are returned. A value of <code>0</code> will return any column containing a country name. A value of <code>1</code> will return only columns whose entries are all country names. Default is <code>0.9</code>, i.e. at least 90 percent of the column entries need to be country names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_size</code></td>
<td>
<p>Either <code>NA</code> or a numeric value indicating the sample size used for evaluating columns. Default is <code>1000</code>. If <code>NA</code> is passed, the function will evaluate the full table. The minimum accepted value is <code>100</code> (i.e. 100 randomly sampled rows are used to evaluate the columns). This parameter can be tuned to speed up computation on long datasets. Taking a sample could result in inexact identification of key columns, accuracy improves with larger samples.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a vector of country names (<code>return_index=FALSE</code>) or column indices (<code>return_index=TRUE</code>) of columns containing country names.
</p>


<h3>See Also</h3>

<p>is_country, country_name, find_keycol, find_timecol
</p>


<h3>Examples</h3>

<pre><code class="language-R">find_countrycol(x=data.frame(a=c("Br√©sil","Tonga","FRA"), b=c(1,2,3)))
</code></pre>


</div>