<div class="container">

<table style="width: 100%;"><tr>
<td>trackFeatureMap</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Dimensionality Reduction on Track Features</h2>

<h3>Description</h3>

<p>Perform a quick dimensionality reduction visualization of a set of tracks according to a given vector
of track measures.
</p>


<h3>Usage</h3>

<pre><code class="language-R">trackFeatureMap(
  tracks,
  measures,
  scale = TRUE,
  labels = NULL,
  method = "PCA",
  return.mapping = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>tracks</code></td>
<td>
<p>the tracks that are to be clustered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measures</code></td>
<td>
<p>a function, or a vector of functions (see TrackMeasures).
Each function is expected to
return a single number given a single track.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>scale</code></td>
<td>
<p>logical indicating whether the measures values shall be scaled
using the function <code>scale</code> before the mapping is performed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>labels</code></td>
<td>
<p>optional: a vector of labels of the same length as the track object.
These are used to color points in the visualization.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p><code>"PCA"</code> for a
scatterplot along principal components, <code>"MDS"</code> for multidimensional scaling,
<code>"UMAP"</code> for a UMAP. Note that for
<code>"UMAP"</code>, the <code>uwot</code> package must be installed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>return.mapping</code></td>
<td>
<p>logical: return the mapping object instead of only the plot?
(defaults to <code>FALSE</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>additional parameters to be passed to the corresponding
function: <code>prcomp</code> (for <code>method="PCA"</code>),
<code>cmdscale</code> (for <code>method="MDS"</code>),
or  <code>umap</code> (for <code>method="UMAP"</code>).</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The measures are applied to each of the tracks in the given
<em>tracks</em> object. According to the resulting values, the tracks are
mapped to fewer dimensions using the chosen method.
If <code>scale</code> is <code>TRUE</code>, the measure values are scaled to mean value
<code class="reqn">0</code> and standard deviation <code class="reqn">1</code> (per measure) before the mapping.
</p>
<p>The dimensionality reduction methods PCA, MDS, and UMAP each produce a
scatterplot of all tracks as points, plotted along the principal component
axes generated by the corresponding method.
</p>


<h3>Value</h3>

<p>By default, only returns a plot. If <code>return.clust=TRUE</code>, also returns
a clustering object as returned by <code>hclust</code>,  <code>kmeans</code>,
<code>prcomp</code> (returns <code>$x</code>), <code>cmdscale</code>,
or  <code>umap</code> (returns <code>$layout</code>). See the documentation of those functions for details on the
output object.
</p>


<h3>See Also</h3>

<p><code>getFeatureMatrix</code> to obtain a feature matrix that can be
used for manual clustering and plotting, and <code>clusterTracks</code> to
perform hierarchical or k-means clustering on a tracks dataset.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Map tracks according to speed, mean turning angle, straightness, and asphericity
## using multidimensional scaling, and store output.

cells &lt;- c(TCells,Neutrophils)
real.celltype &lt;- rep(c("T","N"),c(length(TCells),length(Neutrophils)))
## Prefix each track ID with its cell class to evaluate the clustering visually
names(cells) &lt;- paste0(real.celltype,seq_along(cells))
map &lt;- trackFeatureMap( cells, c(speed,meanTurningAngle,straightness, asphericity),
 method = "MDS",  return.mapping = TRUE  )

</code></pre>


</div>