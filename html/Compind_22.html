<div class="container">

<table style="width: 100%;"><tr>
<td>ci_rbod_constr_bad_Q</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Conditional robust constrained Benefit of the Doubt approach (BoD) in presence of undesirable  indicators</h2>

<h3>Description</h3>

<p>The Conditional robust constrained Benefit of the Doubt function introduces additional constraints to the weight variation in the optimization procedure (Constrained Virtual Weights Restriction) allowing to restrict the importance attached to a single indicator expressed in percentage terms, ranging between a lower and an upper bound (VWR); this function, furthermore, allows to calculate the composite indicator simultaneously in presence of undesirable (bad) and desirable (good) indicators allowing to impose a preference structure (ordVWR). This function, in addition to being robust against outlier data (see <code>ci_rbod_constr_bad</code> function) allows to take into account external contextual continuous (<code>Q</code>) or/and ordinal (<code>Q_ord</code>) variables.</p>


<h3>Usage</h3>

<pre><code class="language-R">ci_rbod_constr_bad_Q(x, indic_col, ngood=1, nbad=1, 
low_w=0, pref=NULL, M, B, Q=NULL, Q_ord=NULL, bandwidth)</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A data.frame containing simple indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>indic_col</code></td>
<td>
<p>A numeric list indicating the positions of the simple indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ngood</code></td>
<td>
<p>The number of desirable outputs; it has to be greater than 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbad</code></td>
<td>
<p>The number of undesirable  outputs; it has to be greater than 0.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>low_w</code></td>
<td>
<p>Importance weights lower bound.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pref</code></td>
<td>
<p>The preference vector among indicators; For example if <code>Indic1</code> is the most important, <code>Indic2</code>,<code>Indic3</code> are more important than <code>Indic4</code> and no preference judgment on <code>Indic5</code> (= not included in the vector), the <code>pref</code> vector can be written as: <code>c("Indic1", "Indic2","Indic3","Indic4")</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>M</code></td>
<td>
<p>The number of elements in each of the bootstrapped samples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>B</code></td>
<td>
<p>The number of bootstrap replicates.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q</code></td>
<td>
<p>A matrix containing continuous exogenous variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Q_ord</code></td>
<td>
<p>A matrix containing discrete exogenous variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>bandwidth</code></td>
<td>
<p>Multivariate mixed bandwidth for exogenous variables; it can be calculated by <code>bandwidth_CI</code> function.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An object of class "CI". This is a list containing the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>ci_rbod_constr_bad_Q_est</code></td>
<td>
<p>Composite indicator estimated values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_method</code></td>
<td>
<p>Method used; for this function ci_method="rbod_constr_bad_Q".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_rbod_constr_bad_Q_weights</code></td>
<td>
<p>Raw weights assigned to each simple indicator.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ci_rbod_constr_bad_Q_target</code></td>
<td>
<p>Indicator target values.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Fusco E., Rogge N.</p>


<h3>References</h3>

<p>Rogge N., de Jaeger S. and Lavigne C. (2017) "<em>Waste Performance of NUTS 2-regions in the EU: A Conditional Directional Distance Benefit-of-the-Doubt Model</em>", Ecological Economics, vol.139, pp. 19-32.
</p>
<p>Zanella A., Camanho A.S. and Dias T.G. (2015) "<em>Undesirable outputs and weighting schemes in composite indicators based on data envelopment analysis</em>", European Journal of Operational Research, vol. 245(2), pp. 517-530.
</p>


<h3>See Also</h3>

 <p><code>ci_rbod_constr_bad</code>, <code>ci_bod_constr_bad</code> </p>


<h3>Examples</h3>

<pre><code class="language-R">data(EU_2020)

indic &lt;- c("employ_2011", "gasemiss_2011","deprived_2011")  
dat   &lt;- EU_2020[-c(10,18),indic]
Q_GDP &lt;- EU_2020[-c(10,18),"percGDP_2011"]

# Conditional robust BoD Constrained VWR
band = bandwidth_CI(dat, ngood=1, nbad=2, Q = Q_GDP)

CI_BoD_C = ci_rbod_constr_bad_Q(dat, 
                                ngood=1, 
                                nbad=2, 
                                low_w=0.05, 
                                pref=NULL, 
                                M=10, 
                                B=50, 
                                Q=Q_GDP, 
                                bandwidth = band$bandwidth)
CI_BoD_C$ci_rbod_constr_bad_Q_est


# # Conditional robust BoD Constrained ordVWR
# import &lt;- c("gasemiss_2011","employ_2011", "deprived_2011")
# 
# CI_BoD_C2 = ci_rbod_constr_bad_Q(dat, 
#                                  ngood=1, 
#                                  nbad=2, 
#                                  low_w=0.05, 
#                                  pref=import, 
#                                  M=10, 
#                                  B=50, 
#                                  Q=Q_GDP, 
#                                  bandwidth = band$bandwidth)
# CI_BoD_C2$ci_rbod_constr_bad_Q_est
</code></pre>


</div>