<div class="container">

<table style="width: 100%;"><tr>
<td>sectionPlot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plots the main condvis display</h2>

<h3>Description</h3>

<p>The section plot relates a fit or fits to one or two predictors (<code>sectionvar</code>), 
for fixed values of other predictors in  <code>conditionvals</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">sectionPlot(
  CVdata,
  CVfit = NULL,
  response = NULL,
  preds,
  sectionvar,
  conditionvals,
  pointColor = "steelblue",
  sim = NULL,
  threshold = 1,
  linecols = NULL,
  dataplot = "pcp",
  gridsize = 50,
  probs = FALSE,
  view3d = FALSE,
  theta3d = 45,
  phi3d = 20,
  xlim = NULL,
  ylim = NULL,
  zlim = NULL,
  pointSize = 1.5,
  predictArgs = NULL,
  resetpar = TRUE,
  density = FALSE,
  showdata = density == FALSE,
  returnInfo = FALSE,
  pointColorFromResponse = FALSE,
  pcolInfo = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>CVdata</code></td>
<td>
<p>the dataset used for the fit</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>CVfit</code></td>
<td>
<p>a fit or list of fits</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>response</code></td>
<td>
<p>name of response variable</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>preds</code></td>
<td>
<p>names of predictors</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sectionvar</code></td>
<td>
<p>section variable, or variables.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>conditionvals</code></td>
<td>
<p>conditioning values. A vector/list or dataframe with one row</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointColor</code></td>
<td>
<p>a color, vector of colors,or the name of variable to be used for coloring</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sim</code></td>
<td>
<p>vector of similarity weights</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>threshold</code></td>
<td>
<p>used for similarity weights, defaults to 1.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linecols</code></td>
<td>
<p>vector of line colours</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dataplot</code></td>
<td>
<p>"pcp" or "pairs". Used when there is no response, or more than two sectionvars.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>gridsize</code></td>
<td>
<p>used to construct grid of fitted values.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probs</code></td>
<td>
<p>Logical; if <code>TRUE</code>, shows predicted class probabilities instead of just predicted classes. Only available with two numeric sectionvars and the model's predict method provides this.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>view3d</code></td>
<td>
<p>Logical; if <code>TRUE</code> plots a three-dimensional regression surface if possible.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>theta3d, phi3d</code></td>
<td>
<p>Angles defining the viewing direction. <code>theta3d</code> gives the azimuthal direction and <code>phi3d</code> the colatitude. See<code>persp</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>xlim</code></td>
<td>
<p>passed on to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ylim</code></td>
<td>
<p>passed on to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>zlim</code></td>
<td>
<p>passed on to plot</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointSize</code></td>
<td>
<p>used for points</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>predictArgs</code></td>
<td>
<p>a list with one entry per fit, giving arguments for predict</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resetpar</code></td>
<td>
<p>When TRUE (the default) resets pars after drawing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>density</code></td>
<td>
<p>default FALSE. Use TRUE if model is a density function.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>showdata</code></td>
<td>
<p>If FALSE, data on section not shown.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>returnInfo</code></td>
<td>
<p>If TRUE, returns coordinates for some plots</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pointColorFromResponse</code></td>
<td>
<p>ignore–For interactive use only</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pcolInfo</code></td>
<td>
<p>ignore–For interactive use only</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The type of plot depends on the fit and the section variables. Observations with non zero values of the similarity weights 
<code>sim</code> are shown. If no fit is provided, the data are shown as a parallel coordinate plot or pairs
plot, depending on <code>dataplot</code>.
The fit could also be a density estimate.
</p>


<h3>Value</h3>

<p>plotted coordinates, for some plots
</p>


<h3>Examples</h3>

<pre><code class="language-R">#Fit a model. 
f &lt;- lm(Fertility~ ., data=swiss)
svar &lt;- "Education"
preds &lt;- variable.names(f)[-1]
sectionPlot(swiss,f, "Fertility",preds,svar, swiss[12,])
sectionPlot(swiss,f, "Fertility",preds,svar, apply(swiss,2,median))
sectionPlot(swiss,f, "Fertility",preds,preds[1:2], apply(swiss,2,median))
sectionPlot(swiss,f, "Fertility",preds,preds[1:2], apply(swiss,2,median), view3d=TRUE)

# PCP of swiss data, showing only cases whose percent catholic and infant.mortality are
# similar to those of the first case
sectionPlot(swiss,preds=names(swiss),
           sectionvar= names(swiss)[1:4],conditionvals=swiss[1,] )     
# Use dataplot="pairs" to switch to a pairs plot

# A density estimate example
 ## Not run: 
 library(ks)
fde &lt;-kde(iris[,1:3])
sectionPlot(iris,list(kde=fde), response=NULL,
           preds=names(iris)[1:3],
           sectionvar=names(iris)[1],
           conditionvals=iris[1,],density=TRUE)
 
## End(Not run)
</code></pre>


</div>