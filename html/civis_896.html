<div class="container">

<table style="width: 100%;"><tr>
<td>write_civis</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Upload a local data frame or csv file to the Civis Platform (Redshift)</h2>

<h3>Description</h3>

<p>Uploads a data frame, a csv file, or file on S3 to Redshift based
on the first argument.
</p>
<p>A default database can be set using <code>options(civis.default_db = "my_database")</code>.
If there is only one database available,
this database will automatically be used as the default.
</p>


<h3>Usage</h3>

<pre><code class="language-R">write_civis(x, ...)

## S3 method for class 'data.frame'
write_civis(
  x,
  tablename,
  database = NULL,
  if_exists = "fail",
  distkey = NULL,
  sortkey1 = NULL,
  sortkey2 = NULL,
  max_errors = NULL,
  verbose = FALSE,
  hidden = TRUE,
  diststyle = NULL,
  header = TRUE,
  credential_id = NULL,
  import_args = NULL,
  ...
)

## S3 method for class 'character'
write_civis(
  x,
  tablename,
  database = NULL,
  if_exists = "fail",
  distkey = NULL,
  sortkey1 = NULL,
  sortkey2 = NULL,
  max_errors = NULL,
  verbose = FALSE,
  hidden = TRUE,
  diststyle = NULL,
  header = TRUE,
  credential_id = NULL,
  import_args = NULL,
  ...
)

## S3 method for class 'numeric'
write_civis(
  x,
  tablename,
  database = NULL,
  if_exists = "fail",
  distkey = NULL,
  sortkey1 = NULL,
  sortkey2 = NULL,
  max_errors = NULL,
  verbose = FALSE,
  delimiter = ",",
  hidden = TRUE,
  diststyle = NULL,
  header = TRUE,
  credential_id = NULL,
  import_args = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data frame, file path of a csv, or the id of a csv file on S3 to upload to platform.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>arguments passed to <code>write.csv</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tablename</code></td>
<td>
<p>string, Name of table and schema <code>"schema.tablename"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>database</code></td>
<td>
<p>string, Name of database where data frame is to be uploaded. If no database is specified,
uses <code>options(civis.default_db)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>if_exists</code></td>
<td>
<p>string, optional,  String indicating action to take if table already
exists.  Must be either "fail", "drop", "truncate" or "append". Defaults to "fail".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>distkey</code></td>
<td>
<p>string, optional, Column name designating the distkey.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortkey1</code></td>
<td>
<p>string, optional, Column name designating the first sortkey.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sortkey2</code></td>
<td>
<p>string, optional, Column name designating the second
(compound) sortkey.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>max_errors</code></td>
<td>
<p>int, optional, Maximum number of rows with errors
to remove before failing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>bool, Set to TRUE to print intermediate progress indicators.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hidden</code></td>
<td>
<p>bool, if <code>TRUE</code> (default), this job will not appear in the Civis UI.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>diststyle</code></td>
<td>
<p>string optional. The diststyle to use for the table. One of "even", "all", or "key".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>header</code></td>
<td>
<p>bool, if <code>TRUE</code> (default) the first row is a header.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>credential_id</code></td>
<td>
<p>integer, the id of the credential to be used when performing
the database import. If <code>NULL</code> (default), the default credential of the
current user will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>import_args</code></td>
<td>
<p>list of additional arguments for <code>imports_post_files</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>delimiter</code></td>
<td>
<p>string, optional. Which delimiter to use. One of
<code>','</code>, <code>'\t'</code> or <code>'|'</code>.</p>
</td>
</tr>
</table>
<h3>Methods (by class)</h3>


<ul>
<li> <p><code>write_civis(data.frame)</code>: Upload a data frame to Civis Platform (Redshift).
</p>
</li>
<li> <p><code>write_civis(character)</code>: Upload a csv to Civis Platform (Redshift).
</p>
</li>
<li> <p><code>write_civis(numeric)</code>: Upload a csv file from the files endpoint to Civis Platform (Redshift)
</p>
</li>
</ul>
<h3>See Also</h3>

<p><code>refresh_table</code> to update table meta-data.
</p>
<p>Other io: 
<code>download_civis()</code>,
<code>query_civis_file()</code>,
<code>query_civis()</code>,
<code>read_civis()</code>,
<code>write_civis_file()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Not run: 
df &lt;- read.csv(local_file)

# Create new table, fail if already exists
write_civis(df, "schema.my_table", "my_database")

# Create new table, append if already exists
write_civis(df, "schema.my_table", "my_database", if_exists="append")

# Create new table with additional options
write_civis(df, "schema.my_table", "my_database",
            distkey="id",
            sortkey1="added_date",
            credential_id = 1,
            header = FALSE)

# Create new table directly from a saved csv
write_civis("my/file/path.csv", "schema.my_table", "my_database")

# Create new table from a file_id
id &lt;- write_civis_file("my/file/path.csv", name = "path.csv")
write_civis(id, "schema.my_table", "my_database")


## End(Not run)
</code></pre>


</div>