<div class="container">

<table style="width: 100%;"><tr>
<td>cc_inst</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify Records in the Vicinity of Biodiversity Institutions</h2>

<h3>Description</h3>

<p>Removes or flags records assigned to the location of zoos, botanical gardens,
herbaria, universities and museums, based on a global database of ~10,000 such
biodiversity institutions. Coordinates from these locations can be related to
data-entry errors, false automated geo-reference or individuals in
captivity/horticulture.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cc_inst(
  x,
  lon = "decimalLongitude",
  lat = "decimalLatitude",
  species = "species",
  buffer = 100,
  geod = FALSE,
  ref = NULL,
  verify = FALSE,
  verify_mltpl = 10,
  value = "clean",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.frame. Containing geographical coordinates and species names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>character string. The column with the longitude coordinates.
Default = “decimalLongitude”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>character string. The column with the latitude coordinates.
Default = “decimalLatitude”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>species</code></td>
<td>
<p>character string. The column with the species identity. Only
required if verify = TRUE.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer</code></td>
<td>
<p>numerical. The buffer around each institution, where records
should be flagged as problematic, in decimal degrees.  Default = 100m.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geod</code></td>
<td>
<p>logical. If TRUE the radius around each capital is calculated
based on a sphere, buffer is in meters and independent of latitude. If
FALSE the radius is calculated assuming planar coordinates and varies
slightly with latitude. Default = TRUE.
See https://seethedatablog.wordpress.com/ for detail and credits.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>SpatVector (geometry: polygons). Providing the geographic
gazetteer. Can be any SpatVector (geometry: polygons), but the structure
must be identical to <code>institutions</code>.  Default =
<code>institutions</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verify</code></td>
<td>
<p>logical. If TRUE, records close to institutions are only
flagged, if there are no other records of the same species in the greater
vicinity (a radius of buffer * verify_mltpl).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verify_mltpl</code></td>
<td>
<p>numerical. indicates the factor by which the radius for
verify exceeds the radius of the initial test. Default = 10, which might be
suitable if geod is TRUE, but might be too large otherwise.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>character string.  Defining the output value. See value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical. If TRUE reports the name of the test and the number
of records flagged.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>Note: the buffer radius is in degrees, thus will differ slightly between
different latitudes.
</p>


<h3>Value</h3>

<p>Depending on the ‘value’ argument, either a <code>data.frame</code>
containing the records considered correct by the test (“clean”) or a
logical vector (“flagged”), with TRUE = test passed and FALSE = test
failed/potentially problematic . Default = “clean”.
</p>


<h3>See Also</h3>

<p>Other Coordinates: 
<code>cc_aohi()</code>,
<code>cc_cap()</code>,
<code>cc_cen()</code>,
<code>cc_coun()</code>,
<code>cc_dupl()</code>,
<code>cc_equ()</code>,
<code>cc_gbif()</code>,
<code>cc_iucn()</code>,
<code>cc_outl()</code>,
<code>cc_sea()</code>,
<code>cc_urb()</code>,
<code>cc_val()</code>,
<code>cc_zero()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
x &lt;- data.frame(species = letters[1:10],
                decimalLongitude = c(runif(99, -180, 180), 37.577800),
                decimalLatitude = c(runif(99, -90,90), 55.710800))

#large buffer for demonstration, using geod = FALSE for shorter runtime
cc_inst(x, value = "flagged", buffer = 10, geod = FALSE)

## Not run: 
#' cc_inst(x, value = "flagged", buffer = 50000) #geod = T

## End(Not run)

</code></pre>


</div>