<div class="container">

<table style="width: 100%;"><tr>
<td>diff,Expression-method</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Lagged and Iterated Differences</h2>

<h3>Description</h3>

<p>The lagged and iterated differences of a vector.
If <code>x</code> is length <code>n</code>, this function returns a length <code class="reqn">n-k</code> vector of the <code class="reqn">k</code>th order difference between the lagged terms.
<code>diff(x)</code> returns the vector of differences between adjacent elements in the vector, i.e. [x[2] - x[1], x[3] - x[2], ...].
<code>diff(x,1,2)</code> is the second-order differences vector, equivalently diff(diff(x)). <code>diff(x,1,0)</code> returns the vector x unchanged.
<code>diff(x,2)</code> returns the vector of differences [x[3] - x[1], x[4] - x[2], ...], equivalent to <code>x[(1+lag):n] - x[1:(n-lag)]</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">## S4 method for signature 'Expression'
diff(x, lag = 1, differences = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>An Expression.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lag</code></td>
<td>
<p>An integer indicating which lag to use.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>differences</code></td>
<td>
<p>An integer indicating the order of the difference.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>(Optional) Addition <code>axis</code> argument, specifying the dimension across which to apply the function: <code>1</code> indicates rows, <code>2</code> indicates columns, and <code>NA</code> indicates rows and columns. The default is <code>axis = 1</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>An Expression representing the <code>k</code>th order difference.
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Problem data
m &lt;- 101
L &lt;- 2
h &lt;- L/(m-1)

## Form objective and constraints
x &lt;- Variable(m)
y &lt;- Variable(m)
obj &lt;- sum(y)
constr &lt;- list(x[1] == 0, y[1] == 1, x[m] == 1, y[m] == 1, diff(x)^2 + diff(y)^2 &lt;= h^2)

## Solve the catenary problem
prob &lt;- Problem(Minimize(obj), constr)
result &lt;- solve(prob)

## Plot and compare with ideal catenary
xs &lt;- result$getValue(x)
ys &lt;- result$getValue(y)
plot(c(0, 1), c(0, 1), type = 'n', xlab = "x", ylab = "y")
lines(xs, ys, col = "blue", lwd = 2)
grid()
</code></pre>


</div>