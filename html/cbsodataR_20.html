<div class="container">

<table style="width: 100%;"><tr>
<td>cbs_get_sf</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Retrieve an sf map for plotting</h2>

<h3>Description</h3>

<p>Retrieve a polygon sf object that can be used for plotting.
This function only provides the region boundaries.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cbs_get_sf(
  region,
  year,
  keep_columns = c("statcode", "statnaam"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>region</code></td>
<td>
<p><code>character</code> name of region</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>year</code></td>
<td>
<p><code>integer</code> year of a region</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>keep_columns</code></td>
<td>
<p><code>character</code>, set to <code>NULL</code> to retrieve all columns of the map</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>if <code>TRUE</code> the method is verbose</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>To use the map for plotting:
</p>

<ul>
<li>
<p> add data columns to the sf data.frame returned by <code>cbs_get_sf</code>, e.g. by
using <code>dplyr::left_join</code> or otherwise
</p>
</li>
<li>
<p> use <code>ggplot2</code>,  <code>tmap</code>, <code>leaflet</code> or any other plotting library useful for
plotting spatial data.
</p>
</li>
</ul>
<h3>Value</h3>

<p><code>sf::st_sf()</code> object with the polygons of the regions specified.
</p>


<h3>See Also</h3>

<p>Other cartographic map: 
<code>cbs_add_statcode_column()</code>,
<code>cbs_get_maps()</code>,
<code>cbs_join_sf_with_data()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">if (interactive()){
  
  # retrieve maps
  cbs_maps &lt;- cbs_get_maps()
  cbs_maps |&gt; head(4)
  
  gemeente_map &lt;- cbs_get_sf("gemeente", 2023, verbose=TRUE)
  
  # sf object
  gemeente_map
  
  # plot the statcodes (included in the map)
  plot(gemeente_map, max.plot = 1)
  
  # now connect with some data
  labor &lt;- cbs_get_data("85268NED"
                       , Perioden = "2022JJ00" # only 2022
                       , RegioS = has_substring("PV") # only province
                       , verbose = TRUE
                       )
  
  # most conveniently
  provincie_2022_with_data &lt;- cbs_join_sf_with_data("provincie", 2022, labor)
  
  # better plotting options are ggplot2 or tmap, 
  # but keeping dependencies low...
  provincie_2022_with_data |&gt; 
    subset(select = Werkloosheidspercentage_13) |&gt; 
    plot( border ="#FFFFFF99", main="unemployment rate")
  
  ## but of course this can also be done by hand:
  labor &lt;- labor |&gt; 
    cbs_add_statcode_column()  # add column to connect with map
  
  provincie_2022 &lt;- cbs_get_sf("provincie", 2022)
  
  # this is a left_join(provincie_2022, labor, by = "statcode")
  provincie_2022_data &lt;- 
    within(provincie_2022, {
      unemployment_rate &lt;- labor$Werkloosheidspercentage_13[match(statcode, labor$statcode)]
    }) 
  
  # better plotting options are ggplot2 or tmap, 
  # but keeping dependencies low...
  plot( provincie_2022_data[,c("unemployment_rate")]
      , border ="#FFFFFF99"
      , nbreaks = 12
      )
}
</code></pre>


</div>