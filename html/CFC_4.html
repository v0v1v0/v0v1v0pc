<div class="container">

<table style="width: 100%;"><tr>
<td>cfc.prepdata</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Utility function for CFC data preparation
</h2>

<h3>Description</h3>

<p>Preparing a data frame and formulas for cause-specific competing-risk survival analysis. It expands the multi-state status column into a series of binary columns by treating an event for a cause as censoring for all other causes.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cfc.prepdata(formul, dat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>formul</code></td>
<td>
<p>Original survival formula.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Original data frame, with <code>status</code> column being an integer with values from <code>0</code> to <code>K</code>. The value <code>0</code> represents right-censoring, while <code>1</code> to <code>K</code> represent the <code>K</code> mutually-exclusive events.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The output data frame will have <code>K</code> new binary status columns. The <code>K</code> new status columns will be named <code>"status_1"</code>, <code>"status_2"</code> through <code>"status_&lt;K&gt;"</code>. Each of the output formulas in <code>formula.list</code> field will have the corresponding <code>status</code>. Column "status_1" will be <code>1</code> wherever <code>status</code> equals <code>1</code> in original data frame, and <code>0</code> elsewhere, and similarly for the remaining <code>K-1</code> newly-added status columns.
</p>


<h3>Value</h3>

<p>A list with the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>K</code></td>
<td>
<p>Number of causes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>Expanded data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula.list</code></td>
<td>
<p>A list of <code>K</code> formulas, each corresponding to one of the cause-specific survival models to be estimated. See details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula.noresp</code></td>
<td>
<p>A formula with no left-hand side (time and status variables). This can be used for preparing the model matrix for prediction data sets, which can possibly have no response.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>tmax</code></td>
<td>
<p>Maximum time to event/censoring extracted from original data frame. This can be used, e.g., during competing-risk analysis.</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Mansour T.A. Sharabiani, Alireza S. Mahani
</p>


<h3>References</h3>

<p>Mahani A.S. and Sharabiani M.T.A. (2019). Bayesian, and Non-Bayesian, Cause-Specific Competing-Risk Analysis for Parametric and Nonparametric Survival Functions: The R Package CFC. Journal of Statistical Software, 89(9), 1-29. doi:10.18637/jss.v089.i09
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(bmt)
prep.out &lt;- cfc.prepdata(Surv(time, cause) ~ platelet + age + tcell, bmt)
</code></pre>


</div>