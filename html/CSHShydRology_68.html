<div class="container">

<table style="width: 100%;"><tr>
<td>ch_wbt_pourpoints</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Snap pour points to channels</h2>

<h3>Description</h3>

<p>Pour points describe the outlets of sub-basins within a DEM. To use
the pour points to delineate catchments, they must align with the drainage
network. This function snaps (forces the locations) of pour points to the
channels.
</p>


<h3>Usage</h3>

<pre><code class="language-R">ch_wbt_pourpoints(
  pp_sf = NULL,
  fn_flowacc,
  fn_pp,
  fn_pp_snap,
  check_crs = TRUE,
  snap_dist = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pp_sf</code></td>
<td>
<p><span class="pkg">sf</span> object containing pour points. These must be supplied by the user. See
the code in <code>ch_volcano_pourpoints</code> for an example of creating the object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_flowacc</code></td>
<td>
<p>Name of file containing flow accumulations.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_pp</code></td>
<td>
<p>File name to create un-snapped pour points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fn_pp_snap</code></td>
<td>
<p>File name for snapped pour points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>check_crs</code></td>
<td>
<p>If <code>TRUE</code> the projections of the pour points and flow
accumulation files will be checked to ensure they are identical.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>snap_dist</code></td>
<td>
<p>Maximum snap distance in map units.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Additional parameters for <span class="pkg">whitebox</span> function <code>wbt_snap_pour_points</code>.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Returns a <span class="pkg">sf</span> object of the specified pour points snapped to the
channel network.
</p>


<h3>Author(s)</h3>

<p>Dan Moore
</p>


<h3>See Also</h3>

<p><code>ch_volcano_pourpoints</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Only proceed if Whitebox executable is installed
library(whitebox)
if (check_whitebox_binary()){
  library(raster)
  test_raster &lt;- ch_volcano_raster()
  dem_raster_file &lt;- tempfile(fileext = c(".tif"))
  no_sink_raster_file &lt;- tempfile("no_sinks", fileext = c(".tif"))

  # write test raster to file
  writeRaster(test_raster, dem_raster_file, format = "GTiff")

  # remove sinks
  removed_sinks &lt;- ch_wbt_removesinks(dem_raster_file, no_sink_raster_file, method = "fill")

  # get flow accumulations
  flow_acc_file &lt;- tempfile("flow_acc", fileext = c(".tif"))
  flow_acc &lt;- ch_wbt_flow_accumulation(no_sink_raster_file, flow_acc_file)

  # get pour points
  pourpoint_file &lt;- tempfile("volcano_pourpoints", fileext = c(".shp"))
  pourpoints &lt;- ch_volcano_pourpoints(pourpoint_file)
  snapped_pourpoint_file &lt;- tempfile("snapped_pourpoints", fileext = c(".shp"))
  snapped_pourpoints &lt;- ch_wbt_pourpoints(pourpoints, flow_acc_file, pourpoint_file,
  snapped_pourpoint_file, snap_dist = 10)
} else {
  message("Examples not run as Whitebox executable not found")
}
</code></pre>


</div>