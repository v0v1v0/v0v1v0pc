<div class="container">

<table style="width: 100%;"><tr>
<td>CRTsp</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Create or update a <code>"CRTsp"</code> object</h2>

<h3>Description</h3>

<p><code>CRTsp</code> coerces data frames containing co-ordinates and location attributes
into objects of class <code>"CRTsp"</code> or creates a new <code>"CRTsp"</code> object by simulating a set of Cartesian co-ordinates for use as the locations in a simulated trial site
</p>


<h3>Usage</h3>

<pre><code class="language-R">CRTsp(
  x = NULL,
  design = NULL,
  geoscale = NULL,
  locations = NULL,
  kappa = NULL,
  mu = NULL,
  geometry = "point"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>an object of class <code>"CRTsp"</code> or a data frame containing locations in (x,y) coordinates, cluster
assignments (factor <code>cluster</code>), and arm assignments (factor <code>arm</code>). Optionally specification of a buffer zone (logical <code>buffer</code>);
any other variables required for subsequent analysis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>design</code></td>
<td>
<p>list: an optional list containing the requirements for the power of the trial</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geoscale</code></td>
<td>
<p>numeric: standard deviation of random displacement from each settlement cluster center (for new objects)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>locations</code></td>
<td>
<p>integer: number of locations in population (for new objects)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>kappa</code></td>
<td>
<p>numeric: intensity of Poisson process of settlement cluster centers (for new objects)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mu</code></td>
<td>
<p>numeric: mean number of points per settlement cluster (for new objects)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>geometry</code></td>
<td>
<p>with valid values <code>'point'</code> (the default, corresponding to point locations), <code>'triangle'</code>,
<code>'square'</code> and <code>'hexagon'</code> corresponding to grids constructed from pixels of regular polygons.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>If a data frame or <code>"CRTsp"</code> object is input then the output <code>"CRTsp"</code> object is validated,
a description of the geography is computed and power calculations are carried out.<br><br>
If <code>geoscale, locations, kappa</code> and <code>mu</code> are specified then a new trial dataframe is constructed
corresponding to a novel simulated human settlement pattern. This is generated using the
Thomas algorithm (<code>rThomas</code>) in <a href="https://CRAN.R-project.org/package=spatstat.random"><code>spatstat.random</code></a>
allowing the user to defined the density of locations and degree of spatial clustering.
The resulting trial data frame comprises a set of Cartesian coordinates centred at the origin.<br><br></p>


<h3>Value</h3>

<p>A list of class <code>"CRTsp"</code> containing the following components:
</p>

<table>
<tr>
<td style="text-align: left;">
<code>design</code>   </td>
<td style="text-align: left;"> list: </td>
<td style="text-align: left;"> parameters required for power calculations</td>
</tr>
<tr>
<td style="text-align: left;">
<code>geom_full</code>   </td>
<td style="text-align: left;"> list: </td>
<td style="text-align: left;"> summary statistics describing the site </td>
</tr>
<tr>
<td style="text-align: left;">
<code>geom_core</code>   </td>
<td style="text-align: left;"> list: </td>
<td style="text-align: left;"> summary statistics describing the core area
(when a buffer is specified)</td>
</tr>
<tr>
<td style="text-align: left;">
<code>trial</code> </td>
<td style="text-align: left;"> data frame: </td>
<td style="text-align: left;"> rows correspond to geolocated points, as follows:</td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>x</code> </td>
<td style="text-align: left;"> numeric vector: x-coordinates of locations </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>y</code> </td>
<td style="text-align: left;"> numeric vector: y-coordinates of locations </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>cluster</code> </td>
<td style="text-align: left;"> factor: assignments to cluster of each location  </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>arm</code> </td>
<td style="text-align: left;"> factor: assignments to <code>"control"</code> or <code>"intervention"</code> for each location </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>nearestDiscord</code> </td>
<td style="text-align: left;"> numeric vector: Euclidean distance to nearest discordant location (km) </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>buffer</code> </td>
<td style="text-align: left;"> logical: indicator of whether the point is within the buffer </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
<td style="text-align: left;"> <code>...</code> </td>
<td style="text-align: left;"> other objects included in the input <code>"CRTsp"</code> object or data frame </td>
</tr>
<tr>
<td style="text-align: left;">
</td>
</tr>
</table>
<h3>Examples</h3>

<pre><code class="language-R">{# Generate a simulated area with 10,000 locations
example_area = CRTsp(geoscale = 1, locations=10000, kappa=3, mu=40)
summary(example_area)
}
</code></pre>


</div>