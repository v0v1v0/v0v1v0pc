<div class="container">

<table style="width: 100%;"><tr>
<td>windrose</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot a windrose</h2>

<h3>Description</h3>

<p>Plot a windrose showing the wind speed and direction for given facets using
<span class="pkg">ggplot2</span>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">windrose(
  speed,
  direction,
  facet,
  n_directions = 12,
  n_speeds = 5,
  speed_cuts = NA,
  col_pal = "GnBu",
  ggtheme = c("grey", "gray", "bw", "linedraw", "light", "minimal", "classic"),
  legend_title = "Wind Speed",
  calm_wind = 0,
  variable_wind = 990,
  n_col = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>speed</code></td>
<td>
<p>numeric vector of wind speeds.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>direction</code></td>
<td>
<p>numeric vector of wind directions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>facet</code></td>
<td>
<p>character or factor vector of the facets used to plot the various
windroses.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_directions</code></td>
<td>
<p>the number of direction bins to plot (petals on the rose).
The number of directions defaults to 12.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_speeds</code></td>
<td>
<p>the number of equally spaced wind speed bins to plot. This is
used if <code>speed_cuts</code> is <code>NA</code> (default 5).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>speed_cuts</code></td>
<td>
<p>numeric vector containing the cut points for the wind speed
intervals, or <code>NA</code> (default).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col_pal</code></td>
<td>
<p>character string indicating the name of the
<code>RColorBrewer</code> colour palette to be
used for plotting, see 'Theme Selection' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ggtheme</code></td>
<td>
<p>character string (partially) matching the
<code>ggtheme</code> to be used for plotting, see
'Theme Selection' below.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_title</code></td>
<td>
<p>character string to be used for the legend title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calm_wind</code></td>
<td>
<p>the upper limit for wind speed that is considered calm
(default 0).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>variable_wind</code></td>
<td>
<p>numeric code for variable winds (if applicable).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>n_col</code></td>
<td>
<p>The number of columns of plots (default 1).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>further arguments passed to <code>theme</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This is intended to be used as a stand-alone function for any wind dataset. A
different windrose is plotted for each level of the faceting variable which
is coerced to a factor if necessary. The facets will generally be the station
where the data were collected, seasons or dates. Currently only one faceting
variable is allowed and is passed to <code>facet_wrap</code> with
the formula <code>~facet</code>.
</p>


<h3>Value</h3>

<p>a <code>ggplot</code> object.
</p>


<h3>Theme Selection</h3>

<p>For black and white windroses that may be preferred if plots are to be used
in journal articles for example, recommended <code>ggtheme</code>s are <code>'bw'</code>,
<code>'linedraw'</code>, <code>'minimal'</code> or <code>'classic'</code> and
the <code>col_pal</code> should be <code>'Greys'</code>. Otherwise, any of the sequential
<code>RColorBrewer</code> colour palettes are recommended for
colour plots.
</p>


<h3>See Also</h3>

<p><code>theme</code> for more possible arguments to pass to
<code>windrose</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R"># Create some dummy wind data with predominant south to westerly winds, and
# occasional yet higher wind speeds from the NE (not too dissimilar to
# Auckland).

wind_df = data.frame(wind_speeds = c(rweibull(80, 2, 4), rweibull(20, 3, 9)),
                     wind_dirs = c(rnorm(80, 135, 55), rnorm(20, 315, 35)) %% 360,
                     station = rep(rep(c("Station A", "Station B"), 2),
                                   rep(c(40, 10), each = 2)))

# Plot a simple windrose using all the defaults, ignoring any facet variable
with(wind_df, windrose(wind_speeds, wind_dirs))

# Create custom speed bins, add a legend title, and change to a B&amp;W theme
with(wind_df, windrose(wind_speeds, wind_dirs,
                       speed_cuts = c(3, 6, 9, 12),
                       legend_title = "Wind Speed\n(m/s)",
                       legend.title.align = .5,
                       ggtheme = "bw",
                       col_pal = "Greys"))

# Note that underscore-separated arguments come from the windrose method, and
# period-separated arguments come from ggplot2::theme().

# Include a facet variable with one level
with(wind_df, windrose(wind_speeds, wind_dirs, "Artificial Auckland Wind"))

# Plot a windrose for each level of the facet variable (each station)
with(wind_df, windrose(wind_speeds, wind_dirs, station, n_col = 2))

## Not run: 
# Save the plot as a png to the current working directory
library(ggplot2)
ggsave("my_windrose.png")

## End(Not run)

</code></pre>


</div>