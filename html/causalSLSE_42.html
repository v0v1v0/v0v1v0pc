<div class="container">

<table style="width: 100%;"><tr>
<td>slseKnots</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>
Knots Creator for Basis Functions
</h2>

<h3>Description</h3>

<p>The function creates an object of class <code>slseKnots</code> for
semiparametric least squares models. It returns an object of 
class <code>slseKnots</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">slseKnots(form, data, X, nbasis = function(n) n^0.3, 
          knots)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>form</code></td>
<td>
<p>A formula that determines the covariates to include in
the regression. It is a regular formula and only the right hand side
is considered.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>data</code></td>
<td>
<p>A <code>data.frame</code> with all variables included in
<code>form</code>. It is required when <code>X</code> is missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>nbasis</code></td>
<td>
<p>A function to determine the number of basis
functions. It has to be a function of one argument, the sample
size.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>knots</code></td>
<td>
<p>An optional list of knots. Each element of the list (one
for each covariate) is either a vector of numeric knots or it is
<code>NULL</code>. The latter implies that the number of knots is set to
0. If missing (the default), the knots are automatically generated
(see the details below).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>X</code></td>
<td>
<p>An optional matrix of covariates. When provided, <code>form</code>
is not needed.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The automatic selection is as follows. It is applied to each
variable created by the <code>model.matrix</code> of <code>form</code> except for
the intercept:
</p>
<p>The number of knots is the ceiling of what the <code>nbasis</code> function
returns minus 1. Let <code>p-1</code> be the number of knots. Then, we
compute the <code>p+1</code> empirical quantiles of the variable for equally
spaced probabilities going from 0 to 1 and drop the first and last
ones. This is done using the function <code>quantile</code> with
<code>type=1</code>. We then remove the duplicated values and the ones equal
to either the <code>min</code> or the <code>max</code> of the variable. if the number
of remaining knots is equal to 0, the set of knots for this variable
is set to <code>NULL</code>.
</p>
<p>For manual selection, see the vignette.
</p>


<h3>Value</h3>

<p>It returns an object of class <code>slseKnots</code>. It is a list for which
the length and names are respectively the number of columns and the
column names of the <code>model.matrix</code> of <code>form</code> after
the intercept has been removed. Each element is a numeric vector of
knots, unless the number of knots is set to 0, in  which case it is
<code>NULL</code>. 
</p>


<h3>Examples</h3>

<pre><code class="language-R">data(simDat3)
k &lt;- slseKnots(Y ~ X1 * X2, data = simDat3)
k

## We can extract the set for one variable

k$X1

</code></pre>


</div>