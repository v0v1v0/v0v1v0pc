<div class="container">

<table style="width: 100%;"><tr>
<td>add_Cscale</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add a color scale</h2>

<h3>Description</h3>

<p>Adds a color scale to plots. Default behavior set for bathymetry. May also be used to 
place a <code>legend</code>.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_Cscale(
  pos = "1/1",
  title = "Depth (m)",
  width = 18,
  height = 70,
  cuts = Depth_cuts,
  cols = Depth_cols,
  minVal = NA,
  maxVal = NA,
  fontsize = 1,
  offset = 100,
  lwd = 1,
  Titlefontsize = 1.2 * fontsize,
  TitleVAdj = 0,
  BoxAdj = c(0, 0, 0, 0),
  BoxCol = "black",
  BoxBG = "white",
  Clwd = 0,
  Ccol = "black",
  Cwdth = 1,
  TckL = 1,
  Tcklwd = 1,
  Tdist = 1,
  mode = "Cscale"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>pos</code></td>
<td>
<p>character, fraction indicating the vertical position of the color scale (which, by default, is on the 
right side of plots). if <code>pos="1/1"</code>, the color scale will be centered. 
if <code>pos="1/2"</code>, the color scale will be centered on the top half of the plotting region.
if <code>pos="2/2"</code>, the color scale will be centered on the bottom half of the plotting region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>title</code></td>
<td>
<p>character, title of the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>width</code></td>
<td>
<p>numeric, width of the color scale box, expressed in % of the width of the plotting region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>height</code></td>
<td>
<p>numeric, height of the color scale box, expressed in % of the height of the plotting region.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cuts</code></td>
<td>
<p>numeric, vector of color classes. May be generated via <code>add_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cols</code></td>
<td>
<p>character, vector of color names. May be generated via <code>add_col</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>minVal</code></td>
<td>
<p>numeric, if desired, the color scale may be generated starting from the value <code>minVal</code>. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>maxVal</code></td>
<td>
<p>numeric, if desired, the color scale may be generated up to the value <code>maxVal</code>. See examples.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fontsize</code></td>
<td>
<p>numeric, size of the text in the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>offset</code></td>
<td>
<p>numeric, controls the horizontal position of the color scale.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>numeric, thickness of lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Titlefontsize</code></td>
<td>
<p>numeric, size of the title text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TitleVAdj</code></td>
<td>
<p>numeric, vertical adjustment of the title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxAdj</code></td>
<td>
<p>numeric vector of 4 values to adjust the sides of the box, given as <code>c(bottom,left,top,right)</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxCol</code></td>
<td>
<p>Color of the legend box frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>BoxBG</code></td>
<td>
<p>Color of the legend box background.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Clwd</code></td>
<td>
<p>numeric, thickness of lines of cells.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Ccol</code></td>
<td>
<p>character, color of lines of cells, set to NA for no border.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Cwdth</code></td>
<td>
<p>numeric, positive factor to adjust the width of cells.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>TckL</code></td>
<td>
<p>numeric, positive factor to adjust the length of tick lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tcklwd</code></td>
<td>
<p>numeric, thickness of tick lines.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>Tdist</code></td>
<td>
<p>numeric, horizontal adjustment of labels text.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mode</code></td>
<td>
<p>character, if 'Cscale', the default, the function builds a color scale. if 'Legend', the function
gives you the location of a <code>legend</code>, arguments <code>pos</code>, <code>offset</code> and <code>height</code>
may be used for adjustments. See examples.</p>
</td>
</tr>
</table>
<h3>See Also</h3>

<p><code>load_Bathy</code>, <code>SmallBathy</code>, <code>Depth_cuts</code>, <code>Depth_cols</code>, 
<code>Depth_cuts2</code>, <code>Depth_cols2</code>, <code>add_col</code>, <code>add_Legend</code>,
<a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">R colors</a>, <code>legend</code>.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
# For more examples, see:
# https://github.com/ccamlr/CCAMLRGIS#5-adding-colors-legends-and-labels

library(terra)

#Example 1: Adding two color scales

plot(SmallBathy(),breaks=Depth_cuts,col=Depth_cols,legend=FALSE,axes=FALSE,box=FALSE)
add_Cscale(pos='1/2',height=45,maxVal=0,minVal=-4000,fontsize=0.8)
#Some gridded data
MyGrid=create_PolyGrids(GridData,dlon=2,dlat=1)
Gridcol=add_col(MyGrid$Catch_sum,cuts=10)
plot(st_geometry(MyGrid),col=Gridcol$varcol,add=TRUE)
#Add color scale using cuts and cols generated by add_col, note the use of 'round'
add_Cscale(pos='2/2',height=45,title='Catch (t)',
           cuts=round(Gridcol$cuts,1),cols=Gridcol$cols,fontsize=0.8)

#Example 2: Adding a color scale and a legend

#Create some point data
MyPoints=create_Points(PointData)

#Crop the bathymetry to match the extent of MyPoints 

BathyCr=crop(SmallBathy(),extend(ext(MyPoints),100000))
plot(BathyCr,breaks=Depth_cuts,col=Depth_cols,legend=FALSE,axes=FALSE,mar=c(0,0,0,7))
add_Cscale(pos='1/2',height=45,maxVal=0,minVal=-4000,fontsize=0.8)

#Plot points with different symbols and colors (see ?points)
Psymbols=c(21,22,23,24)
Pcolors=c('red','green','blue','yellow')
plot(st_geometry(MyPoints[MyPoints$name=='one',]),pch=Psymbols[1],bg=Pcolors[1],add=TRUE)
plot(st_geometry(MyPoints[MyPoints$name=='two',]),pch=Psymbols[2],bg=Pcolors[2],add=TRUE)
plot(st_geometry(MyPoints[MyPoints$name=='three',]),pch=Psymbols[3],bg=Pcolors[3],add=TRUE)
plot(st_geometry(MyPoints[MyPoints$name=='four',]),pch=Psymbols[4],bg=Pcolors[4],add=TRUE)

#Add legend with position determined by add_Cscale
Loc=add_Cscale(pos='2/2',height=45,mode='Legend')
legend(Loc,legend=c('one','two','three','four'),title='Vessel',pch=Psymbols,
pt.bg=Pcolors,xpd=TRUE)

</code></pre>


</div>