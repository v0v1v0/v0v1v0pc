<div class="container">

<table style="width: 100%;"><tr>
<td>cc_coun</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Identify Coordinates Outside their Reported Country</h2>

<h3>Description</h3>

<p>Removes or flags mismatches between geographic coordinates and additional
country information (usually this information is reliably reported with
specimens). Such a mismatch can occur for example, if latitude and longitude
are switched.
</p>


<h3>Usage</h3>

<pre><code class="language-R">cc_coun(
  x,
  lon = "decimalLongitude",
  lat = "decimalLatitude",
  iso3 = "countrycode",
  value = "clean",
  ref = NULL,
  ref_col = "iso_a3",
  verbose = TRUE,
  buffer = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>data.frame. Containing geographical coordinates and species names.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lon</code></td>
<td>
<p>character string. The column with the longitude coordinates.
Default = “decimalLongitude”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lat</code></td>
<td>
<p>character string. The column with the latitude coordinates.
Default = “decimalLatitude”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iso3</code></td>
<td>
<p>a character string. The column with the country assignment of
each record in three letter ISO code. Default = “countrycode”.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>value</code></td>
<td>
<p>character string.  Defining the output value. See value.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref</code></td>
<td>
<p>SpatVector (geometry: polygons). Providing the geographic
gazetteer. Can be any SpatVector (geometry: polygons), but the structure
must be identical to <code>rnaturalearth::ne_countries(scale = "medium",
returnclass = "sf")</code>.
Default = <code>rnaturalearth::ne_countries(scale = "medium", returnclass =
"sf")</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ref_col</code></td>
<td>
<p>the column name in the reference dataset, containing the
relevant ISO codes for matching. Default is to "iso_a3_eh" which refers to
the ISO-3 codes in the reference dataset. See notes.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>logical. If TRUE reports the name of the test and the number
of records flagged.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>buffer</code></td>
<td>
<p>numeric. Units are in meters. If provided, a buffer is
created around each country polygon.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Depending on the ‘value’ argument, either a <code>data.frame</code>
containing the records considered correct by the test (“clean”) or a
logical vector (“flagged”), with TRUE = test passed and FALSE = test
failed/potentially problematic . Default = “clean”.
</p>


<h3>Note</h3>

<p>The ref_col argument allows to adapt the function to the structure of
alternative reference datasets. For instance, for
<code>rnaturalearth::ne_countries(scale = "small")</code>, the default will fail,
but ref_col = "iso_a3" will work.
</p>
<p>With the default reference, records are flagged if they fall outside
the terrestrial territory of countries, hence records in territorial waters
might be flagged. See <a href="https://ropensci.github.io/CoordinateCleaner/">https://ropensci.github.io/CoordinateCleaner/</a>
for more details and tutorials.
</p>


<h3>See Also</h3>

<p>Other Coordinates: 
<code>cc_aohi()</code>,
<code>cc_cap()</code>,
<code>cc_cen()</code>,
<code>cc_dupl()</code>,
<code>cc_equ()</code>,
<code>cc_gbif()</code>,
<code>cc_inst()</code>,
<code>cc_iucn()</code>,
<code>cc_outl()</code>,
<code>cc_sea()</code>,
<code>cc_urb()</code>,
<code>cc_val()</code>,
<code>cc_zero()</code>
</p>


<h3>Examples</h3>

<pre><code class="language-R">
## Not run: 
x &lt;- data.frame(species = letters[1:10],
                decimalLongitude = runif(100, -20, 30),
                decimalLatitude = runif(100, 35,60),
                countrycode = "RUS")

cc_coun(x, value = "flagged")#non-terrestrial records are flagged as wrong.

## End(Not run)

</code></pre>


</div>