<div class="container">

<table style="width: 100%;"><tr>
<td>get_seq_cos_sim</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculate cosine similarities between target word and candidates words over
sequenced variable using ALC embedding approach</h2>

<h3>Description</h3>

<p>Calculate cosine similarities between target word and candidates words over
sequenced variable using ALC embedding approach
</p>


<h3>Usage</h3>

<pre><code class="language-R">get_seq_cos_sim(
  x,
  seqvar,
  target,
  candidates,
  pre_trained,
  transform_matrix,
  window = 6,
  valuetype = "fixed",
  case_insensitive = TRUE,
  hard_cut = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>(character) vector - this is the set of documents (corpus) of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>seqvar</code></td>
<td>
<p>ordered variable such as list of dates or ordered iseology scores</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>target</code></td>
<td>
<p>(character) vector - target word</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>candidates</code></td>
<td>
<p>(character) vector of features of interest</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pre_trained</code></td>
<td>
<p>(numeric) a F x D matrix corresponding to pretrained embeddings.
F = number of features and D = embedding dimensions.
rownames(pre_trained) = set of features for which there is a pre-trained embedding.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transform_matrix</code></td>
<td>
<p>(numeric) a D x D 'a la carte' transformation matrix.
D = dimensions of pretrained embeddings.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>window</code></td>
<td>
<p>(numeric) - defines the size of a context (words around the target).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>valuetype</code></td>
<td>
<p>the type of pattern matching: <code>"glob"</code> for "glob"-style
wildcard expressions; <code>"regex"</code> for regular expressions; or <code>"fixed"</code> for
exact matching. See valuetype for details.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>case_insensitive</code></td>
<td>
<p>logical; if <code>TRUE</code>, ignore case when matching a
<code>pattern</code> or dictionary values</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>hard_cut</code></td>
<td>
<p>(logical) - if TRUE then a context must have <code>window</code> x 2 tokens,
if FALSE it can have <code>window</code> x 2 or fewer (e.g. if a doc begins with a target word,
then context will have <code>window</code> tokens rather than <code>window</code> x 2)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>verbose</code></td>
<td>
<p>(logical) - if TRUE, report the total number of target instances found.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>a data.frame with one column for
each candidate term with corresponding cosine similarity values
and one column for seqvar.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
library(quanteda)

# gen sequence var (here: year)
docvars(cr_sample_corpus, 'year') &lt;- rep(2011:2014, each = 50)
cos_simsdf &lt;- get_seq_cos_sim(x = cr_sample_corpus,
seqvar = docvars(cr_sample_corpus, 'year'),
target = "equal",
candidates = c("immigration", "immigrants"),
pre_trained = cr_glove_subset,
transform_matrix = cr_transform)
</code></pre>


</div>