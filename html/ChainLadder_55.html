<div class="container">

<table style="width: 100%;"><tr>
<td>Mse-methods</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2> Methods for Generic Function Mse </h2>

<h3>Description</h3>

<p><code>Mse</code> is a generic function to calculate mean square error estimations in the chain-ladder framework. 
</p>


<h3>Usage</h3>

<pre><code class="language-R">Mse(ModelFit, FullTriangles, ...)

## S4 method for signature 'GMCLFit,triangles'
Mse(ModelFit, FullTriangles, ...)
## S4 method for signature 'MCLFit,triangles'
Mse(ModelFit, FullTriangles, mse.method="Mack", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>ModelFit</code></td>
<td>
<p>An object of class "GMCLFit" or "MCLFit". </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FullTriangles</code></td>
<td>
<p>An object of class "triangles". Should be the output from a call of <code>predict</code>. </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mse.method</code></td>
<td>
<p>Character strings that specify the MSE estimation method. Only works for "MCLFit". Use <code>"Mack"</code> for the generazliation of the Mack (1993) approach, and <code>"Independence"</code> for the conditional resampling approach in Merz and Wuthrich (2008).   </p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Currently not used. </p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>These functions calculate the conditional mean square errors using the recursive formulas in Zhang (2010), which is a generalization of the Mack (1993, 1999) formulas. In the GMCL model, the conditional  mean square error for single accident years and aggregated accident years are calcualted as:
</p>
<p style="text-align: center;"><code class="reqn">\hat{mse}(\hat{Y}_{i,k+1}|D)=\hat{B}_k \hat{mse}(\hat{Y}_{i,k}|D) \hat{B}_k + (\hat{Y}_{i,k}' \otimes I) \hat{\Sigma}_{B_k} (\hat{Y}_{i,k} \otimes I) +  \hat{\Sigma}_{\epsilon_{i_k}}.</code>
</p>

<p style="text-align: center;"><code class="reqn">\hat{mse}(\sum^I_{i=a_k}\hat{Y}_{i,k+1}|D)=\hat{B}_k \hat{mse}(\sum^I_{i=a_k+1}\hat{Y}_{i,k}|D) \hat{B}_k + (\sum^I_{i=a_k}\hat{Y}_{i,k}' \otimes I) \hat{\Sigma}_{B_k} (\sum^I_{i=a_k}\hat{Y}_{i,k} \otimes I) +  \sum^I_{i=a_k}\hat{\Sigma}_{\epsilon_{i_k}} .</code>
</p>

<p>In the MCL model, the conditional mean square error from Merz and WÃ¼thrich (2008) is also available, which can be shown to be equivalent as the following:
</p>
<p style="text-align: center;"><code class="reqn">\hat{mse}(\hat{Y}_{i,k+1}|D)=(\hat{\beta}_k \hat{\beta}_k') \odot \hat{mse}(\hat{Y}_{i,k}|D)  + \hat{\Sigma}_{\beta_k} \odot (\hat{Y}_{i,k} \hat{Y}_{i,k}') +  \hat{\Sigma}_{\epsilon_{i_k}} +\hat{\Sigma}_{\beta_k} \odot \hat{mse}^E(\hat{Y}_{i,k}|D) .</code>
</p>

<p style="text-align: center;"><code class="reqn">\hat{mse}(\sum^I_{i=a_k}\hat{Y}_{i,k+1}|D)=(\hat{\beta}_k \hat{\beta}_k') \odot \sum^I_{i=a_k+1}\hat{mse}(\hat{Y}_{i,k}|D)  + \hat{\Sigma}_{\beta_k} \odot (\sum^I_{i=a_k}\hat{Y}_{i,k} \sum^I_{i=a_k}\hat{Y}_{i,k}') +  \sum^I_{i=a_k}\hat{\Sigma}_{\epsilon_{i_k}} 
 +\hat{\Sigma}_{\beta_k} \odot \sum^I_{i=a_k}\hat{mse}^E(\hat{Y}_{i,k}|D) .</code>
</p>

<p>For the Mack approach in the MCL model, the cross-product term <code class="reqn">\hat{\Sigma}_{\beta_k} \odot \hat{mse}^E(\hat{Y}_{i,k}|D) </code>in the above two formulas will drop out.
</p>


<h3>Value</h3>

<p><code>Mse</code>  returns an object of class "MultiChainLadderMse" that has  the following elements:
</p>
<table>
<tr style="vertical-align: top;">
<td><code>mse.ay</code></td>
<td>
<p>condtional mse for each accdient year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mse.ay.est</code></td>
<td>
<p>conditional estimation mse for each accdient year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mse.ay.proc</code></td>
<td>
<p>conditional process mse for each accdient year</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mse.total</code></td>
<td>
<p>condtional mse for aggregated accdient years</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mse.total.est</code></td>
<td>
<p>conditional estimation mse for aggregated accdient years</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mse.total.proc</code></td>
<td>
<p>conditional process mse for aggregated accdient years</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FullTriangles</code></td>
<td>
<p>completed triangles</p>
</td>
</tr>
</table>
<h3>Author(s)</h3>

<p>Wayne Zhang <a href="mailto:actuary_zhang@hotmail.com">actuary_zhang@hotmail.com</a></p>


<h3>References</h3>

<p><cite>Zhang Y (2010). A general multivariate chain ladder model.<em>Insurance: Mathematics and Economics</em>, 46, pp. 588-599.</cite>
</p>
<p><cite>Zhang Y (2010). Prediction error of the general multivariate chain ladder model.</cite>
</p>


<h3>See Also</h3>

<p> See also <code>MultiChainLadder.</code>
</p>


</div>