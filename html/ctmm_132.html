<div class="container">

<table style="width: 100%;"><tr>
<td>video</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Video record animated telemetry objects.</h2>

<h3>Description</h3>

<p>Produces an MP4 video file by animating telemetry objects.
</p>


<h3>Usage</h3>

<pre><code class="language-R">video(x,ext=extent(x),fps=60,dt=NULL,ghost=0,timestamp=FALSE,file="ctmm.mp4",res=720,
      col="red",pch=1,cex=NULL,lwd=1,par.list=list(),...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p><code>telemetry</code> object or list of <code>telemetry</code> objects.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ext</code></td>
<td>
<p>Plot extent for all frames.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fps</code></td>
<td>
<p>Frames per viewed second.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dt</code></td>
<td>
<p>Tracked time per frame (not per viewed second). By default, the median timestep will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ghost</code></td>
<td>
<p>Timescale over which image retention (ghosting) decays.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>timestamp</code></td>
<td>
<p>Display timestamps on title.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>file</code></td>
<td>
<p>File name for MP4 file to save. The full path can also be specified. Otherwise the working directory will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>res</code></td>
<td>
<p>Pixel resolution for square videos or pixel <code>c(width,height)</code> for rectangular videos.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>Color option for telemetry data. Can be an array or list of arrays.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pch</code></td>
<td>
<p>Plotting symbol. Can be an array or list of arrays.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cex</code></td>
<td>
<p>Relative size of plotting symbols. Only used when errors are missing.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>lwd</code></td>
<td>
<p>Line widths of <code>telemetry</code> points.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>par.list</code></td>
<td>
<p>List of additional arguments passed to <code>par</code> within <code>animate</code> that do not work outside of <code>animate</code>, like <code>mar</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p> Additional options passed to <code>plot.telemetry</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function does not interpolate locations to make smooth animations. For that, please use <code>predict</code> or <code>simulate</code> outputs instead of a raw tracking data.</p>


<h3>Value</h3>

<p>Saves an MP4 file named <code>file</code> to the working directory.</p>


<h3>Note</h3>

<p>Further <code>animation</code> and ffmpeg options can be set via <code>ani.options</code>.</p>


<h3>Author(s)</h3>

<p>C. H. Fleming.</p>


<h3>See Also</h3>

 <p><code>plot</code>, <code>plot.telemetry</code>, <code>ani.options</code></p>


<h3>Examples</h3>

<pre><code class="language-R">
# Load package and data
library(ctmm)
data(coati)

# temporary file to store videos for CRAN compliance
FILE &lt;- tempfile("ctmm",fileext=".mp4")
# you will likely want to save your video elsewhere
# the working directory is the default location

# create guess object
GUESS &lt;- ctmm.guess(coati[[2]],interactive=FALSE)
# in general, use ctmm.select instead of ctmm.fit
FIT &lt;- ctmm.fit(coati[[2]],GUESS)

# consider a few hours of consecutive sampling, at 1 minute per frame
t &lt;- seq(coati[[2]]$t[19],coati[[2]]$t[27],by=60)

# tau[velocity] is a natural scale to demonstrate persistance of motion
ghost &lt;- FIT$tau[2]

# predicted locations each minute
PRED &lt;- predict(coati[[2]],FIT,t=t)

# most likely path
video(PRED,error=FALSE,pch=16,ghost=ghost,file=FILE)

# prediction (distribution)
video(PRED,error=3,file=FILE)

# conditional simulations
SIMS &lt;- lapply(1:6,function(i){simulate(coati[[2]],FIT,t=t)})

# random paths
video(SIMS,pch=16,ghost=ghost,file=FILE)
</code></pre>


</div>