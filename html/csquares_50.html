<div class="container">

<table style="width: 100%;"><tr>
<td>resample_csquares</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Resample csquares to a different resolution</h2>

<h3>Description</h3>

<p>Resample csquares objects to higher or lower resolutions.
</p>


<h3>Usage</h3>

<pre><code class="language-R">resample_csquares(x, method = "target", ..., resolution, magnitude = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>A <code>csquares</code> object to be resampled to a different resolution</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>method</code></td>
<td>
<p>Method for determining the resolution of the resulting csquares.
Should be one of <code>"target"</code>, <code>"min"</code>, <code>"max"</code>, <code>"up"</code>, or <code>"down"</code>.
<code>"target"</code> will resample <code>x</code> to the level specified with <code>resolution</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>When <code>x</code> inherits the <code>stars</code> class and the resulting object has
a lower resolution than <code>x</code>, the dots are passed on to <code>dplyr::summarise()</code>.
This allows you to summarise columns to the lower resolution.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>resolution</code></td>
<td>
<p>Resolution (in WGS84 degrees) to be used for creating c-squares codes.
As per c-square specifications, the resolution should be 10 or less, yet greater than 0.
It should be a tenfold of 1 or 5. Valid resolutions are therefore: 10, 5, 1, 0.5, 0.1, etc.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>magnitude</code></td>
<td>
<p>When <code>method == "up"</code> or <code>"down"</code>, this parameter specifies
the number of steps to increase or decrease the resolution. Should be a positive
integer.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A <code>csquares</code> object based on <code>x</code>
</p>


<h3>Author(s)</h3>

<p>Pepijn de Vries
</p>


<h3>Examples</h3>

<pre><code class="language-R">csq    &lt;- as_csquares(c("1000", "5000:2|5000:100", "3000:100:100"))
csq_df &lt;- as_csquares(data.frame(csq = csq, foobar = letters[1:3]), csquares = "csq")

## Resample csquares based on the one with the lowest resolution:
resample_csquares(csq,    "min")

## Resample csquares to a specific resolution
resample_csquares(csq,    "target", resolution = 5)

## Same, but applied to a csquares object inheriting from a data.frame
resample_csquares(csq_df, "target", resolution = 5)

## Same, but applied to a csquares object inheriting the `sf` class
## Note that the geometry is updated based on the resampled csquares
if (requireNamespace("sf")) {
  library(sf)
  csq_sf &lt;- st_as_sf(csq_df)
  resample_csquares(csq_sf, "target", resolution = 5)
}

## Resample csquares one step down.
resample_csquares(csq,    "down")
resample_csquares(csq_df, "down")

if (requireNamespace(c("dplyr", "stars"))) {
  ## Csquares objects can inherit from the stars class as well.
  ## These too can be resampled. But additional columns need
  ## to be summarised when the resulting resolution is lower
  ## than the original:
  g &lt;-
    sf::st_bbox(c(xmin = 4.0, xmax = 6.5, ymin = 52.5, ymax = 53), crs = 4326) |&gt;
      new_csquares(resolution = 0.1) |&gt;
      ## add a column with some random positive numbers:
      dplyr::mutate(random = .data$csquares |&gt; length() |&gt; rnorm() |&gt; exp())

  ## Resample stars object to lower resolution
  g_sum &lt;- resample_csquares(g, resolution = 10, random = sum(random, na.rm = TRUE))

  ## And back to a higher resolution (note that you have lost information as it was summarised
  ## in the previous step)
  resample_csquares(g_sum, "up", random = sum(random, na.rm = TRUE))
}
</code></pre>


</div>