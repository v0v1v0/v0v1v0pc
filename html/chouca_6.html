<div class="container">

<table style="width: 100%;"><tr>
<td>landscape_plotter</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Plot simulation landscapes</h2>

<h3>Description</h3>

<p>This function creates an internal function to plot the model
landscape during the simulation of a stochastic cellular automaton.
</p>


<h3>Usage</h3>

<pre><code class="language-R">landscape_plotter(
  mod,
  col = NULL,
  fps_cap = 24,
  burn_in = 0,
  transpose = TRUE,
  new_window = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>mod</code></td>
<td>
<p>The model being used (created by <code>link{camodel}</code>)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>col</code></td>
<td>
<p>a set of colors (character vector) of length equal to the number of
states in the model.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fps_cap</code></td>
<td>
<p>The maximum number of frame displayed per seconds. Simulation
will be slowed down if necessary so that plot updates will not be
more frequent than this value</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>burn_in</code></td>
<td>
<p>Do not display anything before this time step has been
reached</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>transpose</code></td>
<td>
<p>Set to <code>TRUE</code> to transpose the landscape matrix
before displaying it <code>image</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>new_window</code></td>
<td>
<p>Controls whether the plots are displayed in a new window,
or in the default device (typically the plot panel in Rstudio)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>other arguments are passed to <code>image</code></p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>This function creates another function that is suitable for use with
<code>run_camodel</code>. It allows plotting the landscape as it is being
simulated, using the base function <code>image</code>. You can set
colors using the argument <code>col</code>, or tranpose the landscape before
plotting using <code>transpose</code>. The resulting function must by passed to
<code>run_camodel</code> as the control argument <code>custom_output_fun</code>.
Typically, this function is not used by itself, but is being used when
specifying simulation options before calling <code>run_camodel</code>,
see examples below.
</p>
<p><code>image</code> is used internally, and tends to be quite slow at
displaying results, but if it is still too fast for your taste, you can cap the
refresh rate at a value given by the argument <code>fps_cap</code>.
</p>
<p>It is important to note that this function will probably massively slow
down a simulation, so this is most useful for exploratory analyses.
</p>


<h3>Value</h3>

<p>This function returns another function, which will be called internally 
when simulating the model using <code>run_camodel</code>, and has probably 
not much use outside of this context. The return function will display the 
simulation and returns NULL.
</p>


<h3>See Also</h3>

<p>trace_plotter, run_camodel
</p>


<h3>Examples</h3>

<pre><code class="language-R">


# Display the psychedelic spirals of the rock-paper-scissor model as the model is
# being run
mod &lt;- ca_library("rock-paper-scissor")
colors &lt;- c("#fb8500", "#023047", "#8ecae6")
ctrl &lt;- list(custom_output_every = 1,
             custom_output_fun = landscape_plotter(mod, col = colors))
init &lt;- generate_initmat(mod, rep(1, 3)/3, nrow = 100, ncol = 178)
run_camodel(mod, init, times = seq(0, 128), control = ctrl)

# Arid vegetation model
mod &lt;- ca_library("aridvege")
init &lt;- generate_initmat(mod, rep(1, 3)/3, nrow = 100, ncol = 178)
colors &lt;- c("gray80", "white", "darkgreen")
ctrl &lt;- list(custom_output_every = 1,
             custom_output_fun = landscape_plotter(mod, col = colors, xaxt = "n",
                                                   yaxt = "n"))
run_camodel(mod, init, times = seq(0, 128), control = ctrl)

# Game of life, set plot margins to zero so that the landscape takes all
# of the plot window
mod &lt;- ca_library("gameoflife")
init &lt;- generate_initmat(mod, c(0.5, 0.5), nrow = 100, ncol = 178)
colors &lt;- c("white", "black")
ctrl &lt;- list(custom_output_every = 1,
             custom_output_fun = landscape_plotter(mod, col = colors,
                                                   mar = c(0, 0, 0, 0)))
run_camodel(mod, init, times = seq(0, 128), control = ctrl)



</code></pre>


</div>