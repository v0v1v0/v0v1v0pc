<div class="container">

<table style="width: 100%;"><tr>
<td>user.baseline</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Calculating baseline functions from a user-specified baseline hazard function</h2>

<h3>Description</h3>

<p>This function is called by <code>sim.survdata</code> and is not intended to be used by itself.
</p>


<h3>Usage</h3>

<pre><code class="language-R">user.baseline(user.fun, T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>user.fun</code></td>
<td>
<p>A user-specified R function with one argument, representing time, that outputs the baseline hazard function</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>T</code></td>
<td>
<p>The latest time point during which an observation may fail. Failures can occur
as early as 1 and as late as T</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>user.baseline</code> takes a function as a user-specified baseline hazard which must have
only one argument: time.  <code>user.baseline</code> approximates the cumulative baseline hazard by taking the
cumulative sum of the user-specified hazard function. It calculates the survivor function by exponentiating
the cumulative baseline hazard time -1, the baseline failure CDF by subtracting the survivor function from 1,
and it approximates the baseline failure PDF by taking the first difference of the failure CDF.
survivor function, and baseline failure-time PDF and CDF.
</p>


<h3>Value</h3>

<p>A data frame with five columns representing time from 1 to T, and the user-specified baseline hazard,
cumulative hazard, survivor function, failure PDF and failure CDF at each time point.
</p>


<h3>Author(s)</h3>

<p>Jonathan Kropko &lt;jkropko@virginia.edu&gt; and Jeffrey J. Harden &lt;jharden2@nd.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Writing the hazard to be lognormal with mean of 50, sd of 10
my.hazard &lt;- function(t){
     dnorm((log(t) - log(50))/log(10)) /
          (log(10)*t*(1 - pnorm((log(t) - log(50))/log(10))))
}
lognormal.functions &lt;- user.baseline(my.hazard, 100)
summary(lognormal.functions)

#A customized user-specified hazard
sine.squared.hazard &lt;- user.baseline(function(t) sin(t/25)^2, 30)
summary(sine.squared.hazard)
</code></pre>


</div>